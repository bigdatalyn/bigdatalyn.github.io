<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">
    <meta name="dcterms.created" content="Fri, 09 Oct 2015 17:09:10 GMT">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title>Application Containers</title>
    <style type='text/css'>
    	   html, body {height: 100%; margin: 0; font-family: sans-serif}
    	   #content {width: 100%; height: 100%}
   		   #left {width: 250px; height: 100%; float: left; position:fixed; padding-left: 20px; padding-right: 40px; background-color: rgb(255, 37, 0); font-size: large}
   		   #right {margin-left: 250px; height: 100%; padding-top: 30px; padding-right: 80px; padding-left:150px; font-size:medium}
		   #list {margin-bottom: 40px; color: white}
		   #list2 {margin-bottom: 10px; color: black}

		   a.class1:link {color: white}
           a.class1:visited {color: white}
           a.class1:hover{color: black}
           
           a.class2:link {color: black}
           a.class2:visited {color: black}
           a.class2:hover{color: black}

    </style>
    <!--[if IE]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  		<div id='content'>
   			 <div id='left'>
				  <a href="http://www.oracle.com/index.html" target="_blank">
					<img src="oracle.png" alt="Oracle" width="250" height="150">
				  </a>
			 	  <ul>
				  	  <li id="list"><a style="text-decoration: none" href="index.html" class="class1"><b>Home</b></a></li>
				  	  <li id="list"><a style="text-decoration: none" href="begin.html" class="class1"><b>Before you begin</b></a></li>
				  	  <li id="list"><a style="text-decoration: none" href="provisioning.html" class="class1"><b>Provisioning</b></a></li>
				  	  <li id="list"><a style="text-decoration: none" href="lockdown.html" class="class1"><b>Lockdown Profiles</b></a></li>
					  <li id="list"><a style="text-decoration: none" href="AppContainer.html" class="class1"><b>Application Containers</b></a></li>
				  </ul>
			 </div>
  			 <div id='right'> <CENTER><u><h2>Application Containers</h2></u></CENTER>
  			 <h3>Lab 4: Application Root Clones and Application Compatibility</h3>
  			 <h4>Overview</h4>
  			 <p>In this <span class=GramE>lab</span> we explore an important
implementation detail of upgrades within Application Container. Application
Root Clones are used to provide continuous availability of Application PDBs
during the upgrade of the master Application Root. The Application Root Clones
serve metadata and common data. There are no Services associated with an
Application Root Clone. <span class=GramE>Therefore</span> it is not possible
to connect to an Application Root Clone. However, they are visible, as we shall
see in this lab. After the upgrade has completed and all Application PDBs have
been synced it is possible to drop these Application Root Clones. This is achieved
by setting Application Compatibility to a higher level than the Application
version associated with the Clone. When this has happened, the Application Root
Clone is of no further use and is dropped. Let's get started! 
			 <br>
			 <br>
			 <CENTER><img width=792 height=446 src="wmLab04.fld/image001.gif" alt="Application Containers"></CENTER>
			 </p>
			 
			 <h4>Execution</h4>
			 <ul>
					<li> Open a terminal window </li>
                	<li> Change directory to <b>/u01/HOL/app_containers/</b> </li>
                	<li> source the environment. At command prompt execute <b>source cdb1.env </b></li>
                	<li> <b>sqlplus /nolog</b> </li>
               	 	<li> At the SQL prompt execute <b> SQL>@04.Root_Clone_Compatibility.sql </b> </li>
				</ul>
			 
			 <h4>Review of Application Container Lab4:</h4>
			 <p class=MsoNormal>In this lab, we have seen the Application Root Clones,
automatically created during the application upgrade. By setting Application
Compatible to a version greater than that of the Application Root Clones, they
are no longer required and are automatically dropped.</p>

			 <h4>Detailed Steps</h4>
<h4>Phase 1. Show containers in CDB1.</h4>

<p class=MsoNormal>The Application Container has a rather cryptic name! Notice
also <span class=SpellE>wmStore_Master$Seed</span> – the application Seed PDB.</p>


<h4>Phase 2. Connect to Master Application Root and attempt to set application compatible
to version 2.0.</h4>

<p class=MsoNormal>Notice the error message. v2.0 is an invalid version for
Application Compatibility because there is still an Application PDB – NYC –
which is not yet at this version. The following query can identify which PDBs
are yet to be upgraded. Here we see that two PDBs – NYC and <span class=SpellE>wmStore_Master$Seed</span>
– are still at v1.0. We shall explore more DBA Views relevant to Application
Containers in Lab 9. Let's sync the remaining Application PDB, so that all
franchises are at v2.0. We also need to upgrade the Application Seed PDB.</p>


<h4>Phase 3. Upgrade remaining PDBs to v2.0.</h4>

<p class=MsoNormal>All Application PDBs are now at v2.0. We should now be able
to set Application Compatibility to v2.0 with no problem. Now, let's confirm
that Application Root Replicas have been removed.</p>

				<a style="text-decoration: underline" href="AppContainerLab5.html"><b>Click Here to Go to Lab 5</b></a>
			  
			<br>
			<br>
			<br>
			<br>
			  
			 </div>
		</div>
  </body>
</html>
