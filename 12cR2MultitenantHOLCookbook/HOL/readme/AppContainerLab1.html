<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)">
    <meta name="dcterms.created" content="Fri, 09 Oct 2015 17:09:10 GMT">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title>Application Containers</title>
    <style type='text/css'>
    	   html, body {height: 100%; margin: 0; font-family: sans-serif}
    	   #content {width: 100%; height: 100%}
   		   #left {width: 250px; height: 100%; float: left; position:fixed; padding-left: 20px; padding-right: 40px; background-color: rgb(255, 37, 0); font-size: large}
   		   #right {margin-left: 250px; height: 100%; padding-top: 30px; padding-right: 80px; padding-left:150px; font-size:medium}
		   #list {margin-bottom: 40px; color: white}
		   #list2 {margin-bottom: 10px; color: black}

		   a.class1:link {color: white}
           a.class1:visited {color: white}
           a.class1:hover{color: black}
           
           a.class2:link {color: black}
           a.class2:visited {color: black}
           a.class2:hover{color: black}

    </style>
    <!--[if IE]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  		<div id='content'>
   			 <div id='left'>
				  <a href="http://www.oracle.com/index.html" target="_blank">
					<img src="oracle.png" alt="Oracle" width="250" height="150">
				  </a>
			 	  <ul>
				  	  <li id="list"><a style="text-decoration: none" href="index.html" class="class1"><b>Home</b></a></li>
				  	  <li id="list"><a style="text-decoration: none" href="begin.html" class="class1"><b>Before you begin</b></a></li>
				  	  <li id="list"><a style="text-decoration: none" href="provisioning.html" class="class1"><b>Provisioning</b></a></li>
				  	  <li id="list"><a style="text-decoration: none" href="lockdown.html" class="class1"><b>Lockdown Profiles</b></a></li>
					  <li id="list"><a style="text-decoration: none" href="AppContainer.html" class="class1"><b>Application Containers</b></a></li>
				  </ul>
			 </div>
  			 <div id='right'> <CENTER><u><h2>Application Containers</h2></u></CENTER>
  			 <h3>Lab 1: Instant SaaS Architecture</h3>
  			 <h4>Overview</h4>
  			 <p>Lab 1 shows how Multitenant with Application Containers
				provides an instant SaaS architecture for an application formerly architected
				for standalone deployment.  
			 <br>
			 <br>
			 <CENTER><img width=792 height=446 src="wmLab01.fld/image001.gif" alt="Application Containers"></CENTER>
			 </p>
			 
			 <h4>Execution</h4>
			 	<ul>
					<li> Open a terminal window </li>
                	<li> Change directory to <b>/u01/HOL/app_containers/</b> </li>
                	<li> source the environment. At command prompt execute <b>source cdb1.env </b></li>
                	<li> <b>sqlplus /nolog</b> </li>
               	 	<li> At the SQL prompt execute <b> SQL>@01.Instant_SaaS.sql </b> </li>
				</ul> 
				<p>Simply start the script and follow what’s happening in the
				script. Ample explanation accompanies the commands to explain what we're doing.
				The script execution will pause periodically to allow you to review and read
				about what’s happening. When you’re ready for the script to advance, press
				[Enter] and execution will proceed.</p>
			 <h4>Review of Application Container Lab1:</h4>
			 <p class=MsoNormal>In this lab, we have worked through the following stages:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:21.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l1 level1 lfo2'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Setup Application Root - <span class=SpellE>wmStore_Master</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:21.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l1 level1 lfo2'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Install v1 of Application <span class=SpellE>wmStore</span>
in Application Root</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:21.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l1 level1 lfo2'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Create and sync Application Seed and provision
Application PDBs for four franchises:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:39.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l2 level1 lfo9'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Tulsa</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:39.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l2 level1 lfo9'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>California</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:39.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l2 level1 lfo9'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Tahoe</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:39.0pt;mso-add-space:
auto;text-indent:-.25in;mso-list:l2 level1 lfo9'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>NYC</p>

<p class=MsoListParagraphCxSpLast style='margin-left:21.0pt;mso-add-space:auto;
text-indent:-.25in;mso-list:l1 level1 lfo2'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Populate Application Tenant PDBs with demo data.</p>


<p class=MsoNormal>This demonstrates how Multitenant with Application
Containers delivers an &quot;Instant SaaS&quot; architecture, for an
application definition previously architected for standalone deployment. You
are now encouraged to execute some queries against the various franchise PDBs.
Sample queries can be found in file Lab1_Queries.sql.</p>
			 
			 <h4>Detailed Steps</h4>
			 <h4>Phase 1. Create and Open Master Application Root.</h4>

<p class=MsoNormal>Now we have an Application Root. Next, we have to install
the master definition of the application <span class=SpellE>wmStore</span>
(Walt's Malts Store<span class=GramE>).Let's</span> get on with that...</p>

<h5>Phase 2. Define Application Master.</h5>

<h5>Phase 2a. Begin the master application definition.</h5>

<h5>Phase 2b. Create tablespace and Application Common User.</h5>

<p class=MsoNormal>What now follows is the standard installation script for the
application. Note that this is basically unchanged from the application
installation script that would have been run for a standalone installation in a
non-CDB.</p>

<h5>Phase 2c. Standard Application Installation.</h5>

<p class=MsoNormal>In the preceding <span class=GramE>section</span> we
installed the master application definition in our application root, <span
class=SpellE>wmStore_Master</span>. This process started with the statement:</p>

<p class=MsoNormal style='margin-left:.5in'><span style='font-family:Courier'>alter
pluggable database application <span class=SpellE>wmStore</span> begin install
'1.0'<o:p></o:p></span></p>

<p class=MsoNormal>Following this we had a standard application installation
script. We now <span class=GramE>have to</span> designate the end of the master
application definition.</p>

<p class=MsoNormal>We have now created the Application Root and installed the
master application definition. <span class=GramE>Next</span> we create the
Application Seed and sync it with the application master. Following that, we
can provision Application PDBs for new tenant / franchises.</p>


<h4>Phase 3: Create Application Seed and Provision Application PDBs.</h4>

<h5>Phase 3.1. Create and open the Master Application Seed PDB.</h5>

<h5>Phase 3.2. Sync the Application Seed with Application <span class=SpellE>wmStore</span>.</h5>

<p class=MsoNormal>Now we have an Application Seed from which to provision new
tenants / franchises. Notice the syntax for creating the seed PDB, using the
phrase &quot;as seed&quot;.</p>

<h5>Phase 3.3. Provision the App PDBs for each Franchise.</h5>

<p class=MsoNormal>We have now provisioned an Application PDB for each tenant /
franchise from the Application Seed, all synchronized with the master
application definition. Now we'll go to each tenant PDB in turn and add some
franchise-specific data. This is for demonstration purposes only. This is not
part of the application definition. It merely simulates the creation of data
which in the usual course of events would be defined through the application
itself. This demo data will be added by the execution of scripts.</p>


<h4>Phase 4: Create franchise-specific data</h4>

<h4>Phase 5: Queries</h4>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in;mso-add-space:auto;
text-indent:-.25in;mso-list:l3 level1 lfo6'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Notice the name of the Application Seed
database. Recall from the lab that there was no opportunity to specify the name
of Application Seed. The name is always that of the Application Root with a
suffix of $SEED.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;mso-add-space:
auto;text-indent:-.25in;mso-list:l3 level1 lfo6'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The previous statement succeeded because
c##System is a CDB Common User with Set Container privilege in all containers.
Now Let's connect to <span class=SpellE>wmStore_Admin</span> in the Application
Root.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;mso-add-space:
auto;text-indent:-.25in;mso-list:l3 level1 lfo6'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>The previous statements succeeded because <span
class=SpellE>wmStore_Admin</span> is an Application Common user. In <span
class=GramE>fact</span> all users created within an Application Root are by
definition Application Common users. Application Common users may connect to an
Application PDB in the same Application Container. However, they may not
connect to any containers outside the Application Container. The following
statement should therefore fail.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in;mso-add-space:auto;
text-indent:-.25in;mso-outline-level:1;mso-list:l3 level1 lfo6'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Now let's experiment with the Admin Users in the
Application PDBs. Recall that an Admin User is specified along with the
creation of every new PDB, including Application PDBs. In these labs,
Application PDBs are provisioned with statements <span class=GramE>similar to</span>
this (which we'll comment out here):</p>

<p class=MsoNormal style='margin-left:.75in;mso-outline-level:1'><span
style='font-family:Courier'>create pluggable database Tulsa<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in'><span style='font-family:Courier'>admin
user <span class=SpellE>wm_admin</span> identified by secret<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:.75in;mso-outline-level:1'><span
style='font-family:Courier'>/<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:.25in;mso-add-space:auto;
text-indent:-.25in;mso-list:l4 level1 lfo8'><![if !supportLists]><span
style='mso-bidi-font-family:Calibri;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>Let's experiment with these users a little.
Notice that the direct connections were successful. We used the same username
and password in each case. However, these are local users and technically it's
purely coincidental that they have the same username and password. The alter
session set container statement failed because they are not common users. </p>
			  
			  <a style="text-decoration: underline" href="AppContainerLab2.html"><b>Click Here to Go to Lab 2</b></a>
			  
			<br>
			<br>
			<br>
			<br>
			  
			 </div>
		</div>
  </body>
</html>
