---
layout: post
title: "Oracle EM13c in DB18c Tips"
category: Oracle
tags: Oracle Tips
---

* content
{:toc}


Oracle EM13c in DB18c Tips













### DBCA create EMCC template DB in DB18c

The env in oracle user.

	[oracle@oel72 ~]$ cat .bash_profile
	# .bash_profile

	# Get the aliases and functions
	if [ -f ~/.bashrc ]; then
			. ~/.bashrc
	fi

	# User specific environment and startup programs

	PATH=$PATH:$HOME/.local/bin:$HOME/bin
	export PATH
	# Oracle Settings

	export TMP=/tmp
	export TMPDIR=$TMP

	export ORACLE_HOSTNAME=vedb.localdomain
	export ORACLE_UNQNAME=orcl
	export ORACLE_BASE=/u01/app/oracle
	export ORACLE_HOME=$ORACLE_BASE/product/18.0.0/dbhome_1
	export ORACLE_SID=orcl

	export PATH=/usr/sbin:$PATH
	export PATH=$ORACLE_HOME/bin:$PATH

	export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib
	export CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib

	alias sqlplus="rlwrap sqlplus"
	alias dgmgrl="rlwrap dgmgrl"
	alias rman="rlwrap rman"
	alias lsnrctl="rlwrap lsnrctl"
	alias asmcmd="rlwrap asmcmd"
	alias adrci="rlwrap adrci"
	alias impdp="rlwrap impdp"
	alias expdp="rlwrap expdp"

	export ORACLE_SID=EMREP
	
	[oracle@oel72 ~]$dbca


Step 1.
	
![Step01]({{ "/files/Oracle/EM13c/dbca_01.png"}})	

Step 2.
	
![Step02]({{ "/files/Oracle/EM13c/dbca_02.png"}})	


Step 3.
	
![Step03]({{ "/files/Oracle/EM13c/dbca_03.png"}})	

Step 4.
	
![Step04]({{ "/files/Oracle/EM13c/dbca_04.png"}})	


Step 5.
	
![Step05]({{ "/files/Oracle/EM13c/dbca_05.png"}})	

Step 6.
	
![Step06]({{ "/files/Oracle/EM13c/dbca_06.png"}})	

Step 7.
	
![Step07]({{ "/files/Oracle/EM13c/dbca_07.png"}})	

Step 8.
	
![Step08]({{ "/files/Oracle/EM13c/dbca_08.png"}})	


Step 9.
	
![Step09]({{ "/files/Oracle/EM13c/dbca_09.png"}})	

Step 9-1.
	
![Step9-1]({{ "/files/Oracle/EM13c/dbca_09_01.png"}})	

Step 9-2.
	
![Step9-2]({{ "/files/Oracle/EM13c/dbca_09_02.png"}})	

Step 9-3.
	
![Step9-3]({{ "/files/Oracle/EM13c/dbca_09_03.png"}})	

Step 10.
	
![Step10]({{ "/files/Oracle/EM13c/dbca_10.png"}})	

Step 11.
	
![Step11]({{ "/files/Oracle/EM13c/dbca_11.png"}})	

Step 12.
	
![Step12]({{ "/files/Oracle/EM13c/dbca_12.png"}})

Step 13.
	
![Step13]({{ "/files/Oracle/EM13c/dbca_13.png"}})

Step 14.
	
![Step14]({{ "/files/Oracle/EM13c/dbca_14.png"}})

Step 15-error.
	
![Step15-1]({{ "/files/Oracle/EM13c/dbca_15_error.png"}})

Log:

	Parsing command line arguments:
    Parameter "silent" = true
    Parameter "local" = true
    Parameter "inscomp" = server
    Parameter "insprtcl" = TCP
    Parameter "orahome" = /u01/app/oracle/product/18.0.0/dbhome_1
    Parameter "instype" = custom
    Parameter "listener" = EMREP
    Parameter "lisport" = 1521
    Parameter "cfg" = local
    Parameter "responsefile" = /u01/app/oracle/product/18.0.0/dbhome_1/network/install/netca_typ.rsp
	Done parsing command line arguments.
	Oracle Net Services Configuration:
	EMREP:The information provided for this listener is currently in use by other software on this computer. 
	Profile configuration complete.
	Check the trace file for details: /u01/app/oracle/cfgtoollogs/netca/trace_OraDB18Home1-18092810PM0336.log
	Oracle Net Services configuration failed.  The exit code is 1

Step 15-listener.
	
![Step15-listner]({{ "/files/Oracle/EM13c/dbca_15_error_listener.png"}})

Step 16.
	
![Step16]({{ "/files/Oracle/EM13c/dbca_16.png"}})

Step 17.
	
![Step17]({{ "/files/Oracle/EM13c/dbca_17.png"}})


	[oracle@oel72 ~]$ sqlplus / as sysdba

	SQL*Plus: Release 18.0.0.0.0 - Production on Fri Sep 28 22:25:22 2018
	Version 18.3.0.0.0

	Copyright (c) 1982, 2018, Oracle.  All rights reserved.


	Connected to:
	Oracle Database 18c Enterprise Edition Release 18.0.0.0.0 - Production
	Version 18.3.0.0.0

	SQL>


Reason is that the hostname in /etc/hosts was different with netca's hostname. Modified the host in listener.ora.
	
	[oracle@oel72 admin]$ pwd
	/u01/app/oracle/product/18.0.0/dbhome_1/network/admin
	[oracle@oel72 admin]$ ls -ltr
	total 28
	-rw-r--r--. 1 oracle oinstall 1441 Aug 26  2015 shrept.lst
	drwxr-xr-x. 2 oracle oinstall 4096 Feb  7  2018 samples
	-rw-r-----. 1 oracle oinstall  202 Sep 28 21:53 sqlnet1809289PM5357.bak
	-rw-r-----. 1 oracle oinstall  202 Sep 28 22:03 sqlnet18092810PM0337.bak
	-rw-r-----. 1 oracle oinstall  202 Sep 28 22:03 sqlnet.ora
	-rw-r-----. 1 oracle oinstall  202 Sep 28 22:26 sqlnet18092810PM2604.bak
	-rw-r-----. 1 oracle oinstall  344 Sep 28 22:29 listener.ora
	[oracle@oel72 admin]$ pwd
	/u01/app/oracle/product/18.0.0/dbhome_1/network/admin
	[oracle@oel72 admin]$ cat listener.ora
	# listener.ora Network Configuration File: /u01/app/oracle/product/18.0.0/dbhome_1/network/admin/listener.ora
	# Generated by Oracle configuration tools.

	LISTENER =
	  (DESCRIPTION_LIST =
		(DESCRIPTION =
		  (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
		  (ADDRESS=(PROTOCOL=ipc)(KEY=PNPKEY))
		)
	  )

	[oracle@oel72 admin]$	
	[oracle@oel72 admin]$ cat tnsnames.ora
	# tnsnames.ora Network Configuration File: /u01/app/oracle/product/18.0.0/dbhome_1/network/admin/tnsnames.ora
	# Generated by Oracle configuration tools.

	EMREP =
	  (DESCRIPTION =
		(ADDRESS_LIST =
		  (ADDRESS = (PROTOCOL = TCP)(HOST = emsvr)(PORT = 1521))
		)
		(CONNECT_DATA =
		  (SERVICE_NAME = EMREP)
		)
	  )

	[oracle@oel72 admin]$

	
Have a good life! 2018/09 via LinHong



