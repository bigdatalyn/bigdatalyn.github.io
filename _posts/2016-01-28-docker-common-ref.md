---
layout: post
title:  "Docker常用命令操作"
categories: Docker
tags: 命令使用
---

* content
{:toc}

docker 常用命令操作和说明




 build     根据Dockerfile 构建出一个容器
 
      --no-cache=false Do not use cache when building the image
      -q, --quiet=false Suppress the verbose output generated by the containers
      --rm=true Remove intermediate containers after a successful build
      -t, --tag="" Repository name (and optionally a tag) to be applied to the resulting image in case of success
 
 
 commit     根据现有的容器的改变创建一个新的容器镜像
 
      -a, --author="" Author (eg. "John Hannibal Smith <hannibal@a-team.com>"
      -m, --message="" Commit message
 
 cp     从容器里面拷贝文件/目录到本地一个路径
     
diff    列出一个容器里面被改变的文件或者目录，list列表会显示出三种事件，A 增加的，D 删除的，C 被改变的。
 
events     从容器中获取实时事件

      --since="" Show all events created since timestamp
      --until="" Stream events until this timestamp
 
export     把容器的内容打包成tar包输出到标准输出
 
 
history     显示一个镜像的历史

      --no-trunc=false Don't truncate output
      -q, --quiet=false Only show numeric IDs
 
images    列出镜像列表  

      -a, --all=false Show all images (by default filter out the intermediate image layers)
      --no-trunc=false Don't truncate output
      -q, --quiet=false Only show numeric IDs
 
import        从一个tar包创建一个新的镜像 

      Usage: docker import URL|- [REPOSITORY[:TAG]]
       URL必须是以http开头的指向一个单独的tar包出现的文件系统。如果你想从本地目录或者tar包导入，则使用‘-’从标准输入代替数据来源
 
info     显示docker系统的信息
 
inspect     返回系统或者镜像的一些低层次的信息，默认会返回一些JSON格式的信息，如果你指定其他输出格式，也会显示其他格式的输出
                 http://golang.org/pkg/text/template/
     
kill     kill一个运行的容器，发送SIGKILL信号，或者其他你指定的信号
 
load     在标准输入加载一个tar包格式的镜像

        -i, --input="" Read from a tar archive file, instead of STDIN
 
login     登陆registry server

      -e, --email="" Email
      -p, --password="" Password
      -u, --username="" Username
 
logs     从一个容器中取日志

      -f, --follow=false Follow log output
      -t, --timestamps=false Show timestamps
 
port     查看公共的端口经过NATA映射到私有的哪个端口
 
ps     显示容器，默认只显示当前在运行的容器。

      -a, --all=false Show all containers. Only running containers are shown by default.
      --before="" Show only container created before Id or Name, include non-running ones.
      -l, --latest=false Show only the latest created container, include non-running ones.
      -n=-1 Show n last created containers, include non-running ones.
      --no-trunc=false Don't truncate output
      -q, --quiet=false Only display numeric IDs
      -s, --size=false Display sizes
      --since="" Show only containers created since Id or Name, include non-running ones.
 
pull     从docker的registry server 拉取镜像
 
push     推一个镜像到docker registry server
 
restart     重启一个正在运行的容器

        -t, --time=10 Number of seconds to try to stop for before killing the container. Once killed it will then be restarted. Default=10
 
rm     删除一个或者多个容器

          -f, --force=false Force removal of running container
          -l, --link=false Remove the specified link and not the underlying container
          -v, --volumes=false Remove the volumes associated to the container
 
rmi     删除一个或者多个镜像

          -f, --force=false Force
          --no-prune=false Do not delete untagged parents
 
run     在一个新的容器中运行一个命令

          -a, --attach=[] Attach to stdin, stdout or stderr.
          -c, --cpu-shares=0 CPU shares (relative weight)
          --cidfile="" Write the container ID to the file
          -d, --detach=false Detached mode: Run container in the background, print new container id
          --dns=[] Set custom dns servers
          --dns-search=[] Set custom dns search domains
          -e, --env=[] Set environment variables
          --entrypoint="" Overwrite the default entrypoint of the image
          --env-file=[] Read in a line delimited file of ENV variables
          --expose=[] Expose a port from the container without publishing it to your host
          -h, --hostname="" Container host name
          -i, --interactive=false Keep stdin open even if not attached
          --link=[] Add link to another container (name:alias)
          --lxc-conf=[] (lxc exec-driver only) Add custom lxc options --lxc-conf="lxc.cgroup.cpuset.cpus = 0,1"
          -m, --memory="" Memory limit (format: <number><optional unit>, where unit = b, k, m or g)
          --name="" Assign a name to the container
          --net="bridge" Set the Network mode for the container
                               'bridge': creates a new network stack for the container on the docker bridge
                               'none': no networking for this container
                               'container:<name|id>': reuses another container network stack
                               'host': use the host network stack inside the contaner
          -P, --publish-all=false Publish all exposed ports to the host interfaces
          -p, --publish=[] Publish a container's port to the host
                               format: ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort
                               (use 'docker port' to see the actual mapping)
          --privileged=false Give extended privileges to this container
          --rm=false Automatically remove the container when it exits (incompatible with -d)
          --sig-proxy=true Proxify all received signal to the process (even in non-ttymode )
          -t, --tty=false Allocate a pseudo-tty
          -u, --user="" Username or UID
          -v, --volume=[] Bind mount a volume (e.g. from the host: -v /host:/container, from docker: -v /container)
          --volumes-from=[] Mount volumes from the specified container(s)
          -w, --workdir="" Working directory inside the container
 
save     保存镜像到一个tar包

          -o, --output="" Write to an file, instead of STDOUT
 
search     在docker index中寻找镜像

          --no-trunc=false Don't truncate output
          -s, --stars=0 Only displays with at least xxx stars
          -t, --trusted=false Only show trusted builds
 
start     启动一个停止的容器

          -a, --attach=false Attach container's stdout/stderr and forward all signals to the process
          -i, --interactive=false Attach container's stdin
 
stop     停止一个容器

        -t, --time=10 Number of seconds to wait for the container to stop before killing it.
 
tag     给repository 中的镜像进行标记

          -f, --force=false Force
 
top     显示一个运行的容器里面的进程信息
 
version     显示docker的版本信息
 
wait     阻止容器直到容器停止，然后打印退出码
