AdfUIComponents.createComponentClass("AdfUIPoll",{componentType:"org.apache.myfaces.trinidad.Poll",propertyKeys:[{name:"immediate",type:"Boolean","default":!1,secured:!0},{name:"pollListener",type:"Object",secured:!0}],eventNames:["poll"]});
AdfUIComponents.createComponentClass("AdfRichPoll",{componentType:"oracle.adf.RichPoll",propertyKeys:[{name:"interval",type:"Number","default":5E3},{name:"timeout",type:"Number","default":6E5}],superclass:AdfUIPoll});
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlPollPeer");AdfDhtmlPollPeer.ASYNCHRONOUS_UPDATES_ON_DEMAND="onDemand";AdfDhtmlPollPeer.COMPONENT_QUEUE=[];AdfDhtmlPollPeer.InitSubclass=function(){this._INTERVAL_ID="_afrInterval";AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichPoll.INTERVAL)};AdfDhtmlPollPeer.prototype.initialize=function(a){AdfDhtmlPollPeer.superclass.initialize.call(this,a);AdfDhtmlPollPeer._setInterval(a);AdfPage.PAGE.__getUserInactivityTimeoutHelper().registerPollComponent(a)};
AdfDhtmlPollPeer._clearInterval=function(a){if(a=a[AdfDhtmlPollPeer._INTERVAL_ID])this[AdfDhtmlPollPeer._INTERVAL_ID]=void 0,window.clearInterval(a)};AdfDhtmlPollPeer._setInterval=function(a){var b=a.getInterval();if(b>=0){var c=a.createCallback(this._queuePoll),b=window.setInterval(c,b);a[AdfDhtmlPollPeer._INTERVAL_ID]=b}};AdfDhtmlPollPeer.prototype.ComponentIntervalChanged=function(a){AdfDhtmlPollPeer._clearInterval(a);AdfDhtmlPollPeer._setInterval(a);return!0};
AdfDhtmlPollPeer.prototype.ComponentRemoved=function(a){AdfDhtmlPollPeer._clearInterval(a);AdfPage.PAGE.__getUserInactivityTimeoutHelper().unregisterPollComponent(a);AdfDhtmlPollPeer.superclass.ComponentRemoved.call(this,a)};AdfDhtmlPollPeer._queuePoll=function(){AdfPage.PAGE.__getUserInactivityTimeoutHelper().hasTimedOut()||(AdfPage.PAGE.getAsynchronousUpdatesState()==AdfDhtmlPollPeer.ASYNCHRONOUS_UPDATES_ON_DEMAND?AdfDhtmlPollPeer._cacheComponent(this):AdfPollEvent.queue(this))};
AdfDhtmlPollPeer._cacheComponent=function(a){a=a.getClientId();AdfCollections.indexOf(AdfDhtmlPollPeer.COMPONENT_QUEUE,a)==-1&&AdfDhtmlPollPeer.COMPONENT_QUEUE.push(a)};