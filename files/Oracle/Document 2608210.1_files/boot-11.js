var AdfCopyright="Copyright (c) 2008, 2009, Oracle and/or its affiliates. All rights reserved.",AdfBootstrap={};Date.prototype.equals=function(a){var b=!1;a.getUTCDate&&(b=this.valueOf()==a.valueOf());return b};AdfBootstrap._startTime=(new Date).getTime();
AdfStrings={};AdfStrings.COMMA=",";AdfStrings.START_CURLY_BRACKET="{";AdfStrings.CLOSE_CURLY_BRACKET="}";AdfStrings.EQUALS="=";AdfStrings.count=function(a,b){AdfAssert.assertString(a);AdfAssert.assertNonEmptyString(b);for(var c=0,d=0,f=a.length,g=b.length;d<f;)if(d=a.indexOf(b,d),d==-1)break;else c++,d+=g;return c};AdfStrings.initUpperCase=function(a){if(!a)return a;var b=a.charAt(0),c=b.toUpperCase();return b==c?a:c+a.substr(1)};
AdfStrings.createConstantName=function(a){a=a.replace(AdfStrings._CONSTANT_REGEXP,AdfStrings._REPLACE_PATTERN);return a=a.toUpperCase()};AdfStrings._CONSTANT_REGEXP=/([A-Z])/g;AdfStrings._REPLACE_PATTERN="_$1";
AdfAssert.FUNC_NAME_PROPERTY="_funcName";AdfAssert.CLASS_NAME_PROPERTY="_className";AdfAssert._MAX_STACK_DEPTH_LIMIT=20;AdfAssert.assert=function(a,b){if(AdfAssert.DEBUG&&!a){if(arguments.length>2){b+="(";for(var c=2;c<arguments.length;c++)b+=arguments[c];b+=")"}AdfAssert.assertionFailed(b,1)}};AdfAssert.failedInAbstractFunction=function(){AdfAssert.DEBUG&&AdfAssert.assertionFailed("Abstract function called",1)};
AdfAssert.assertPrototype=function(a,b,c){if(AdfAssert.DEBUG)if(a!=null){AdfAssert.assertType(b,"function",null,1,!1);var d=b.prototype;d.isPrototypeOf(a)||(!c&&typeof d.getTypeName=="function"&&(c=d.getTypeName()),AdfAssert.assertionFailed("object '"+a+"' doesn't match prototype "+d,1,c))}else AdfAssert.assertionFailed("null object doesn't match prototype "+d,1,c)};
AdfAssert.assertPrototypeOrNull=function(a,b,c){if(AdfAssert.DEBUG&&a!=null)if(a!=null){AdfAssert.assertType(b,"function",null,1,!1);var d=b.prototype;d.isPrototypeOf(a)||AdfAssert.assertionFailed("object '"+a+"' doesn't match prototype "+d,1,c)}else AdfAssert.assertionFailed("null object doesn't match prototype "+d,1,c)};
AdfAssert.assertPrototypes=function(a,b,c,d){if(AdfAssert.DEBUG)b=b.prototype,c=c.prototype,!b.isPrototypeOf(a)&&!c.isPrototypeOf(a)&&AdfAssert.assertionFailed("object '"+a+"' doesn't match prototype "+b+" or "+c,1,d)};AdfAssert.assertDomNodeOrNull=function(a,b){AdfAssert.DEBUG&&a&&a.nodeType==void 0&&AdfAssert.assertionFailed(a+" is not a DOM Node",b+1)};AdfAssert.assertDomNode=function(a,b){AdfAssert.DEBUG&&(!a||a.nodeType==void 0)&&AdfAssert.assertionFailed(a+" is not a DOM Node",b+1)};
AdfAssert.assertDomElement=function(a,b){AdfAssert.DEBUG&&(AdfAssert.assertDomNode(a,1),a.nodeType!=1?AdfAssert.assertionFailed(a+" is not a DOM Element",1):b&&a.nodeName!=b&&AdfAssert.assertionFailed(a+" is not a "+b+" Element",1))};AdfAssert.assertDomElementOrNull=function(a,b){AdfAssert.DEBUG&&a!=null&&(AdfAssert.assertDomNode(a,1),a.nodeType!=1?AdfAssert.assertionFailed(a+" is not a DOM Element",1):b&&a.nodeName!=b&&AdfAssert.assertionFailed(a+" is not a "+b+" Element",1))};
AdfAssert.assertType=function(a,b,c,d,f){if(AdfAssert.DEBUG&&!(a==null&&f||typeof a==b))a=a+" is not of type "+b,c&&(a=c+a),d||(d=0),AdfAssert.assertionFailed(a,d+1)};AdfAssert.assertObject=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"object",b,1,!1)};AdfAssert.assertObjectOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"object",b,1,!0)};AdfAssert.assertNonEmptyString=function(a,b){AdfAssert.DEBUG&&(AdfAssert.assertType(a,"string",b,1,!1),AdfAssert.assert(a.length>0,"empty string"))};
AdfAssert.assertString=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"string",b,1,!1)};AdfAssert.assertStringOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"string",b,1,!0)};AdfAssert.assertFunction=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"function",b,1,!1)};AdfAssert.assertFunctionOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"function",b,1,!0)};AdfAssert.assertBoolean=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"boolean",b,1,!1)};
AdfAssert.assertBooleanOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"boolean",b,1,!0)};AdfAssert.assertNumber=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"number",b,1,!1)};AdfAssert.assertNumberOrNull=function(a,b){AdfAssert.DEBUG&&AdfAssert.assertType(a,"number",b,1,!0)};AdfAssert.assertArray=function(a,b){AdfAssert.DEBUG&&!AdfCollections.isArray(a)&&(b==void 0&&(b=a+" is not an array"),AdfAssert.assertionFailed(b,1))};
AdfAssert.assertArrayOrNull=function(a,b){AdfAssert.DEBUG&&a!=null&&!AdfCollections.isArray(a)&&(b==void 0&&(b=a+" is not an array"),AdfAssert.assertionFailed(b,1))};AdfAssert.assertNonNumeric=function(a,b){AdfAssert.DEBUG&&!isNaN(a)&&(b==void 0&&(b=a+" is convertible to a number"),AdfAssert.assertionFailed(b,1))};AdfAssert.assertNumeric=function(a,b){AdfAssert.DEBUG&&isNaN(a)&&(b==void 0&&(b=a+" is not convertible to a number"),AdfAssert.assertionFailed(b,1))};
AdfAssert.assertInSet=function(a,b,c){if(a==null||b[a.toString()]==void 0){if(c==void 0){var c=" is not in set: {",d;for(d in b)c+=d,c+=",";c+="}";c=a+c}AdfAssert.assertionFailed(c,1)}};AdfAssert.assertionFailed=function(a,b,c){b||(b=0);var d="Assertion";c&&(d+=" ("+c+")");d+=" failed: ";a!=void 0&&(d+=a);a=AdfAssert._getStackTrace(b+1);a=AdfAssert._getStackString(a);d+="\nStackTrace:\n"+a;a=Error(d);alert(d);throw a;};
AdfAssert.getFunctionName=function(a){var b=a[AdfAssert.FUNC_NAME_PROPERTY];if(b==void 0){var b=a.toString(),c=b.indexOf("("),d=b.lastIndexOf(" ",c),b=b.substring(d+1,c);b.length||(b=null);a[AdfAssert.FUNC_NAME_PROPERTY]=b}return b};AdfAssert.getStackString=function(){return AdfAssert._getStackString(AdfAssert._getStackTrace(1))};
AdfAssert._getStackTrace=function(a){a==void 0&&(a=0);AdfAssert.assert(a>=0);var b=[];try{for(var c=AdfAssert._getStackTrace.caller;c&&b.length<AdfAssert._MAX_STACK_DEPTH_LIMIT;)a?a--:b.push(c),c=c.caller}catch(d){}return b};AdfAssert._getFuncParams=function(a){var b=a[AdfAssert._PARAMS_NAME_PROPERTY];if(b==void 0){var b=a.toString(),c=b.indexOf("("),d=b.indexOf(")",c+1),b=b.substring(c,d+1),b=b.replace(/\s+/g,"");b.length||(b=null);a[AdfAssert._PARAMS_NAME_PROPERTY]=b}return b};
AdfAssert._getStackString=function(a){if(!a)return"";for(var b=a.length,c=Array(b),d=0;d<b;d++){var f=a[d],g=AdfAssert.getFunctionName(f);g||(g="anonymous");var h=f[AdfAssert.CLASS_NAME_PROPERTY];h&&(g=h+"."+g);var h=AdfAssert._getFuncParams(f),j=f.arguments,k=j.length,f=null;if(k)for(var f=Array(k),l=0;l<k;l++){var m=j[l];if(typeof m=="function"){var n=AdfAssert.getFunctionName(m);n||(n="anonymous");m=AdfAssert._getFuncParams(m);m="function "+n+m}f[l]=m}j=[];j[0]=g;j[1]=h;f&&(j[2]="\n",j[3]="[",
j[4]=AdfAssert._safeJoin(f,","),j[5]="]");c[d]=j.join("")}return c.join("\n")};AdfAssert._safeJoin=function(a,b){for(var c=a.length,d="",f=0;f<c;f++){var g=a[f];d+=g?g.toString?g.toString():"Unknown":"(empty)";b&&f<c-1&&(d+=b)}return d};AdfAssert._PARAMS_NAME_PROPERTY="_funcParams";
function AdfObject(){this.Init()}AdfObject.superclass=null;AdfObject._GET_FUNCTION_NAME_REGEXP=/function\s+([\w\$][\w\$\d]*)\s*\(/;AdfObject.prototype={};AdfObject.prototype.constructor=AdfObject;
AdfObject.createSubclass=function(a,b,c,d){AdfAssert.assertFunction(a);AdfAssert.assertFunctionOrNull(b);AdfAssert.assertStringOrNull(c);b==void 0&&(b=AdfObject);AdfAssert.assert(a!=b,"Class can't extend itself");var f=AdfObject._tempSubclassConstructor;f.prototype=b.prototype;a.prototype=new f;a.prototype.constructor=a;a.superclass=b.prototype;if(c)a._typeName=c;if(d!==void 0)a._classInitializationState=d};AdfObject._tempSubclassConstructor=function(){};
AdfObject.prototype.getClass=function(a){if(a==void 0)a=this;else if(a==null)return null;return a.constructor};AdfObject.prototype.adopt=function(a){AdfCollections.copyInto(this,a)};AdfObject.prototype.clone=function(){var a=new this.constructor;AdfCollections.copyInto(a,this);return a};AdfObject.prototype.toString=function(){return this.toDebugString()};AdfObject.prototype.toDebugString=function(){return this.getTypeName()+" Object"};
AdfObject.getTypeName=function(a){AdfAssert.assertFunction(a);var b=a._typeName;if(b==null)b=AdfObject._GET_FUNCTION_NAME_REGEXP.exec(a.toString())[1],a._typeName=b;return b};AdfObject.prototype.getTypeName=function(){return AdfObject.getTypeName(this.constructor)};AdfObject.prototype.Init=function(){AdfAssert.DEBUG&&AdfAssert.assert(this.getTypeName,"Not an AdfObject");var a=this.constructor;a._initialized||AdfObject._initClasses(a)};
AdfObject.ensureClassInitialization=function(a){AdfAssert.assertFunction(a);a._initialized||AdfObject._initClasses(a)};AdfObject.prototype.GetLazyMapProperty=function(a,b,c){c==void 0&&(c=this);var d=c[a];d==void 0&&b&&(d={},c[a]=d);return d};AdfObject.prototype.GetLazyArrayProperty=function(a,b,c){c==void 0&&(c=this);var d=c[a];d==void 0&&b&&(d=[],c[a]=d);return d};AdfObject.prototype.equals=function(a){return this===a};
AdfObject.prototype.createCallback=function(a){AdfAssert.assertFunction(a);AdfAssert.assertString(a[AdfAssert.FUNC_NAME_PROPERTY]);var b=new Function("var f=arguments.callee; return f._func.apply(f._owner, arguments);");b._owner=this;b._func=a;return b};AdfObject.createInitializedObject=function(){var a=arguments.length;AdfAssert.assert(a%2==0,"every key must have a value");for(var b={},c=0;c<a;c++){var d=arguments[c];AdfAssert.assertString(d);c++;b[d]=arguments[c]}return b};
AdfObject._applyFunctionProperties=function(a,b){var c=AdfAssert.FUNC_NAME_PROPERTY,d=AdfAssert.CLASS_NAME_PROPERTY;for(currPropName in a){var f=a[currPropName];typeof f=="function"&&!f.hasOwnProperty(c)&&(f[c]=currPropName,f[d]=b)}};
AdfObject._initClasses=function(a){AdfAssert.DEBUG&&(AdfAssert.assertFunction(a),AdfAssert.assert(!a._initialized));a._initialized=!0;var b=a.superclass;if(b)(b=b.constructor)&&!b._initialized&&AdfObject._initClasses(b);b=AdfObject.getTypeName(a);try{var c=a.InitClass;if(c){var d=a._classInitializationState;c.call(a,d);d!==void 0&&delete a._classInitializationState}}finally{AdfAssert.DEBUG&&(AdfObject._applyFunctionProperties(a.prototype,b),AdfObject._applyFunctionProperties(a,"static "+b))}};
if(window.AdfCheckpoint==void 0){var constructorFunction=new Function("id","group","{}");constructorFunction.prototype.setDescription=function(){};constructorFunction.prototype.getDescription=function(){};constructorFunction.prototype.start=function(){};constructorFunction.prototype.stop=function(){};constructorFunction.getCheckpoint=function(a,b){return new AdfCheckpoint(a,b)};window.AdfCheckpoint=constructorFunction};
AdfLogRecord.LEVEL_FIELD="level";AdfLogRecord.MESSAGE_FIELD="message";AdfLogRecord.WHEN_FIELD="when";AdfLogRecord.ERROR_FIELD="error";function AdfLogRecord(a,b,c,d){AdfAssert.assertNumeric(a);AdfAssert.assertStringOrNull(b);AdfAssert.assertPrototypeOrNull(d,Date);d||(d=new Date);this.level=a;this.message=b;this.error=c;this.when=d};
function AdfLogWriter(){this.Init()}AdfObject.createSubclass(AdfLogWriter);AdfLogWriter.prototype.publish=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");var b=this._filter;(!b||b(a))&&this.PublishImpl(a)};AdfLogWriter.prototype.flush=function(){this.CheckIfClosed()};AdfLogWriter.prototype.close=function(){this.flush();this._closed=!0};AdfLogWriter.prototype.setFilter=function(a){AdfAssert.assertFunctionOrNull(a);this._filter=a};AdfLogWriter.prototype.getFilter=function(){return this._filter};
AdfLogWriter.prototype.Init=function(){AdfLogWriter.superclass.Init.call(this);this._closed=!1;this._filter=null};AdfLogWriter.prototype.PublishImpl=function(){};AdfLogWriter.prototype.CheckIfClosed=function(){AdfAssert.DEBUG&&AdfAssert.assert(!this._closed,this+" is already closed")};AdfLogWriter.prototype.FormatMessage=function(a){return a};AdfLogWriter.prototype.FormatLevel=function(a){var b=AdfLogger.__reverseMap[a];b==null&&(b=""+a);return b};
AdfLogWriter.prototype.FormatError=function(a){return a?AdfUIUtils.getPropertiesAsString(a,void 0,!1,!1):""};AdfLogWriter.prototype.FormatWhen=function(a){if(a){var a=a.toTimeString(),b=a.indexOf(" ");b!=-1&&(a=a.substring(0,b));return a}else return null};
AdfLogWriter.prototype.FormatLogRecord=function(a){var b="message='"+this.FormatMessage(a[AdfLogRecord.MESSAGE_FIELD]),c=this.FormatLevel(a[AdfLogRecord.LEVEL_FIELD]);b+="' level="+c;(c=this.FormatError(a[AdfLogRecord.ERROR_FIELD]))&&(b+=" error="+c);b+=" at "+this.FormatWhen(a[AdfLogRecord.WHEN_FIELD]);return b};
function AdfBufferedLogWriter(){this.Init()}AdfObject.createSubclass(AdfBufferedLogWriter,AdfLogWriter);AdfBufferedLogWriter.prototype.getLogRecords=function(){return this._loggedMessages.concat()};AdfBufferedLogWriter.prototype.flush=function(){this.CheckIfClosed();this._loggedMessages.length&&this.Clear()};AdfBufferedLogWriter.prototype.Init=function(){AdfBufferedLogWriter.superclass.Init.call(this);this._loggedMessages=[]};AdfBufferedLogWriter.prototype.Clear=function(){this._loggedMessages=[]};
AdfBufferedLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");this._loggedMessages.push(a)};
function AdfLogger(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfLogger);AdfLogger.getLogger=function(a){a||(loggername="global");return AdfLogger._LOGGERS[a]};AdfLogger.prototype.register=function(){var a=AdfLogger._LOGGERS,b=this.getName(),c=a[b];if(this!==c){if(c){var d=c.getLogWriter();AdfBufferedLogWriter.prototype.isPrototypeOf(d)&&this.logRecords(d.getLogRecords());d.close()}a[b]=this}return c};AdfLogger.prototype.getName=function(){return this._loggerName};
AdfLogger.prototype.setLevel=function(a){AdfAssert.assertNumeric(a);this._level=a};AdfLogger.prototype.getLevel=function(){return this._level};AdfLogger.prototype.isLoggable=function(a){return a>=this._level};AdfLogger.prototype.getName=function(){return this._loggerName};AdfLogger.prototype.getLogWriter=function(){return this._logWriter};AdfLogger.prototype.setFilter=function(a){AdfAssert.assertFunctionOrNull(a);this._filter=a};AdfLogger.prototype.getFilter=function(){return this._filter};
AdfLogger.prototype.log=function(a){AdfAssert.assert(a);a.level<this._level||this.AddLogRecord(a)};AdfLogger.prototype.logRecords=function(a){AdfAssert.assert(a);for(var b=a.length,c=0;c<b;c++)this.log(a[c])};AdfLogger.prototype.logMessage=function(a){AdfAssert.assertNumeric(a);if(!(a<this._level)){this._calcMsg._skipArgs=1;var b=this._calcMsg.apply(this,arguments);this.AddLogRecord(new AdfLogRecord(a,b))}};
AdfLogger.prototype.logError=function(a,b,c){if(!b)b=AdfLogger.INFO;AdfAssert.assertNumeric(b);if(!(b<this._level))this._calcMsg._skipArgs=2,c=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(b,c,a))};AdfLogger.prototype.logErrorAsSevere=function(a,b){var c=AdfLogger.SEVERE;if(!(c<this._level))this._calcMsg._skipArgs=1,b=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(c,b,a))};
AdfLogger.prototype.logErrorAsWarning=function(a,b){var c=AdfLogger.WARNING;if(!(c<this._level))this._calcMsg._skipArgs=1,b=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(c,b,a))};AdfLogger.prototype.logErrorAsInfo=function(a,b){var c=AdfLogger.INFO;if(!(c<this._level))this._calcMsg._skipArgs=1,b=this._calcMsg.apply(this,arguments),this.AddLogRecord(new AdfLogRecord(c,b,a))};
AdfLogger.prototype.logElapsedTime=function(a,b,c){AdfAssert.assert(a);if(!c)c=this.FINE;if(!(c<this._level)){var d=new Date,a=(d.getTime()-a.getTime())/1E3;b+=a+" seconds";this.AddLogRecord(new AdfLogRecord(c,b,null,d))}};
AdfLogger.InitClass=function(){this.RegisterLevels(AdfLogger,[{name:"OFF",severity:Number.MAX_VALUE},{name:"SEVERE",severity:1E3},{name:"WARNING",severity:900},{name:"INFO",severity:800},{name:"CONFIG",severity:700},{name:"FINE",severity:500},{name:"FINER",severity:400},{name:"FINEST",severity:300},{name:"ALL",severity:Number.MIN_VALUE}]);this.DEFAULT_LEVEL=this.WARNING;this._LOGGERS={}};
AdfLogger.RegisterLevels=function(a,b){AdfAssert.assertFunction(a);var c=a.prototype;a.__reverseMap={};for(var d=b.length,f=["if (this.",null,"<this._level) return; this._calcMsg._skipArgs = 0; this.logMessage(this.",null,",this._calcMsg.apply(this, arguments));"],g=0;g<d;g++){var h=b[g],j=h.name,h=h.severity;a.__reverseMap[h]=j;a[j]=h;c[j]=h;h!=Number.MAX_VALUE&&h!=Number.MIN_VALUE&&(f[1]=j,f[3]=j,h=f.join(""),j=j.toLowerCase(),c[j]=new Function("msg",h))}};
AdfLogger.prototype._calcMsg=function(){var a=arguments.callee._skipArgs,b=arguments.length,c=arguments[a];if(!(b-a==1&&typeof c=="string"))for(c="";a<b;a++)c+=arguments[a];return c};AdfLogger.prototype.Init=function(a,b,c){AdfAssert.assert(a,"loggerName required");AdfAssert.assert(b,"logWriter required");AdfLogger.superclass.Init.call(this);this._logWriter=b;this._loggerName=a;this._level=c!==void 0?c:AdfLogger.DEFAULT_LEVEL;this._filter=null};
AdfLogger.prototype.toDebugString=function(){return this.getTypeName()+" [loggerName:'"+this._loggerName+"',level:"+this._level+",logWriter:"+this._logWriter+"]"};AdfLogger.prototype.AddLogRecord=function(a){var b=this._filter;(!b||b(a))&&this.getLogWriter().publish(a)};AdfLogger.LOGGER=(new AdfLogger("global",new AdfBufferedLogWriter)).register();
function AdfAlertLogWriter(){this.Init()}AdfObject.createSubclass(AdfAlertLogWriter,AdfBufferedLogWriter);AdfAlertLogWriter.prototype.flush=function(){this.CheckIfClosed();var a=this.getLogRecords();if(a.length){a.reverse();var b="Logged Messages:\n",c=a.length;if(c>0){for(var d=0;d<c;d++)a[d]=this.FormatLogRecord(a[d]);b+=a.join("\n")}else b+="[No Messages]";this.Clear();alert(b)}};
function AdfClientFileLogWriter(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfClientFileLogWriter,AdfBufferedLogWriter);AdfClientFileLogWriter.prototype.Init=function(a,b){AdfAssert.assertPrototype(b,AdfLogWriter);AdfClientFileLogWriter.superclass.Init.call(this);var c=AdfAgent.AGENT;this._sessionId=null;this._backupLogWriter=b;this._window=a;this._document=c.getDomDocument();c.addBubbleEventListener(this._window,"load",AdfClientFileLogWriter._createAppletTag)};
AdfClientFileLogWriter._createAppletTag=function(){var a=AdfPage.PAGE.getBaseResourceUrl(),b=AdfAgent.AGENT.getDomDocument(),c=b.createElement("applet");c.setAttribute("name","AdfClientFileWriter");c.setAttribute("archive",a+"/afr/archives/AdfSignedClientFileWriterApplet.jar");c.setAttribute("code","oracle.adfinternal.view.resource.rich.AdfClientFileWriterApplet.class");c.setAttribute("height","1");c.setAttribute("width","1");b.getElementsByTagName("body")[0].appendChild(c)};
AdfClientFileLogWriter.prototype.getApplet=function(){var a,b=this._document.applets.length;if(b>0){var c=this._document.getElementsByTagName("applet");for(i=0;i<b;i++)if(c[i].name=="AdfClientFileWriter"){a=c[i];break}}return a};AdfClientFileLogWriter.prototype.flush=function(){this.CheckIfClosed()};AdfClientFileLogWriter.prototype.close=function(){this.closeRecord();this._closed=!0};
AdfClientFileLogWriter.prototype.closeRecord=function(){var a=this.getApplet();if(a){this.CheckIfClosed();var b=this.getLogRecords(),c="<record>\n\t<header>\n\t\t<date>"+(new Date).toUTCString()+"</date>\n\t\t<ecId>"+AdfDhtmlPage._ECID+"</ecId>\n\t\t<page>"+this._document.title+"</page>\n\t\t<serverHost>"+this._window.location.host+"</serverHost>\n\t\t<path>"+this._window.location.pathname+"</path>\n\t</header>\n";if(b.length){for(var d=b.length,f=0;f<d;f++)b[f]=this.FormatLogRecord(b[f]);c+=b.join("\n");
c+="\n</record>\n"+AdfClientFileLogWriter._END_TAG+"\n";var b=AdfAgent.AGENT.getPlatform(),d=null,d=AdfDhtmlPage._ADFRC_LOG_FILENAME!=null?AdfDhtmlPage._ADFRC_LOG_FILENAME:(new Date).getTime(),b=b+"_"+d+".xml",g;try{"false"==a.fileExists(b)&&(c=AdfClientFileLogWriter._XML_FILE_HEADER+AdfClientFileLogWriter._START_TAG+"\n"+AdfClientFileLogWriter._PROFILER_VERSION+AdfClientFileLogWriter._BROWSER_VERSION+c),g=a.log(b,c,AdfClientFileLogWriter._END_TAG)}catch(h){g="Error: "+h}g!="ok"&&this._logToBackupLogWriter(g)}}else this._logToBackupLogWriter("The AdfClientFileWriter applet is undefined or unavailable.");
this.Clear()};AdfClientFileLogWriter.prototype.setSessionId=function(a){this._sessionId=a!=null?a:(new Date).getTime()};AdfClientFileLogWriter.prototype.FormatMessage=function(a){var a=a.split(";"),b="",c=a.length;if(c<2)return b;a[0]&&(b+="\t\t\t<description><![CDATA["+a[0]+"]]\></description>\n");a[1]&&(b+="\t\t\t<timestamp>"+a[1]+"</timestamp>\n");a[2]&&(b+="\t\t\t<timing>"+a[2]+"</timing>\n");for(i=3;i<c;++i)b+="\t\t\t"+a[i]+"\n";return b};
AdfClientFileLogWriter.prototype.FormatLogRecord=function(a){this.FormatLevel(a[AdfLogRecord.LEVEL_FIELD]);var b="\t<entry>\n\t\t<time>"+this.FormatWhen(a[AdfLogRecord.WHEN_FIELD])+"</time>\n",c=this.FormatError(a[AdfLogRecord.ERROR_FIELD]);c&&(b+="\t\t<error>"+c+"</error>\n");b+="\t\t<message>\n"+this.FormatMessage(a[AdfLogRecord.MESSAGE_FIELD])+"\t\t</message>\n\t</entry>";return b};
AdfClientFileLogWriter.prototype.FormatWhen=function(a){a||(a=new Date);return a.getUTCHours()+":"+a.getUTCMinutes()+":"+a.getUTCSeconds()+"."+a.getUTCMilliseconds()};AdfClientFileLogWriter.prototype._logToBackupLogWriter=function(a){this._backupLogWriter.publish(new AdfLogRecord(AdfLogger.WARNING,a))};AdfClientFileLogWriter._XML_FILE_HEADER='<?xml version ="1.0" encoding="ISO-8859-1"?>\n';AdfClientFileLogWriter._PROFILER_VERSION='<AdfRcProfiler version="3.0"/>\n';
AdfClientFileLogWriter._BROWSER_VERSION="<browser>"+navigator.appName+" "+navigator.appVersion+"</browser>\n";AdfClientFileLogWriter._START_TAG="<log>";AdfClientFileLogWriter._END_TAG="</log>";
function AdfStatusLogWriter(){this.Init()}AdfObject.createSubclass(AdfStatusLogWriter,AdfLogWriter);AdfStatusLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");top.status=this.FormatLogRecord(a)};
function AdfConsoleLogWriter(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfConsoleLogWriter,AdfLogWriter);
AdfConsoleLogWriter.prototype.Init=function(a,b){AdfAssert.assertObject(a);AdfAssert.assertPrototype(b,AdfLogWriter);AdfConsoleLogWriter.superclass.Init.call(this);this._parentWindow=a;this._backupLogWriter=b;this._loggedMessages=[];this._columns=[AdfLogRecord.LEVEL_FIELD,AdfLogRecord.MESSAGE_FIELD,AdfLogRecord.WHEN_FIELD,AdfLogRecord.ERROR_FIELD];var c={};c[AdfLogRecord.LEVEL_FIELD]="FormatLevel";c[AdfLogRecord.MESSAGE_FIELD]="FormatMessage";c[AdfLogRecord.WHEN_FIELD]="FormatWhen";c[AdfLogRecord.ERROR_FIELD]=
"FormatError";this._formatters=c;this._consoleWindow=null};AdfConsoleLogWriter.prototype.publish=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");this._loggedMessages.push(a);var b=this.getFilter();try{if((!b||b(a))&&!this._busy){this._busy=!0;try{this._showMessage(a)}finally{this._busy=!1}}}catch(c){this._logInternalError(c,"Error publishing AdfLogRecord")}};
AdfConsoleLogWriter.prototype.close=function(){AdfConsoleLogWriter.superclass.close.call(this);if(this._consoleWindow){try{this._consoleWindow.document.body.onunload=null}catch(a){}this._consoleWindow.close();this._consoleWindow=null}};AdfConsoleLogWriter.prototype.setFilter=function(a){var b=this.getFilter();a!=b&&(AdfConsoleLogWriter.superclass.setFilter.call(this,a),this._updateRecords())};AdfConsoleLogWriter.prototype.clear=function(){this._loggedMessages=[];this._clearDisplayedRecords()};
AdfConsoleLogWriter.prototype.updateFilter=function(a){a=AdfUIUtils.trim(a);a.length?this.setFilter(new Function("record","return ("+a+");")):this.setFilter(null)};AdfConsoleLogWriter.prototype.FormatMessage=function(a){a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=a.replace(/\n/g,"<br>")};
AdfConsoleLogWriter.prototype.FormatError=function(a){if(!a)return"";var b="",c=!0,d;for(d in a)if(d!=d.toUpperCase())try{var f=a[d];if(typeof f!="function"){var g=f;if(d=="stack"&&"string"==typeof f){for(var g="<ol>",h=AdfConsoleLogWriter._GECKO_STACK_RE,j;j=f.match(h);){g+="<li>";var k=j[0],l=-1,m=k.lastIndexOf(":");m!=-1&&(l=k.lastIndexOf("@"));if(l!=-1){l++;g+=k.substring(0,l);var n=k.substring(l,m),l=n,o=n.lastIndexOf("/");o!=-1&&(l=n.substring(o+1));var p="target='_blank'",q="?";m!=-1&&(q=k.substring(m+
1),n.length>0&&AdfConsoleLogWriter._LINK_TRACE_TO_LINE_NUMBERS&&navigator.userAgent.toLowerCase().indexOf("gecko")!=-1&&(p="",n="javascript:viewSource('"+n+"','"+l+"',"+q+")"));g+="<a "+p+' href="'+n+'">';g+=l+"</a> Line: "+q}else g+=k;g+="</li>";f=f.substring(k.length)}g+="</ol>"}c?(b+="<b>",c=!1):b+="<br><b>";b+=d+":</b>"+g}}catch(r){}return b};
AdfConsoleLogWriter.prototype._addDisplayedRecords=function(){for(var a=this._getDocument().getElementById("consoleLogRecords"),b=this._loggedMessages,c=this.getFilter(),d=b.length-1;d>=0;d--){var f=b[d];try{if(!c||c(f)){var g=this._createRow(f);a.appendChild(g)}}catch(h){this._logInternalError(h,"Error displaying AdfLogRecord")}}};AdfConsoleLogWriter.prototype._updateRecords=function(){this._clearDisplayedRecords();this._addDisplayedRecords()};
AdfConsoleLogWriter.prototype._clearDisplayedRecords=function(){var a=this._getDocument();AdfAssert.assert(a);var b=a.getElementById("consoleLogRecords");AdfAssert.assertDomElement(b);var c=b.parentNode,d=b.nextSibling;c.removeChild(b);a=a.createElement("tbody");a.id="consoleLogRecords";c.insertBefore(a,d)};
AdfConsoleLogWriter.prototype._createHeaders=function(){for(var a=this._getDocument(),b=a.createElement("tr"),c=this._columns,d=c.length,f=0;f<d;f++){var g=c[f],h=a.createElement("th");h.innerHTML=g;b.appendChild(h)}return b};AdfConsoleLogWriter.prototype._updateHeaders=function(){var a=this._getDocument().getElementById("columnHeaders"),b=a.firstChild;b&&a.removeChild(b);a.appendChild(this._createHeaders())};
AdfConsoleLogWriter.prototype._createRow=function(a){for(var b=this._getDocument(),c=b.createElement("tr"),d=this._formatters,f=this._columns,g=f.length,h=0;h<g;h++){var j=f[h],k=a[j],l=b.createElement("td");l.vAlign="top";if(k&&(k=(j=d[j])?this[j](k):""+k))l.innerHTML=k;c.appendChild(l)}return c};
AdfConsoleLogWriter.prototype._showMessage=function(a){var b=this._consoleWindow;b?(a=this._createRow(a),b=b.document.getElementById("consoleLogRecords"),b.insertBefore(a,b.firstChild)):(this._consoleWindow=b=this._openConsoleWindow(),this._updateHeaders(),this.HandleOnLoad())};AdfConsoleLogWriter.prototype._getDocument=function(){var a=this._consoleWindow;return a?a.document:null};AdfConsoleLogWriter.prototype._getRecordDiv=function(){return this._getDocument().getElementById("recordDiv")};
AdfConsoleLogWriter.prototype._openConsoleWindow=function(){var a;try{a=window.open("about:blank","Console","width=700,height=250,resizable=1,scrollbars=1,dependent=1"),AdfLogger.LOGGER.getLogWriter()._windowUnloaded()}catch(b){this._logInternalError(b,"Error opening ConsoleWindow")}if(a){var c=a.document;c.open();c.write("<html>   <head>     <title>Console Log</title>     <style>       label,button,th,td,input {font-size:10pt;font-family:Arial;}       .resultsTable {position:relative; width:100%; margin:0px}       .resultsTable th {border:solid black 1px; background-color:silver; margin:0px}       .resultsTable td {border:solid black 1px; margin:0px}     </style>     <script>     function viewSource(url, fileName, lineNumber)     {       var windowName = fileName.split(\".\")[0];       window.lineNumber = lineNumber;       window.windowName = windowName;       window.viewerWindow = window.open(url, windowName);       window.viewerWindow.onload = sourceLoaded;       return;     }     function sourceLoaded()     {       try       {         var windowName = window.windowName;         var lineNumber = window.lineNumber;         var viewerDoc = window.viewerWindow.document;         viewerDoc.title = windowName + \" @ \" + lineNumber;        var viewerMarginTop = 10;         var viewerSrc = viewerDoc.body.firstChild;         viewerSrc.style.position = \"absolute\";         viewerSrc.style.zIndex = \"2\";         viewerSrc.style.top = \"0px\";         viewerSrc.style.marginTop = viewerMarginTop + \"px\";         viewerSrc.style.lineHeight = \"16px;\";         var samplePre = viewerDoc.createElement(\"pre\");         samplePre.style.width = viewerSrc.offsetWidth + \"px\";         samplePre.style.position = \"absolute\";         samplePre.style.zIndex = \"1\";         samplePre.style.top = \"0px\";         samplePre.style.marginTop = \"0px\";         samplePre.style.marginBottom = \"0px\";         samplePre.style.lineHeight = \"16px;\";         samplePre.appendChild(document.createTextNode(\" \"));         viewerDoc.body.appendChild(samplePre);         var lineHeight = samplePre.offsetHeight;         /* sometimes Gecko needs -1 and sometimes -2, unsure why right now */         var targetLineTop = lineHeight * (lineNumber - 1);         /* doubling the height since it could be either of the two lines */         samplePre.style.lineHeight = \"32px;\";         samplePre.style.marginTop = viewerMarginTop + \"px\";         samplePre.style.top = targetLineTop + \"px\";         samplePre.style.backgroundColor = \"#EFEFEF\";         var anchorName = \"line\" + lineNumber;         var anchor = viewerDoc.createElement(\"a\");         anchor.name = anchorName;         anchor.style.position = \"absolute\";         anchor.style.zIndex = \"0\";         anchor.style.top = Math.max(0, targetLineTop - 150) + \"px\";         viewerDoc.body.appendChild(anchor);         window.viewerWindow.location = \"#\" + anchorName;       }       catch (problem)       {         /* do nothing */;       }     }     <\/script>   </head>   <body style='width:100%;height:100%;padding:0px;margin:0px;overflow:hidden' onunload='window.logWriter._windowUnloaded()' onresize='window.logWriter._windowResized()'>     <button onclick='window.logWriter.clear();return false;'>Clear</button>    <br>    <table width='100%'><tbody><tr><td align='right'><label for='evalInput'>Eval:</label></td><td width='100%'><input id='evalInput' type='text' onkeypress='if (event.keyCode==13){window.logWriter._handleEvaluate(this.value);}' style='position:relative; width:100%'></input></td></tr>     <tr><td align='right' valign='top'><label for='filterInput'>Filter:</td><td width='100%'><textarea id='filterInput' rows='2' style='position:relative; width:100%' onchange='window.logWriter.updateFilter(this.value)'></textarea></label></td></tr></tbody></table>     <div id='recordDiv' style='position:relative; width:100%; height:200px; overflow:scroll;'>       <table class='resultsTable'>         <thead id='columnHeaders'>         </thead>         <tbody id='consoleLogRecords'>         <tbody>         <tfoot><tr><td style='height:100%'></td></tr></tfoot>       </table>     </div>   </body> </html>");
c.close();a.logWriter=this;return a}else this._logInternalError(e,"Popup blocker prevented opening of ConsoleWindow")};AdfConsoleLogWriter.prototype._logInternalError=function(a,b){AdfAssert.assertPrototype(a,Error);this._backupLogWriter.publish(new AdfLogRecord(AdfLogger.WARNING,b,a))};
AdfConsoleLogWriter.prototype._handleEvaluate=function(a){var b=this._parentWindow;if(typeof b.execScript!="function")b.execScript=new Function("evalString","return eval(evalString);");var c;try{var d=b.execScript(a),c=new AdfLogRecord(AdfLogger.INFO,a+"="+d)}catch(f){c=new AdfLogRecord(AdfLogger.INFO,"Error evaulating:"+a,f)}this.publish(c)};AdfConsoleLogWriter.prototype._windowUnloaded=function(){var a=this._consoleWindow;if(a)this._consoleWindow=a.logWriter=null};
AdfConsoleLogWriter.prototype._windowResized=function(){var a=this._getDocument(),b=this._getRecordDiv();AdfAssert.assertDomElement(b);a=a.documentElement;AdfAssert.assertDomElement(a);var c=a.clientHeight;if(c==0)c=a.offsetHeight;a=c-b.offsetTop;if(a>=0)b.style.height=a+"px"};AdfConsoleLogWriter.prototype.HandleOnLoad=function(){this._getDocument().getElementById("evalInput").focus();this._addDisplayedRecords();this._windowResized()};AdfConsoleLogWriter._GECKO_STACK_RE=/\w*\([^\)]*\)@[^\s]*:\d+\s/;
AdfConsoleLogWriter._LINK_TRACE_TO_LINE_NUMBERS=!0;
function AdfBaseEvent(){}AdfObject.createSubclass(AdfBaseEvent);AdfBaseEvent.CAPTURING_PHASE=0;AdfBaseEvent.AT_TARGET_PHASE=1;AdfBaseEvent.BUBBLING_PHASE=2;AdfBaseEvent.prototype.Init=function(){this._noResponse=AdfPage.PAGE.isAttachmentMode()};AdfBaseEvent.prototype.getType=function(){return this._type};AdfBaseEvent.prototype.getSource=function(){return this._source};AdfBaseEvent.prototype.setSource=function(a){this._source=a};AdfBaseEvent.prototype.getCurrentTarget=function(){return this.getSource()};
AdfBaseEvent.prototype.getEventPhase=function(){return AdfBaseEvent.AT_TARGET};AdfBaseEvent.prototype.getDoesBubbles=function(){return!1};AdfBaseEvent.prototype.stopBubbling=function(){this._bubbleStopped=!0};AdfBaseEvent.prototype.isBubblingStopped=function(){return this._bubbleStopped==!0};AdfBaseEvent.prototype.propagatesToServer=function(){return!1};AdfBaseEvent.prototype.isValidationNeeded=function(){return!1};AdfBaseEvent.prototype.isImmediate=function(){return!1};
AdfBaseEvent.prototype.getRoot=function(){return this._root};AdfBaseEvent.prototype.setRoot=function(a){this._root=a};AdfBaseEvent.prototype.isCancelable=function(){return!0};AdfBaseEvent.prototype.isCanceled=function(){return this._canceled==!0};AdfBaseEvent.prototype.isPartial=function(){return this._partial==!0};AdfBaseEvent.prototype.setPartial=function(a){this._partial=a};AdfBaseEvent.prototype.isFullSubmitForced=function(){return this._fullSubmitForced==!0};
AdfBaseEvent.prototype.forceFullSubmit=function(){this._fullSubmitForced=!0};AdfBaseEvent.prototype.isResponseExpected=function(){return this._noResponse!=!0};AdfBaseEvent.prototype.noResponseExpected=function(){this._noResponse=!0};AdfBaseEvent.prototype.isResponseAnnounced=function(){return!0};AdfBaseEvent.prototype.cancel=function(){if(this.isCancelable())this._canceled=!0};
AdfBaseEvent.prototype.getProperties=function(){var a={};this.AddMarshalledProperties(a);if(!this.getClearMessages())a.suppressMessageClear="true";if(!this.getShowMessages())a.suppressMessageShow="true";a.type=this._type;return a};AdfBaseEvent.prototype.getShowMessages=function(){return!0};AdfBaseEvent.prototype.getClearMessages=function(){return this.propagatesToServer()};AdfBaseEvent.prototype.AddMarshalledProperties=function(){};
AdfBaseEvent.prototype.toDebugString=function(){var a=this.getTypeName()+" [type="+this.getType()+", source="+this.getSource();this.isCanceled()&&(a+=", canceled");return a+"]"};AdfBaseEvent.prototype.Init=function(a,b){AdfAssert.assertString(b);AdfBaseEvent.superclass.Init.call(this);AdfAssert.assertObject(a,"source must be specified");this._source=a;this._type=b};
AdfBaseEvent.prototype.preventUserInput=function(){this.propagatesToServer()?this._userInputPrevented=!0:AdfLogger.LOGGER.logMessage(AdfLogger.WARNING,"Ignoring UI blocking request because the event does not propagate to the server.")};AdfBaseEvent.prototype.IsUserInputPrevented=function(){return this._userInputPrevented==!0};AdfBaseEvent.prototype.IsDeleveryDiscrete=function(){return!1};AdfBaseEvent.prototype.isDeliveryDiscrete=function(){return this.IsDeleveryDiscrete()};
AdfBaseEvent.prototype.getMaxTimeBeforePropagation=function(){if(!this.propagatesToServer())return-1;return 0};
function AdfPhasedEvent(){}AdfObject.createSubclass(AdfPhasedEvent,AdfBaseEvent);AdfPhasedEvent.prototype.setCurrentTarget=function(a){AdfAssert.assert(a,"newTarget must exist");this._currTarget=a};AdfPhasedEvent.prototype.getCurrentTarget=function(){return this._currTarget};
AdfPhasedEvent.prototype.nextEventPhase=function(){var a=this.getEventPhase();AdfAssert.assertNumeric(a,"eventPhase doesn't exist");this._eventPhase=a==AdfBaseEvent.CAPTURING_PHASE?AdfBaseEvent.AT_TARGET_PHASE:a==AdfBaseEvent.AT_TARGET_PHASE?AdfBaseEvent.BUBBLING_PHASE:void 0};AdfPhasedEvent.prototype.getEventPhase=function(){return this._eventPhase};AdfPhasedEvent.prototype.getDoesBubbles=function(){return!0};AdfPhasedEvent.prototype.isCancelable=function(){return!0};
AdfPhasedEvent.prototype.toDebugString=function(){var a=AdfPhasedEvent.superclass.toDebugString.call(this),b=this.getEventPhase(),b=b==AdfBaseEvent.CAPTURING_PHASE?"CAPTURING_PHASE":b==AdfBaseEvent.AT_TARGET_PHASE?"AT_TARGET_PHASE":b==AdfBaseEvent.BUBBLING_PHASE?"BUBBLING_PHASE":"<invalid phase>";return a.substring(0,a.length-1)+", phase="+b+"]"};AdfPhasedEvent.prototype.Init=function(a,b){AdfPhasedEvent.superclass.Init.call(this,a,b);this._currTarget=null;this._eventPhase=AdfBaseEvent.CAPTURING_PHASE};
function AdfComponentEvent(a,b){arguments.length&&(AdfAssert.assertPrototype(a,AdfUIComponent),this.Init(a,b))}AdfComponentEvent.FOCUS_EVENT_TYPE="focus";AdfComponentEvent.BLUR_EVENT_TYPE="blur";AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE="contextMenu";AdfObject.createSubclass(AdfComponentEvent,AdfPhasedEvent);AdfComponentEvent.prototype.queue=function(a){a!==void 0&&(AdfAssert.assertBoolean(a),this.setPartial(a));this.getSource().queueEvent(this)};
function AdfDomComponentEvent(a,b,c){arguments.length&&this.Init(a,b,c)}AdfObject.createSubclass(AdfDomComponentEvent,AdfComponentEvent);AdfDomComponentEvent.prototype.getNativeEvent=function(){return this.Event};AdfDomComponentEvent.prototype.GetSourceDomElement=function(){return AdfRichUIPeer.getDomElementForComponent(this.getSource())};AdfDomComponentEvent.prototype.getNativeEventTarget=function(){var a=this.Event;return a?AdfAgent.AGENT.getEventTarget(a):this.GetSourceDomElement()};
AdfDomComponentEvent.prototype.clone=function(){var a=AdfAgent.AGENT.cloneEvent(this.Event);return new this.constructor(this.getSource(),this.getType(),a)};AdfDomComponentEvent.prototype.Init=function(a,b,c){AdfAssert.assert(c,"Native event must be specified");AdfDomComponentEvent.superclass.Init.call(this,a,b);this.Event=c};
AdfObject.createSubclass(AdfComponentFocusEvent,AdfComponentEvent);function AdfComponentFocusEvent(a,b,c){arguments.length&&this.Init(a,b,c)}AdfComponentFocusEvent.prototype.getPreviousComponent=function(){return this.PrevComponent};AdfComponentFocusEvent.prototype.getNextComponent=function(){return this.getSource()};
AdfComponentFocusEvent.prototype.Init=function(a,b,c){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);AdfAssert.assertPrototypeOrNull(b,AdfUIComponent);AdfComponentFocusEvent.superclass.Init.call(this,b,c);this.PrevComponent=a};
AdfObject.createSubclass(AdfDomComponentFocusEvent,AdfComponentFocusEvent);function AdfDomComponentFocusEvent(a,b,c,d){arguments.length&&this.Init(a,b,c,d)}AdfDomComponentFocusEvent.prototype.Init=function(a,b,c,d){AdfAssert.assert(d,"Native event must be specified");AdfDomComponentFocusEvent.superclass.Init.call(this,a,b,c);this.Event=d};AdfDomComponentFocusEvent.prototype.getNativeEvent=AdfDomComponentEvent.prototype.getNativeEvent;AdfDomComponentFocusEvent.prototype.getNativeEventTarget=AdfDomComponentEvent.prototype.getNativeEventTarget;
AdfDomComponentFocusEvent.prototype.clone=AdfDomComponentEvent.prototype.clone;
function AdfUIInputEvent(){}AdfObject.createSubclass(AdfUIInputEvent,AdfComponentEvent);AdfUIInputEvent.CLICK_EVENT_TYPE="click";AdfUIInputEvent.DOUBLE_CLICK_EVENT_TYPE="dblClick";AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE="mouseDown";AdfUIInputEvent.MOUSE_UP_EVENT_TYPE="mouseUp";AdfUIInputEvent.MOUSE_MOVE_EVENT_TYPE="mouseMove";AdfUIInputEvent.MOUSE_IN_EVENT_TYPE="mouseOver";AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE="mouseOut";AdfUIInputEvent.KEY_DOWN_EVENT_TYPE="keyDown";
AdfUIInputEvent.KEY_UP_EVENT_TYPE="keyUp";AdfUIInputEvent.KEY_PRESS_EVENT_TYPE="keyPress";AdfUIInputEvent.FOCUS_EVENT_TYPE="focus";AdfUIInputEvent.BLUR_EVENT_TYPE="blur";AdfUIInputEvent.CONTEXT_MENU_EVENT_TYPE=AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE;AdfUIInputEvent.LEFT_BUTTON_FLAG=1;AdfUIInputEvent.RIGHT_BUTTON_FLAG=2;AdfUIInputEvent.MIDDLE_BUTTON_FLAG=4;AdfUIInputEvent.prototype.getOffsetX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getOffsetY=function(){AdfAssert.failedInAbstractFunction()};
AdfUIInputEvent.prototype.getClientX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getClientY=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getPageX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getPageY=function(){};AdfUIInputEvent.prototype.getScreenX=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getScreenY=function(){AdfAssert.failedInAbstractFunction()};
AdfUIInputEvent.prototype.getButtons=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.isLeftButtonPressed=function(){return(this.getButtons()&AdfUIInputEvent.LEFT_BUTTON_FLAG)!=0};AdfUIInputEvent.prototype.isRightButtonPressed=function(){return(this.getButtons()&AdfUIInputEvent.RIGHT_BUTTON_FLAG)!=0};AdfUIInputEvent.prototype.getKeyCode=function(){AdfAssert.failedInAbstractFunction()};AdfUIInputEvent.prototype.getKeyModifiers=function(){AdfAssert.failedInAbstractFunction()};
AdfUIInputEvent.prototype.getKeyStroke=function(){var a=this.getKeyCode();return a?AdfKeyStroke.getKeyStroke(a,this.getKeyModifiers()):null};
function AdfDomReplacedEvent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfDomReplacedEvent,AdfBaseEvent);AdfDomReplacedEvent.EVENT_TYPE="domReplaced";AdfDomReplacedEvent.prototype.Init=function(a,b){AdfDomReplacedEvent.superclass.Init.call(this,a,AdfDomReplacedEvent.EVENT_TYPE);this._clientIds=AdfCollections.cloneArray(b)};AdfDomReplacedEvent.prototype.getClientIds=function(){return AdfCollections.cloneArray(this._clientIds)};
AdfDomReplacedEvent.prototype.containsClientId=function(a){var b=this._clientIdsMap;if(!b){for(var c=this._clientIds,d=c.length,b={},f=0;f<d;f++)b[c[f]]=!0;this._clientIdsMap=b}return a in b};
function AdfAgent(a){this.Init(AdfAgent.UNKNOWN_PLATFORM,AdfAgent.guessOS(),AdfAgent.guessVersion(),a)}AdfObject.createSubclass(AdfAgent);AdfAgent.IE_PLATFORM="ie";AdfAgent.GECKO_PLATFORM="gecko";AdfAgent.WEBKIT_PLATFORM="webkit";AdfAgent.OPERA_PLATFORM="opera";AdfAgent.UNKNOWN_PLATFORM="unknown";AdfAgent.WINDOWS_OS="Windows";AdfAgent.SOLARIS_OS="Solaris";AdfAgent.MAC_OS="Mac";AdfAgent.UNKNOWN_OS="Unknown";AdfAgent.ANDROID_OS="Android";AdfAgent.CAP_TOUCH_SCREEN="touchScreen";
AdfAgent.CAP_TOUCH_SCREEN_NONE="none";AdfAgent.CAP_TOUCH_SCREEN_SINGLE="single";AdfAgent.CAP_TOUCH_SCREEN_MULTIPLE="multiple";
AdfAgent.getAgent=function(a){if(a!=null)AdfAgent._agent=null;if(!AdfAgent._agent){AdfAssert.assert(a!=null);var b=navigator.userAgent.toLowerCase(),c,d;try{b.indexOf("opera")!=-1?(c=new AdfOperaAgent(a),checkAgentSupport&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT)):b.indexOf("msie")>-1||b.indexOf("trident")>-1?(d=AdfIEAgent.__getAgentVersion(b),window.XMLHttpRequest||d>=7?c=d>=11?new AdfIEAgent(a):d>=9?new AdfIE9Agent(a):d>=8?new AdfIE8Agent(a):new AdfIEAgentLegacy(a):(checkAgentSupport&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT),
c=new AdfIE6Agent(a))):b.indexOf("applewebkit")!=-1||b.indexOf("safari")!=-1?(d=AdfAgent._parseFloatVersion(b,/applewebkit\/(\d+([.]\d+)*)/),c=b.indexOf("mobile")==-1&&b.indexOf("android")==-1?new AdfSafariAgent(d,a):new AdfSafariMobileAgent(d,a),checkAgentSupport&&d<525.18&&!(d<525.18&&b.indexOf("chrome/")!=-1)&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT)):b.indexOf("gecko/")!=-1?(d=AdfAgent._parseFloatVersion(b,/rv:(\d+[.]\d+)/),c=d>=6?new AdfGeckoAgent(d,a):d>=5?new AdfGecko5Agent(d,a):d>=1.9?new AdfGecko19Agent(d,
a):d>=1.8?new AdfGecko18Agent(d,a):d>=1?new AdfGecko17Agent(d,a):new AdfGeckoAgent(d,a),checkAgentSupport&&(AdfAgent._isGeckoAgentSupported(b,d)||alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT))):c||(checkAgentSupport&&alert(AdfAgent._UNSUPPORTED_BROWSER_ALERT),c=new AdfAgent(a)),AdfAgent._agent=c}catch(f){AdfAgent._agent=new AdfAgent(a),AdfLogger.LOGGER.logError(f,AdfLogger.SEVERE,"Unable to initialize AdfAgent")}}return AdfAgent._agent};
AdfAgent.guessOS=function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("win")!=-1)return AdfAgent.WINDOWS_OS;else if(a.indexOf("mac")!=-1)return AdfAgent.MAC_OS;else if(a.indexOf("sunos")!=-1)return AdfAgent.SOLARIS_OS;else if(a.indexOf("android")!=-1)return AdfAgent.ANDROID_OS};AdfAgent.guessVersion=function(){return parseFloat(navigator.appVersion)};
AdfAgent.InitClass=function(){AdfAgent._agent=null;for(var a=AdfAgent.KEY_EVENTS,b=0;b<a.length;b++)a[a[b]]=b;a=[];a[AdfKeyStroke.CTRL_MASK]="Ctrl";a[AdfKeyStroke.SHIFT_MASK]="Shift";a[AdfKeyStroke.ALT_MASK]="Alt";a[AdfKeyStroke.META_MASK]="Meta";this._MODIFIER_DISPLAY_NAMES=a;this._SETTABLE_STYLE_PROPS=null};
AdfAgent.prototype.Init=function(a,b,c,d){AdfAgent.superclass.Init.call(this);if(!a)a=AdfAgent.UNKNOWN_PLATFORM;if(!b)b=AdfAgent.UNKNOWN_OS;this._platform=a;this._os=b;this._version=c;this._window=d;this._document=d.document;this._oldBodyCursor=null;this._busyCursorShown=!1;(this._capabilities={})[AdfAgent.CAP_TOUCH_SCREEN]=AdfAgent.CAP_TOUCH_SCREEN_NONE};AdfAgent.prototype.createXMLHttpRequest=function(){return window.XMLHttpRequest?new XMLHttpRequest:null};
AdfAgent.prototype.isInlineDialogRepositioningOnScroll=function(){if(AdfPage.PAGE.isPortlet())return!1;return!0};
AdfAgent.prototype.removeResizeListener=function(a){AdfAssert.assertString(a);var b=this._resizeEventMap;AdfAssert.assertObject(b,"no resize listeners registered");var c=this.getElementById(a);if(c){var d=this.GetResizeEvents(),f=this._onResizeHandlerCallback;AdfAssert.assertFunction(f,"no resize listeners registered");for(var g=0;g<d.length;g++)this.removeBubbleEventListener(c,d[g],f)}AdfAssert.assertObject(b[a],"no resize listener registered by id, "+a);delete b[a]};
AdfAgent.prototype.addResizeListener=function(a,b){AdfAssert.assertString(a);AdfAssert.assertFunction(b);var c=this.getElementById(a);AdfAssert.assertDomNode(c);var d=this._resizeEventMap;if(!d)d=this._resizeEventMap={};d[a]&&AdfAssert.assert(!1,"already registered by id, "+a);var f=this._onResizeHandlerCallback;if(!f)f=this._onResizeHandlerCallback=this.createCallback(this._onResizeHandler);d[a]={listener:b,origOffsetWidth:c.offsetWidth,origOffsetHeight:c.offsetHeight};for(var d=this.GetResizeEvents(),
g=0;g<d.length;g++)this.addBubbleEventListener(c,d[g],f)};
AdfAgent.prototype._onResizeHandler=function(a){var b=this._resizeEventMap;AdfAssert.assertObject(b,"no resize listeners registered");a=this.getEventTarget(a);AdfAssert.assertDomNode(a,"resize dom node not found");for(var c,d;a;)if((d=a.id)&&(c=b[d]))break;else a=a.parentNode;if(c&&!c.onResizeTimeout&&(b=AdfPage.PAGE,d={id:d,myself:this},c.origOffsetWidth!=a.offsetWidth||c.origOffsetHeight!=a.offsetHeight))c.origOffsetWidth=a.offsetWidth,c.origOffsetHeight=a.offsetHeight,c.onResizeTimeout=b.scheduleTimer(this,
AdfAgent._onResizeHandlerTimeout,d,100)};AdfAgent._onResizeHandlerTimeout=function(a){var b=a.myself,a=a.id,c=b._resizeEventMap;AdfAssert.assertObject(c,"no resize listeners registered");var d=c[a];if(d)(b=b.getElementById(a))?(d.listener(),d.origOffsetWidth=b.offsetWidth,d.origOffsetHeight=b.offsetHeight,delete d.onResizeTimeout):delete c[a]};AdfAgent.prototype.GetResizeEvents=function(){return AdfAgent._RESIZE_EVENTS};AdfAgent.prototype.getPlatform=function(){return this._platform};
AdfAgent.prototype.getOS=function(){return this._os};AdfAgent.prototype.getVersion=function(){return this._version};AdfAgent.prototype.getDomWindow=function(){return this._window};AdfAgent.prototype.getDomDocument=function(){return this._document};AdfAgent.prototype.atLeast=function(a,b){return(!a||a==this.getPlatform())&&(!b||b<=this.getVersion())};AdfAgent.prototype.getElementById=function(a){return this._document.getElementById(a)};AdfAgent.prototype.getElementsByName=function(a){return this._document.getElementsByName(a)};
AdfAgent.prototype.elementsRemoved=function(){};AdfAgent.prototype.allElementsRemoved=function(){};AdfAgent.prototype.isSessionStorageEnabled=function(){return!0};AdfAgent.prototype.getSessionStorageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.removeSessionStorageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.setSessionStorageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.elementsAdded=function(){};
AdfAgent.prototype.getDescendantComponentsForNode=function(){AdfAssert.failedInAbstractFunction()};AdfAgent.prototype.setTextContent=function(a,b){AdfAssert.assertDomNode(a);b===null&&(b="");a.textContent=b};AdfAgent.prototype.getTextContent=function(a){return a.textContent};AdfAgent.prototype.setButtonTextContent=function(a,b){this.setTextContent(a,b)};AdfAgent.prototype.getWindowHeight=function(){return this._window.innerHeight};AdfAgent.prototype.getWindowWidth=function(){return this._window.innerWidth};
AdfAgent.prototype.getElementLeft=function(a){AdfAssert.assertDomNode(a);for(var b=a.ownerDocument.body,c=a.offsetParent,d=a.offsetLeft;c;)a=c,d+=a.offsetLeft,a!=b&&(d-=a.scrollLeft),c=c.offsetParent;return d};AdfAgent.prototype.getElementTop=function(a){AdfAssert.assertDomNode(a);var b=a.ownerDocument.body,c=a.offsetParent,d=a.offsetTop;for(this.getComputedStyle(a).position=="absolute"&&(d-=b.offsetTop);c;)a=c,d+=a.offsetTop,a!=b&&(d-=a.scrollTop),c=c.offsetParent;return d};
AdfAgent.prototype.getElementPageBounds=function(a){AdfAssert.assertDomNode(a);var b=this.getElementTop(a),c=this.getElementLeft(a);return{top:b,left:c,bottom:b+a.offsetHeight,right:c+a.offsetWidth}};AdfAgent.prototype.pointInElementBounds=function(a,b,c){var d=this.getElementTop(a);if(c>=d){var f=this.getElementLeft(a);if(b>=f)return c<=d+a.offsetHeight&&b<=f+a.offsetWidth}return!1};AdfAgent.prototype.pointInElementOrChildBounds=function(a,b,c){return this.pointInElementBounds(a,b,c)};
AdfAgent.getCSSLengthAsInt=function(a){return a.length>0&&a!="auto"?(a=parseInt(a),isNaN(a)&&(a=0),a):0};AdfAgent.prototype.getBoxSizing=function(a,b){b||(b=this.getComputedStyle(a));return b.boxSizing};
AdfAgent.prototype.getOuterWidth=function(a,b,c){c||(c=this.getComputedStyle(a));if(this.getBoxSizing(a,c)=="border-box")return b;var d=AdfAgent.getCSSLengthAsInt,b=b+d(c.paddingLeft)+d(c.paddingRight)+d(c.marginLeft)+d(c.marginRight);a.tagName.toUpperCase()!="TABLE"&&(b+=d(c.borderLeftWidth)+d(c.borderRightWidth));return b};
AdfAgent.prototype.getOuterHeight=function(a,b,c){c||(c=this.getComputedStyle(a));if(this.getBoxSizing(a,c)=="border-box")return b;var d=AdfAgent.getCSSLengthAsInt,b=b-d(c.paddingTop)+d(c.paddingBottom)+d(c.marginTop)+d(c.marginBottom);a.tagName.toUpperCase()!="TABLE"&&(b+=d(c.borderTopWidth)+d(c.borderBottomWidth));return b};
AdfAgent.prototype.setOuterWidth=function(a,b){var c=this.getComputedStyle(a);this.getBoxSizing(a,c)=="border-box"?a.style.width=b+"px":(c=this._getOuterWidth(a,b,c),a.style.width=c+"px")};AdfAgent.prototype.setOuterMaxWidth=function(a,b){var c=this.getComputedStyle(a);this.getBoxSizing(a,c)=="border-box"?a.style.maxWidth=b+"px":(c=this._getOuterWidth(a,b,c),a.style.maxWidth=c+"px")};
AdfAgent.prototype._getOuterWidth=function(a,b,c){var d=AdfAgent.getCSSLengthAsInt,b=b-d(c.paddingLeft)-d(c.paddingRight)-d(c.marginLeft)-d(c.marginRight);a.tagName.toUpperCase()!="TABLE"&&(b-=d(c.borderLeftWidth)+d(c.borderRightWidth));b<0&&(b=0);return b};AdfAgent.prototype.getDomForCSSPropertyName=function(a){var b=this.GetCssToDomPropertyNameMap()[a];if(b)return b;a=a.split("-");len=a.length;for(var b=a[0],c=1;c<len;c++)b+=a[c].charAt(0).toUpperCase()+a[c].substring(1);return b};
AdfAgent.prototype.GetCssToDomPropertyNameMap=function(){return AdfAgent._CSS_TO_DOM_MAP};AdfAgent.prototype.getStyleProperty=function(a,b){return a.getPropertyValue(b)};AdfAgent.prototype.setOuterHeight=function(a,b){var c=this.getComputedStyle(a);this.getBoxSizing(a,c)=="border-box"?a.style.height=b+"px":(c=this._getOuterHeight(a,b,c),a.style.height=c+"px")};
AdfAgent.prototype.setOuterMaxHeight=function(a,b){var c=this.getComputedStyle(a);this.getBoxSizing(a,c)=="border-box"?a.style.maxHeight=b+"px":(c=this._getOuterHeight(a,b,c),a.style.maxHeight=c+"px")};AdfAgent.prototype._getOuterHeight=function(a,b,c){var d=AdfAgent.getCSSLengthAsInt,b=b-d(c.paddingTop)-d(c.paddingBottom)-d(c.marginTop)-d(c.marginBottom);a.tagName.toUpperCase()!="TABLE"&&(b-=d(c.borderTopWidth)+d(c.borderBottomWidth));b<0&&(b=0);return b};
AdfAgent.prototype.getWindowClientWidth=function(a){return a.document.documentElement.clientWidth};AdfAgent.prototype.getWindowClientHeight=function(a){return a.document.documentElement.clientHeight};AdfAgent.prototype.getWindowScrollWidth=function(a){return a.document.documentElement.scrollWidth};AdfAgent.prototype.getWindowScrollHeight=function(a){return a.document.documentElement.scrollHeight};AdfAgent.prototype.getBrowserViewportScrollTop=function(){return this.getDomDocument().documentElement.scrollTop};
AdfAgent.prototype.getBrowserViewportScrollLeft=function(){return this.getDomDocument().documentElement.scrollLeft};AdfAgent.prototype.getOverrideStyle=function(a){var b=a.style;b||(a.setAttribute("style",""),b=a.getAttribute("style"));return b};AdfAgent.prototype.getComputedStyle=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};
AdfAgent.prototype.copyStyle=function(a,b){AdfAssert.assertDomElement(b);AdfAssert.assertDomElement(a);var c=b.style,d=this.getComputedStyle(a),f=AdfAgent._SETTABLE_STYLE_PROPS;if(f==null){var f=[],g=/^[^0-9]/,h;for(h in d){var j=d[h];if(h!="cssText"&&typeof j!="function"&&g.test(h)){try{j!=null&&j.length>0&&(c[h]=j)}catch(k){continue}f.push(h)}}AdfAgent._SETTABLE_STYLE_PROPS=f}else{g=f.length;for(h=0;h<g;h++)j=f[h],d[j]!=null&&d[j].length>0&&(c[j]=d[j])}};
AdfAgent.prototype.addBubbleEventListener=function(a,b,c){AdfAssert.assertString(b);AdfAssert.assertFunction(c);a.addEventListener(b,c,!1)};AdfAgent.prototype.removeBubbleEventListener=function(a,b,c){AdfAssert.assertString(b);AdfAssert.assertFunction(c);a.removeEventListener(b,c,!1)};AdfAgent.prototype.addEventCaptures=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.addEventListener(c[f],b,!0)};
AdfAgent.prototype.removeEventCaptures=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.removeEventListener(c[f],b,!0)};AdfAgent.prototype.addEventBubbles=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.addEventListener(c[f],b,!1)};
AdfAgent.prototype.removeEventBubbles=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);for(var c=AdfAgent._REDISTRIBUTE_EVENTS,d=c.length,f=0;f<d;f++)a.removeEventListener(c[f],b,!1)};AdfAgent.prototype.addKeyEventListener=function(a,b){a.addEventListener("keydown",b,!1)};AdfAgent.prototype.removeKeyEventListener=function(a,b){a.removeEventListener("keydown",b,!1)};
AdfAgent.prototype.startDocumentKeyEventCapture=function(a,b){AdfAssert.assert(a);AdfAssert.assertDomElement(b);for(var c=b.ownerDocument,d=AdfAgent.KEY_EVENTS,f=d.length,g=0;g<f;g++){var h=d[g],j=a[h];j&&(AdfAssert.assertFunction(j),c.addEventListener(h,j,!0))}return null};AdfAgent.prototype.endDocumentKeyEventCapture=function(a,b){AdfAssert.assert(a);AdfAssert.assertDomElement(b);for(var c=b.ownerDocument,d=AdfAgent.KEY_EVENTS,f=d.length,g=0;g<f;g++){var h=d[g];c.removeEventListener(h,a[h],!0)}};
AdfAgent.prototype.getKeyCode=function(a){return a.keyCode};AdfAgent.prototype.isFunctionKey=function(a){return a.charCode==0};AdfAgent.prototype.getModifierDisplayName=function(a){return AdfAgent._MODIFIER_DISPLAY_NAMES[a]};AdfAgent.prototype.getEventTarget=function(a){return a.target};AdfAgent.prototype._getEventRelatedTarget=function(a){a=a.relatedTarget;try{if(a&&a.nodeType)return a}catch(b){a=null}return a};
AdfAgent.prototype.getEventToElement=function(a){var b=a.type;if(b=="mouseover")return this.getEventTarget();else if(b=="mouseout")return this._getEventRelatedTarget(a);return null};AdfAgent.prototype.getEventFromElement=function(a){var b=a.type;if(b=="mouseover")return this._getEventRelatedTarget(a);else if(b=="mouseout")return this.getEventTarget();return null};
AdfAgent.prototype.getComponentEvent=function(a,b,c){var d=this.mapNativeToComponentEventType(b.type);if(d)if(d==AdfComponentEvent.FOCUS_EVENT_TYPE){if(c===void 0)return new AdfDomComponentEvent(a,d,b);return new AdfDomComponentFocusEvent(c,a,d,b)}else return d==AdfComponentEvent.BLUR_EVENT_TYPE?new AdfDomComponentEvent(a,d,b):d==AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE?new AdfDomShowContextMenuEvent(a,d,b):this.CreateUIInputEvent(a,d,b);else return AdfLogger.LOGGER.warning("unmapped event:",AdfUIUtils.getPropertiesAsString(b)),
null};AdfAgent.prototype.CreateUIInputEvent=function(a,b,c){return new AdfDomUIInputEvent(a,b,c)};
AdfAgent.prototype.elementFromPagePoint=function(a,b,c,d,f){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfAssert.assertFunctionOrNull(f);var g=this._document,h=g.body,j=null;if(c)if(c.parentNode!=g.documentElement){g=c;c=null;do this.pointInElementBounds(g,a,b)?c?this.pointInElementChrome(g,a,b)&&(c=g):c=g:(c=null,j=g),g=g.parentNode;while(g!=h)}else c=null;if(c&&this.pointInElementChrome(c,a,b))return c;g={target:c,zIndex:0,done:!1};this._elementFromPagePointImpl(c?c:h,a,b,g,!1,j,d,f);c=
g.target;if(!c)g.zIndex=0,this._elementFromPagePointImpl(h,a,b,g,!0,null,d,f),c=g.target;return c};
AdfAgent.prototype._elementFromPagePointImpl=function(a,b,c,d,f,g,h,j){for(a=a.firstChild;a&&!d.done;){if(a.nodeType==1&&a!=g&&(j==null||!j.call(h,a))){var k=this.getComputedStyle(a);if(k&&k.display!="none"){var l=k.zIndex;l=="auto"&&(l=null);if(k.visibility!="hidden"&&(l&&l>=d.zIndex||!l&&d.zIndex<1)){var k=f,m=!1,n=this.getElementTop(a);if(n<=c){var o=a.offsetHeight,p=o==0;if(p||n+o>=c)if(n=this.getElementLeft(a),n<=b){var o=a.offsetWidth,q=o==0;if(q||n+o>=b){k=!0;m=!q&&!p;if(this.pointInElementChrome(a,
b,c))m=!0,d.done=!0;if(m)d.target=a}}}if(k&&!d.done){var r,s;if(!m)s=d.target,r=d.zIndex;if(l)d.zIndex=l;this._elementFromPagePointImpl(a,b,c,d,f,null,h,j);if(!m&&s==d.target)d.zIndex=r}}}}a=a.nextSibling}};AdfAgent.prototype.getNodeName=function(a){return a.nodeName};AdfAgent.prototype.getLocalName=function(a){return a.localName};AdfAgent.prototype.getNodeXml=function(a){return(new XMLSerializer).serializeToString(a)};AdfAgent.prototype.getPrefix=function(a){return a.prefix};
AdfAgent.prototype.isElementHTML=function(a){AdfAssert.assertDomNode(a);return!0};AdfAgent.prototype.setCssFloat=function(a,b){a.style.cssFloat=b};AdfAgent.prototype.getAttributeName=function(a){return a.name};AdfAgent.prototype.getAttribute=function(a,b){return a.getAttribute(b)};AdfAgent.prototype.isAttributeSpecified=function(a){return a.specified};AdfAgent.prototype.replaceNode=function(a,b){return b.parentNode.replaceChild(a,b)};
AdfAgent.prototype.setAttribute=function(a,b,c){var d=a[b];(d==void 0||typeof d!="boolean"||c!="false")&&a.setAttribute(b,c)};AdfAgent.prototype.getIntAttribute=function(a,b,c){AdfAssert.assertDomElement(a);c==void 0&&(c=null);a.hasAttribute(b)?(a=a.getAttribute(b),a=parseInt(a),isNaN(a)&&(a=c,AdfLogger.LOGGER.warning("The value of attribute named ",b," cannot be converted into an integer."))):a=c;return a};
AdfAgent.prototype.getBooleanAttribute=function(a,b,c){AdfAssert.assert(a);c==void 0&&(c=null);a=a.getAttribute(b);a==null?a=c:a=="true"?a=!0:a=="false"?a=!1:(a=c,AdfLogger.LOGGER.warning("The value of attribute named ",b," cannot be converted into a boolean."));return a};AdfAgent.prototype.enableUserSelect=function(){};AdfAgent.prototype.disableUserSelect=function(){};AdfAgent.prototype.createTouchMoveManager=function(a,b,c){return new AdfTouchMoveManager(a,b,c)};
AdfAgent.prototype.stopPropagation=function(a){a.stopPropagation()};AdfAgent.prototype.preventDefault=function(a){a.preventDefault()};AdfAgent.prototype.isDefaultPrevented=function(a){return a.defaultPrevented};AdfAgent.prototype.eatEvent=function(a){this.stopPropagation(a);this.preventDefault(a)};AdfAgent.prototype.getMousePosition=function(a){return{x:a.pageX,y:a.pageY}};
AdfAgent.prototype.isEventInElement=function(a,b){var c=this.getMousePosition(a),d=this.getElementPosition(b),f=c.x,g=d.x;if(f>=g&&f<=g+b.offsetWidth&&(c=c.y,d=d.y,c>=d&&c<=d+b.offsetHeight))return!0;return!1};
AdfAgent.prototype.getElementPosition=function(a){var b=a.ownerDocument.body,c=a.offsetParent,d=a.offsetLeft,f=a.offsetTop;this.getComputedStyle(a).position=="absolute"&&(f-=b.offsetTop);for(var g=AdfAgent.getCSSLengthAsInt;c;){a=c;d+=a.offsetLeft;f+=a.offsetTop;if(a!=b){var h=this.getComputedStyle(a);d+=g(h.borderLeftWidth);f+=g(h.borderTopWidth);d-=a.scrollLeft;f-=a.scrollTop}c=c.offsetParent}return{x:d,y:f}};AdfAgent.prototype.isMouseEvent=function(a){return AdfAgent._MOUSE_EVENTS[a.type]!=void 0};
AdfAgent.prototype.isChromeEvent=function(){return!1};AdfAgent.prototype.pointInElementChrome=function(){return!1};AdfAgent.prototype.cloneEvent=function(a,b){if(this.isMouseEvent(a)){var c=a.type;newEvent=this._copyMouseEvent(a,c,b);var d=b?b:a.target,f=d.ownerDocument;f.addEventListener(c,this.stopPropagation,!0);d.dispatchEvent(newEvent);f.removeEventListener(c,this.stopPropagation,!0);return newEvent}else return a};
AdfAgent.prototype.copyEvent=function(a){return this.isMouseEvent(a)||a.type=="contextmenu"?newEvent=this._copyMouseEvent(a,a.type):a};AdfAgent.prototype._copyMouseEvent=function(a,b,c){var c=(c?c:a.target).ownerDocument,d=c.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,c.contentWindow,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);return d};AdfAgent.prototype.dispatchEvent=function(a,b){return a.dispatchEvent(b)};
AdfAgent.prototype.checkMouseOutEvent=function(a,b){var c=!1,c=this.getElementPosition(a),d=this.getMousePosition(b),c=d.x>c.x&&d.x<c.x+a.offsetWidth&&d.y>c.y&&d.y<c.y+a.offsetHeight;return!c};AdfAgent.prototype.isLeftButton=function(a){return a.button==0};AdfAgent.prototype.isSelectionToggle=function(a){var b=!1,c=AdfAgent.MAC_OS==this.getOS();c&&a.metaKey?b=!0:!c&&a.ctrlKey&&(b=!0);return b};AdfAgent.prototype.disableSelectionToggleOnEditableCell=function(){return!1};
AdfAgent.prototype.isLeftButtonClick=function(a){return a.type=="click"};AdfAgent.prototype.startMouseEventCapture=function(a){for(type in a)type in AdfAgent.KEY_EVENTS||this._document.addEventListener(type,a[type],!0)};AdfAgent.prototype.stopMouseEventCapture=function(a){for(type in a)type in AdfAgent.KEY_EVENTS||this._document.removeEventListener(type,a[type],!0)};AdfAgent.prototype.mapNativeToComponentEventType=function(a){return AdfAgent._NATIVE_TO_COMPONENT_MAPPINGS[a]};
AdfAgent.prototype.createDefaultLogWriter=function(){var a=this.CreateNativeLogWriter(),b=AdfAgent._LOG_WRITERS,c=this._window,d=c[b];return typeof d=="function"&&AdfLogWriter.prototype.isPrototypeOf(d.prototype)?new d(c,a):(b!="NativeLogWriter"&&AdfLogger.LOGGER.warning('"',AdfAgent.logWritersString,'", is an undefined LogWriter or is not a subclass of AdfLogWriter. ',"Now using the native log writer. Set the Log Writer parameter in the ","web.xml file to use a specific LogWriter."),this.CreateDefaultLogWriter(a))};
AdfAgent.prototype.CreateDefaultLogWriter=function(a){return AdfAssert.DEBUG?new AdfConsoleLogWriter(this._window,a):a};AdfAgent.prototype.CreateNativeLogWriter=function(){return new AdfAlertLogWriter};AdfAgent.prototype.setImageSource=function(a,b){a.src=b};AdfAgent.prototype.setImageTooltip=function(a,b){a.alt=b};AdfAgent.prototype.createXmlDocument=function(){return this.getDomDocument().implementation.createDocument("","",null)};AdfAgent.prototype.getFormElement=function(a,b){return a.elements[b]};
AdfAgent.prototype.showBusyCursor=function(a,b){AdfAssert.assertBoolean(b);if(b){if(!this._busyCursorShown)this._oldBodyCursor=a.body.style.cursor,this._busyCursorShown=!0,a.body.style.cursor="wait"}else if(this._busyCursorShown=!1,a.body.style.cursor=="wait"){if(!this._oldBodyCursor)this._oldBodyCursor="auto";a.body.style.cursor=this._oldBodyCursor}};AdfAgent.prototype.forceCursorChange=function(){};
AdfAgent.prototype.setCursor=function(a,b){AdfAssert.assertDomElement(a);AdfAssert.assertString(b);a.style.cursor=b};AdfAgent.eatEventCallback=function(a){var b=AdfAgent.AGENT;(a=a!=null?a:b.getDomWindow().event)&&b.eatEvent(a);return!1};AdfAgent.preventDefaultCallback=function(a){a=a!=null?a:this._window.event;AdfAgent.AGENT.preventDefault(a);return!1};
AdfAgent.prototype.installKeyboardBlocker=function(a,b){b?(a.addEventListener("keypress",AdfAgent.eatEventCallback,!0),a.addEventListener("keyup",AdfAgent.eatEventCallback,!0),a.addEventListener("keydown",AdfAgent.eatEventCallback,!0)):(a.removeEventListener("keypress",AdfAgent.eatEventCallback,!0),a.removeEventListener("keyup",AdfAgent.eatEventCallback,!0),a.removeEventListener("keydown",AdfAgent.eatEventCallback,!0))};AdfAgent.prototype.setOpacity=function(a,b){a.style.opacity=b/100};
AdfAgent.prototype.disableBrowserContextMenu=function(a,b){b?this.addBubbleEventListener(a,"contextmenu",this.preventDefault):this.removeBubbleEventListener(a,"contextmenu",this.preventDefault)};AdfAgent.prototype.execScript=function(a,b){a.eval(b)};
AdfAgent.prototype.createStyle=function(a){var b=document.createElement("style");b.setAttribute("type","text/css");b.appendChild(document.createTextNode(a));AdfDomUtils.getFirstDescendentElement(AdfAgent.AGENT.getDomDocument().documentElement,"HEAD").appendChild(b);return b};AdfAgent.prototype.setExpandoProperty=function(a,b,c){AdfAssert.assertDomElement(a);AdfAssert.assertString(b);a[b]=c;AdfAssert.assert(this.getExpandoProperty(a,b)==c)};
AdfAgent.prototype.getExpandoProperty=function(a,b,c){AdfAssert.assertDomElement(a);AdfAssert.assertString(b);a=a[b];return a!=void 0?a:c};AdfAgent.prototype.getCursor=function(a){return a};AdfAgent.getCSS2Cursor=function(a){return AdfAgent._CSS3_TO_CSS2_MAP[a]};AdfAgent.prototype.scrollToPos=function(a,b,c){if(c!=null)a.scrollTop=c;if(b!=null)a.scrollLeft=b};
AdfAgent.prototype.isClipped=function(a){if(a.scrollWidth>a.offsetWidth||a.scrollHeight>a.offsetHeight)return!0;var b=this._document.body;if(a==b||a==this._document)return!1;var c=a.offsetParent,d=a.offsetLeft,f=a.offsetTop,g=a.offsetWidth,h=a.offsetHeight,j=this.getComputedStyle(a),k=AdfAgent.getCSSLengthAsInt(j.paddingLeft),l=AdfAgent.getCSSLengthAsInt(j.paddingRight),m=AdfAgent.getCSSLengthAsInt(j.paddingTop),n=AdfAgent.getCSSLengthAsInt(j.paddingBottom);f+=m;d+=k;h-=m+n;g-=k+l;for(j=j.position==
"absolute";c&&c!=b;){if(c.clientHeight>0&&c.clientWidth>0){if(d+2<c.scrollLeft||f+2<c.scrollTop)return!0;if(d+g-2>c.scrollLeft+c.clientWidth||f+h-2>c.scrollTop+c.clientHeight)if(!j||this.getComputedStyle(c).overflow!="visible")return!0}a=c;j=this.getComputedStyle(a);j.position=="absolute"?(k=AdfAgent.getCSSLengthAsInt(j.left),l=AdfAgent.getCSSLengthAsInt(j.top),j=!0):(k=a.offsetLeft,l=a.offsetTop,j=!1);d+=k-a.scrollLeft;f+=l-a.scrollTop;c=c.offsetParent}return!1};
AdfAgent.prototype.getPreferredKeyEventForRepetition=function(){if(this.getOS()==AdfAgent.MAC_OS)return AdfUIInputEvent.KEY_PRESS_EVENT_TYPE;return AdfUIInputEvent.KEY_DOWN_EVENT_TYPE};AdfAgent.prototype.isDisabledOptionSupported=function(){return!0};AdfAgent.prototype.resizeStretchedChild=function(){};AdfAgent.prototype.resizeStretchedElement=function(){};
AdfAgent.prototype.prepareStretchedChild=function(a,b){AdfAssert.assert(b!=null,"parent padding not specified");var c=a.style;c.position="absolute";c.width="auto";c.height="auto";c.left=b;c.top=b;c.bottom=b;c.right=b};AdfAgent.prototype.repositionStretchedElement=function(a,b,c,d,f){if(a){a=a.style;if(b)a.top=b;if(d)a.left=d;if(c)a.height="auto",a.bottom=c;if(f)a.width="auto",a.right=f}};AdfAgent.prototype.isEqualIcon=function(a,b){return a.parentNode.innerHTML==b.parentNode.innerHTML};
AdfAgent.prototype.addOption=function(a,b,c,d,f,g,h){var j=this._document.createElement("option");a.options.add(j,h);if(c!=null)j.value=c;b&&AdfAgent.AGENT.setTextContent(j,b);j.selected=d;j.disabled=f;if(g)j.title=g};AdfAgent.prototype.removeIdsFromDomSubTree=function(a){var b=a.id;if(b!=null&&b!="")a.id="";var a=a.childNodes,c;for(c in a)b=a[c],b.nodeType==1&&this.removeIdsFromDomSubTree(b)};
AdfAgent.prototype.modifyIdsInDomSubTree=function(a,b,c){var d=a.id;if(d!=null&&d!="")a.id=b?c+"::"+d:d+"::"+c;var a=a.childNodes,f;for(f in a)d=a[f],d.nodeType==1&&this.modifyIdsInDomSubTree(d,b,c)};AdfAgent.prototype.removeStyleProperty=function(a,b){a.style.removeProperty(b)};AdfAgent.prototype.setTableRowHeight=function(a,b){a.style.height=b+"px"};AdfAgent.prototype.autoCompleteForm=function(){};AdfAgent.prototype.getTableRows=function(a){return a.rows};AdfAgent.prototype.getTableRowCells=function(a){return a.cells};
AdfAgent.prototype.getTableRow=function(a,b){return a.rows[b]};AdfAgent.prototype.parseXML=function(a){var b=null;if(a&&a.length){var c=new DOMParser;try{b=c.parseFromString(a,"text/xml")}catch(d){}}return b};AdfAgent.prototype.cloneNode=function(a){return a.cloneNode(!0)};AdfAgent.prototype.clearSubtreeIds=function(a){if(a.id)a.id="";if(a.name)a.name="";for(a=a.firstChild;a;)a.nodeType==1&&this.clearSubtreeIds(a),a=a.nextSibling};AdfAgent.prototype.getCapabilities=function(){return this._capabilities};
AdfAgent.prototype.isDragPrepEvent=function(a){return a instanceof AdfUIInputEvent&&a.getType()==AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE&&a.isLeftButtonPressed()};
AdfAgent.prototype.createDraggableNode=function(a){var b=this.cloneNode(a);b.nodeType==1&&this.clearSubtreeIds(b);AdfDomUtils.addCSSClassName(a,AdfAgent.DRAG_GHOST_STYLECLASS);this.copyStyle(a,b);AdfDomUtils.removeCSSClassName(a,AdfAgent.DRAG_GHOST_STYLECLASS);if(b.nodeType==1){var c=a.ownerDocument,d,f;if(b.nodeName=="TD"||b.nodeName=="TH")d=a.parentNode.parentNode.parentNode,f=c.createElement("TR"),f.appendChild(b),b=f;if(b.nodeName=="TR"){if(a.nodeName=="TR")for(var d=a.parentNode.parentNode,f=
this.getTableRowCells(a),g=this.getTableRowCells(b),h=f.length,j=this.IsComputedWidthAuto(),k=0;k<h;k++)j?g[k].width=f[k].offsetWidth:g[k].style.width=this.getComputedStyle(f[k]).width,g[k].noWrap=!0;f=c.createElement("TBODY");f.appendChild(b);b=f}if(b.nodeName=="TBODY"||b.nodeName=="THEAD"||b.nodeName=="TFOOT"){if(!d)d=a.parentNode;f=c.createElement("TABLE");f.cellSpacing=d.cellSpacing;f.cellPadding=d.cellPadding;f.border=d.border;this.copyStyle(d,f);f.appendChild(b);b=f}}this.CopyDragSize(a,b);
return b};AdfAgent.prototype.CopyDragSize=function(a,b){var c=b.style;c.position="absolute";c.width=a.offsetWidth+"px";c.height=a.offsetHeight+"px";c.top="auto";c.left="auto";c.right="auto";c.bottom="auto";if(c.margin=="auto")c.margin=""};AdfAgent.prototype.IsComputedWidthAuto=function(){return!1};AdfAgent.prototype.createContextMenuEventGenerator=function(){return new AdfTouchContextMenuManager};AdfAgent.prototype.showTooltip=function(){};AdfAgent.prototype.slice=function(){};
AdfAgent.prototype.supportsTransientStyleClasses=function(){return!0};AdfAgent.prototype.getScrollLeft=function(a){AdfAssert.assertDomNode(a);return a.scrollLeft};AdfAgent.prototype.setScrollLeft=function(a,b){AdfAssert.assertDomNode(a);a.scrollLeft=b};AdfAgent._parseFloatVersion=function(a,b){var c=a.match(b);if(c&&(c=c[1]))return parseFloat(c)};
AdfAgent._isGeckoAgentSupported=function(a,b){if(b<1.8||a.indexOf("firefox/")==-1)return!1;if(b>1.8)return!0;var c=AdfAgent._parseFloatVersion(a,/firefox\/(\d+[.]\d+)/);if(c<2||c==void 0)return!1;if(c>=2.1)return!0;if(c=a.match(/firefox\/(2([.]\d+){1,3})/))return c[1]!="2.0.0.1";return!1};
AdfAgent._NATIVE_TO_COMPONENT_MAPPINGS={blur:AdfComponentEvent.BLUR_EVENT_TYPE,focus:AdfComponentEvent.FOCUS_EVENT_TYPE,focusin:AdfComponentEvent.FOCUS_EVENT_TYPE,focusout:AdfComponentEvent.BLUR_EVENT_TYPE,click:AdfUIInputEvent.CLICK_EVENT_TYPE,dblclick:AdfUIInputEvent.DOUBLE_CLICK_EVENT_TYPE,mousedown:AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,mouseup:AdfUIInputEvent.MOUSE_UP_EVENT_TYPE,mousemove:AdfUIInputEvent.MOUSE_MOVE_EVENT_TYPE,mouseover:AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,mouseout:AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE,
keydown:AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,keyup:AdfUIInputEvent.KEY_UP_EVENT_TYPE,keypress:AdfUIInputEvent.KEY_PRESS_EVENT_TYPE,contextmenu:AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE};AdfAgent._REDISTRIBUTE_EVENTS=["click","dblclick","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","focus","blur","contextmenu"];AdfAgent.KEY_EVENTS=["keydown","keypress","keyup"];AdfAgent._MOUSE_EVENTS={click:1,mousedown:1,mouseup:1,mouseover:1,mousemove:1,mouseout:1};
AdfAgent._CSS3_TO_CSS2_MAP={auto:"auto","default":"default",none:"default","context-menu":"default",help:"help",pointer:"pointer",progress:"wait",wait:"wait",cell:"crosshair",crosshair:"crosshair",text:"text","vertical-text":"text",alias:"crosshair",copy:"crosshair",move:"move","no-drop":"move","not-allowed":"move ","e-resize":"e-resize","n-resize":"n-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","s-resize":"s-resize","se-resize":"se-resize","sw-resize":"sw-resize","w-resize":"w-resize",
"ew-resize":"e-resize","ns-resize":"s-resize","nesw-resize":"move","col-resize":"e-resize","row-resize":"s-resize","all-scroll":"move",inherit:"inherit"};AdfAgent._CSS_TO_DOM_MAP={};AdfAgent._RESIZE_EVENTS=["DOMAttrModified","DOMSubtreeModified"];AdfAgent.DRAG_GHOST_STYLECLASS="p_AFDragGhost";
function AdfTouchContextMenuManager(){this.Init()}AdfObject.createSubclass(AdfTouchContextMenuManager);AdfTouchContextMenuManager.prototype.Init=function(){AdfTouchContextMenuManager.superclass.Init.call(this)};AdfTouchContextMenuManager.prototype.dispose=function(){};AdfTouchContextMenuManager.prototype.deriveContextMenuEvent=function(){return null};
function AdfTouchMoveManager(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfTouchMoveManager);AdfTouchMoveManager.prototype.Init=function(){AdfTouchMoveManager.superclass.Init.call(this)};AdfTouchMoveManager.prototype.unregister=function(){};
function AdfDomUIInputEvent(a,b,c){arguments.length&&this.Init(a,b,c)}AdfObject.createSubclass(AdfDomUIInputEvent,AdfUIInputEvent);AdfDomUIInputEvent.prototype.getDoesBubbles=function(){return this.getType()!=AdfUIInputEvent.MOUSE_MOVE_EVENT_TYPE};AdfDomUIInputEvent.prototype.getOffsetX=function(){var a=AdfDomUtils.getElement(this.getNativeEventTarget());return this.getClientX()-AdfAgent.AGENT.getElementLeft(a)};
AdfDomUIInputEvent.prototype.getOffsetY=function(){var a=AdfDomUtils.getElement(this.getNativeEventTarget());return this.getClientY()-AdfAgent.AGENT.getElementTop(a)};AdfDomUIInputEvent.prototype.getClientX=function(){return this.Event.clientX};AdfDomUIInputEvent.prototype.getClientY=function(){return this.Event.clientY};AdfDomUIInputEvent.prototype.getPageX=function(){return this.Event.clientX};AdfDomUIInputEvent.prototype.getPageY=function(){return this.Event.clientY};
AdfDomUIInputEvent.prototype.getScreenX=function(){return this.Event.screenX};AdfDomUIInputEvent.prototype.getScreenY=function(){return this.Event.screenY};AdfDomUIInputEvent.prototype.getButtons=function(){switch(this.Event.button){case 0:return AdfUIInputEvent.LEFT_BUTTON_FLAG;case 1:return AdfUIInputEvent.MIDDLE_BUTTON_FLAG;case 2:return AdfUIInputEvent.RIGHT_BUTTON_FLAG;default:return 0}};AdfDomUIInputEvent.prototype.getKeyCode=function(){return this.Event.keyCode};
AdfDomUIInputEvent.prototype.getKeyModifiers=function(){var a=this.Event,b=a.shiftKey*AdfKeyStroke.SHIFT_MASK|a.ctrlKey*AdfKeyStroke.CTRL_MASK|a.altKey*AdfKeyStroke.ALT_MASK;a.metaKey&&(b|=AdfKeyStroke.META_MASK);return b};AdfDomUIInputEvent.prototype.getNativeEvent=function(){return this.Event};AdfDomUIInputEvent.prototype.getNativeEventTarget=function(){var a=this.Event;return a?AdfAgent.AGENT.getEventTarget(a):this.GetSourceDomElement()};
AdfDomUIInputEvent.prototype.clone=function(){var a=AdfAgent.AGENT.cloneEvent(this.Event);return new this.constructor(this.getSource(),this.getType(),a)};AdfDomUIInputEvent.prototype.cancel=function(){AdfDomUIInputEvent.superclass.cancel.call(this);AdfAgent.AGENT.preventDefault(this.Event)};
AdfDomUIInputEvent.prototype.toDebugString=function(){var a=AdfDomUIInputEvent.superclass.toDebugString.call(this);return a.substring(0,a.length-1)+", nativeEvent="+this.getNativeEvent()+", native target="+this.getNativeEventTarget()+"]"};AdfDomUIInputEvent.prototype.Init=function(a,b,c){AdfAssert.assert(c,"Native event must be specified");AdfDomUIInputEvent.superclass.Init.call(this,a,b);this.Event=c};AdfDomUIInputEvent.prototype.GetSourceDomElement=function(){return AdfRichUIPeer.getDomElementForComponent(this.getSource())};
function AdfDomShowContextMenuEvent(a,b,c){AdfDomShowContextMenuEvent.superclass.Init.call(this,a,b,c)}AdfObject.createSubclass(AdfDomShowContextMenuEvent,AdfDomComponentEvent);AdfDomShowContextMenuEvent.prototype.isPositionalRequest=function(){return AdfDomUIInputEvent.prototype.getButtons.apply(this)&AdfUIInputEvent.RIGHT_BUTTON_FLAG};AdfDomShowContextMenuEvent.prototype.cancel=function(){AdfDomShowContextMenuEvent.superclass.cancel.call(this);AdfAgent.AGENT.preventDefault(this.getNativeEvent())};
function AdfNavigationHistoryAgent(){this.Init()}AdfObject.createSubclass(AdfNavigationHistoryAgent);AdfNavigationHistoryAgent.InitClass=function(){this._STATE_SEPARATOR="@";this._STATE_MARKER="!";this._STATE_MARKER_LENGTH=this._STATE_MARKER.length};AdfNavigationHistoryAgent.prototype.Init=function(){AdfNavigationHistoryAgent.superclass.Init.call(this);this._loadCounter=0};
AdfNavigationHistoryAgent.getInstance=function(){if(AdfNavigationHistoryAgent._instance==void 0){var a=AdfAgent.AGENT;switch(a.getPlatform()){case AdfAgent.GECKO_PLATFORM:AdfNavigationHistoryAgent._instance=new AdfGeckoNavigationHistoryAgent;break;case AdfAgent.IE_PLATFORM:AdfNavigationHistoryAgent._instance=a.getVersion()>7?new AdfIE8NavigationHistoryAgent:new AdfIENavigationHistoryAgent;break;case AdfAgent.WEBKIT_PLATFORM:AdfNavigationHistoryAgent._instance=new AdfSafariNavigationHistoryAgent;break;
default:AdfLogger.LOGGER.severe("Browser history management is not supported on this platform")}}return AdfNavigationHistoryAgent._instance};AdfNavigationHistoryAgent.prototype.initialize=function(a,b){this._currentViewId=this._defaultViewId=a;this._initialized=!0;this._currentParams=this._defaultParams=this._getDefaultQueryParams();if(b)this._currentParams=b};AdfNavigationHistoryAgent.prototype.isInitialized=function(){return!0==this._initialized};
AdfNavigationHistoryAgent.prototype.setCurrentPage=function(a,b,c){this._currentViewId=a;b==void 0&&(b=null);this._currentParams=b;this._currentAnchor=null;if(c!=void 0&&c!=null&&c==this._pendingLoadId){this.setQueryString(b,!0);this._pendingLoadId=this._pendingParams=this._pendingViewId=null;var d=this.GetViewInfoFromBrowserURI();d.anchor!=null&&this._navigateToSavedAnchor(d)}c||this.AddHistoryEntry(a,b)};
AdfNavigationHistoryAgent.prototype.setQueryString=function(a,b){a==void 0&&(a=null);var c=this.GetViewInfoFromBrowserURI(),d=c.id;if(c.params!=a)this._currentParams=a,this.SetQueryStringImpl(d,a,c.anchor,b)};AdfNavigationHistoryAgent.prototype.startTrackingURI=function(a){this._callbackObj=a;a=this.GetViewInfoFromBrowserURI();a.simpleAnchor?this.GetDomWindow().setTimeout(AdfNavigationHistoryAgent._delayedStartTrackingURI,100):this._startTrackingUriImpl(a)};
AdfNavigationHistoryAgent.prototype.dispose=function(){};AdfNavigationHistoryAgent.prototype.SetViewIdOnURI=function(a,b){var c=this.GetViewInfoFromBrowserURI();return c.id!=a||c.params!=b?(this._updateHash(a,b,null,!1),!0):!1};AdfNavigationHistoryAgent.prototype.AddHistoryEntry=function(a,b){return this.SetViewIdOnURI(a,b)};
AdfNavigationHistoryAgent.prototype.ValidateCurrentView=function(a,b){var c=null;if(!this._handleAnchorNavigation()){var d=this.GetViewInfoFromBrowserURI();if(!a)a=d.id,b=d.params;if(a!=this._currentViewId||b!=this._currentParams)c=this._loadView(a,b);c==null&&d.anchor!=this._currentAnchor&&this._navigateToSavedAnchor(d)}return c};
AdfNavigationHistoryAgent.prototype.GetViewInfoFromBrowserURI=function(){var a=this.GetDomWindow(),b={};b.params=this._defaultParams;b.id=this._defaultViewId;var a=a.location.href,c=a.indexOf("#");if(c>=0){var d=a.indexOf(AdfNavigationHistoryAgent._STATE_MARKER,c+1);if(d==c+1){if(a=a.substring(d+AdfNavigationHistoryAgent._STATE_MARKER_LENGTH),a.length>0){a=decodeURIComponent(a);a=a.split(AdfNavigationHistoryAgent._STATE_SEPARATOR);c=a.length;if(c>=1&&a[0]!=="")b.pageId=a[0];if(c>=2&&a[1]!=="")b.id=
a[1];if(c>=3&&a[2]!=="")b.params=a[2];if(c>=4&&a[3]!=="")b.anchor=a[3]}}else b.anchor=decodeURIComponent(a.substring(c+1)),b.simpleAnchor=!0}return b};AdfNavigationHistoryAgent.prototype.GetDomWindow=function(){return AdfPage.PAGE.getDomWindow()};AdfNavigationHistoryAgent.prototype.GetDomDocument=function(){return AdfPage.PAGE.getDomDocument()};AdfNavigationHistoryAgent.prototype.SetQueryStringImpl=function(a,b,c,d){this._updateHash(a,b,c,d)};
AdfNavigationHistoryAgent.prototype._getDefaultQueryParams=function(){var a=null,b=this.GetDomWindow().location.search;b&&b.length>0&&(a=b);return a};
AdfNavigationHistoryAgent.prototype._updateHash=function(a,b,c,d){a==this._defaultViewId&&(a=void 0);b==this._defaultParams&&(b=void 0);for(var a=[null,a,b,c],b="",c=!1,e=a.length-1;e>=0;e--)a[e]!=null&&(b=a[e]+b,c=!0),c&&e!=0&&(b=AdfNavigationHistoryAgent._STATE_SEPARATOR+b);b="#"+AdfNavigationHistoryAgent._STATE_MARKER+encodeURIComponent(b);d?this.GetDomWindow().location.replace(b):this.GetDomWindow().location.hash=b};
AdfNavigationHistoryAgent.prototype._loadView=function(a,b){if(!this._callbackObj||a==this._pendingViewId&&b==this._pendingParams)return null;this._pendingViewId=a;this._pendingParams=b;a==this._defaultViewId&&b==this._defaultParams&&(a=null);this._pendingLoadId=this._loadCounter++;this._callbackObj.loadView(a,b,this._pendingLoadId);return{id:this._pendingViewId,params:this._pendingParams}};
AdfNavigationHistoryAgent.prototype._navigateToSavedAnchor=function(a){this._currentAnchor=a.anchor;var b="#";b+=encodeURIComponent(a.anchor);this.GetDomWindow().location.replace(b);this._updateHash(this._currentViewId,this._currentParams,this._currentAnchor,!0)};
AdfNavigationHistoryAgent.prototype._handleAnchorNavigation=function(){var a=!1,b=this.GetDomWindow().location.href,c=b.indexOf("#");if(c>=0&&b.indexOf(AdfNavigationHistoryAgent._STATE_MARKER,c+1)!=c+1)this._currentAnchor=decodeURIComponent(b.substring(c+1)),this._updateHash(this._currentViewId,this._currentParams,this._currentAnchor,!0),a=!0;return a};AdfNavigationHistoryAgent._delayedStartTrackingURI=function(){AdfNavigationHistoryAgent.getInstance()._startTrackingUriImpl(null)};
AdfNavigationHistoryAgent.prototype._startTrackingUriImpl=function(a){a==null&&(a=this.GetViewInfoFromBrowserURI());this._currentAnchor=a.anchor;this._recordCurrentTrackedValues();if(!a.simpleAnchor)this._currentAnchor=void 0;this.ValidateCurrentView()};AdfNavigationHistoryAgent.prototype._recordCurrentTrackedValues=function(){this._updateHash(this._currentViewId,this._currentParams,this._currentAnchor,!0)};
AdfNavigationHistoryAgent.prototype.isWaitingForServer=function(){this.ValidateCurrentView();return this._pendingViewId!=null};
function AdfGeckoLogWriter(){this.Init()}AdfObject.createSubclass(AdfGeckoLogWriter,AdfLogWriter);AdfGeckoLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");window.dump(this.FormatLogRecord(a)+"\n\n")};
function AdfFireBugLogWriter(a,b){AdfAssert.assert(window.console&&window.console.firebug,"Firebug not installed");AdfFireBugLogWriter._originalAssertionFailed=AdfAssert.assertionFailed;AdfAssert.assertionFailed=AdfFireBugLogWriter._assertionHook;this.Init(a,b)}AdfObject.createSubclass(AdfFireBugLogWriter,AdfLogWriter);
AdfFireBugLogWriter.prototype.Init=function(a,b){AdfFireBugLogWriter.superclass.Init.call(this,a,b);this._errorLogWriter=AdfFireBugLogWriter.WRITE_ERRORS_TO_CONSOLE?new AdfConsoleLogWriter(a,b):null};
AdfFireBugLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");var b=this._errorLogWriter,c=a[AdfLogRecord.ERROR_FIELD];if(c&&b)b.publish(a);else{var b=window.console,d=a[AdfLogRecord.LEVEL_FIELD],d=d>=AdfLogger.SEVERE?b.error:d>=AdfLogger.WARNING?b.warn:d>=AdfLogger.INFO?b.info:b.debug,e=this._wrapText(a[AdfLogRecord.MESSAGE_FIELD]),a=a[AdfLogRecord.WHEN_FIELD];c?d.call(b,"Message:%s\nError:%o\nWhen:%o",e,c,a):d.call(b,"Message:%s\nWhen:%o",e,a)}};
AdfFireBugLogWriter.prototype._wrapText=function(a){if(a==null)return null;AdfAssert.assertString(a);if(a.length<=100)return a;else{for(var a=a.split("\n"),b=[],c=a.length,d=0;d<c;d++){var e=0,f=a[d],g=f.length;if(g<100)b.push(f);else for(;e<g;){var h=e+100,k=f.lastIndexOf(" ",h),l=f.lastIndexOf("\t",h);l>k&&(k=l);k<e?(k=h,h=0):h=1;b.push("\t"+f.substring(e,k));e=k+h}}return b.join("\n")}};
AdfFireBugLogWriter.prototype.flush=function(){AdfFireBugLogWriter.superclass.flush.call(this);var a=this._errorLogWriter;a&&a.flush()};AdfFireBugLogWriter.prototype.close=function(){AdfFireBugLogWriter.superclass.close.call(this);var a=this._errorLogWriter;a&&a.close()};
AdfFireBugLogWriter._assertionHook=function(a,b,c){var d=window.console;if(d){var e=a;e==null?e="":e+=" ";var f="Assertion %sfailed ",e=[null,e];c!=null&&(f+=" because %s ",e[2]=c);f+="at:";e[0]=f;d.group.apply(d,e);d.trace();d.groupEnd()}AdfFireBugLogWriter._originalAssertionFailed(a,b+1,c)};AdfFireBugLogWriter.WRITE_ERRORS_TO_CONSOLE=!0;
function AdfGeckoAgent(a,b){arguments.length&&this.Init(a,b)}AdfObject.createSubclass(AdfGeckoAgent,AdfAgent);AdfGeckoAgent.InitClass=function(){AdfGeckoAgent._NBSP_STRING=String.fromCharCode(160)};AdfGeckoAgent.prototype.Init=function(a,b){AdfGeckoAgent.superclass.Init.call(this,AdfAgent.GECKO_PLATFORM,AdfAgent.guessOS(),a,b);this._ID_TO_DOM_MAP={}};
AdfGeckoAgent.prototype.getElementById=function(a){if(AdfAssert.DEBUG){var b=this._ID_TO_DOM_MAP[a],c=this.getDomDocument().getElementById(a);b!=c&&AdfAssert.assert(!1,"document.getElementById('"+a+"')=="+c+" not "+b)}return this._ID_TO_DOM_MAP[a]};AdfGeckoAgent.prototype.getSessionStorageProperty=function(a){AdfAssert.assertString(a);var b=null;try{b=sessionStorage.getItem(a)}catch(c){throw AdfLogger.LOGGER.logErrorAsInfo(c,"An error occurred trying to access DOM sessionStorage."),c;}return b};
AdfGeckoAgent.prototype.removeSessionStorageProperty=function(a){AdfAssert.assertString(a);try{sessionStorage.removeItem(a)}catch(b){throw AdfLogger.LOGGER.logErrorAsInfo(b,"An error occurred trying to access DOM sessionStorage."),b;}};AdfGeckoAgent.prototype.setSessionStorageProperty=function(a,b){AdfAssert.assertString(a);AdfAssert.assertString(b);try{sessionStorage.setItem(a,b)}catch(c){throw AdfLogger.LOGGER.logErrorAsInfo(c,"An error occurred trying to access DOM sessionStorage."),c;}};
AdfGeckoAgent.prototype.elementsRemoved=function(a){var b=this._ID_TO_DOM_MAP,c=a.id;c!=null&&delete b[c];if(a.firstChild){a=this.getDomDocument().evaluate(".//*[@id]",a,null,XPathResult.ANY_TYPE,null);for(c=a.iterateNext();c;)(c=c.getAttribute("id"))&&delete b[c],c=a.iterateNext()}};AdfGeckoAgent.prototype.allElementsRemoved=function(){this._ID_TO_DOM_MAP={};this.elementsAdded(this.getDomDocument())};
AdfGeckoAgent.prototype.elementsAdded=function(a){var b=this._ID_TO_DOM_MAP,c=a.id;c!=null&&(b[c]=a);if(a.firstChild){a=this.getDomDocument().evaluate(".//*[@id]",a,null,XPathResult.ANY_TYPE,null);for(c=a.iterateNext();c;){var d=c.getAttribute("id");d&&(b[d]=c);c=a.iterateNext()}}};
AdfGeckoAgent.prototype.getDescendantComponentsForNode=function(a,b){b||(b=[]);if(a.firstChild)for(var c=AdfPage.PAGE,d=this.getDomDocument().evaluate(".//*[@id]",a,null,XPathResult.ANY_TYPE,null),e=d.iterateNext();e;)(e=c.findComponent(e.id))&&b.push(e),e=d.iterateNext();return b};AdfGeckoAgent.prototype.setButtonTextContent=function(a,b){AdfAssert.assertDomNode(a);if(b===null||b.length==0)b=AdfGeckoAgent._NBSP_STRING;a.textContent=b};
AdfGeckoAgent.prototype.disableUserSelect=function(a){a.style.MozUserSelect="none"};AdfGeckoAgent.prototype.enableUserSelect=function(a){a.style.MozUserSelect=""};AdfGeckoAgent.prototype.CreateUIInputEvent=function(a,b,c){if(c.type=="click"&&c.button==2)return null;return new AdfGeckoUIInputEvent(a,b,c)};
AdfGeckoAgent.prototype.CreateDefaultLogWriter=function(a){var b=this.getDomWindow();return b.console&&b.console.firebug?new AdfFireBugLogWriter(b,a):AdfGeckoAgent.superclass.CreateDefaultLogWriter.call(this,a)};AdfGeckoAgent.prototype.CreateNativeLogWriter=function(){return new AdfGeckoLogWriter};AdfGeckoAgent.prototype.getWindowClientWidth=function(a){return a.innerWidth};AdfGeckoAgent.prototype.getWindowClientHeight=function(a){return a.innerHeight};
AdfGeckoAgent.prototype.getWindowScrollWidth=function(a){return a.innerWidth+a.scrollMaxX};AdfGeckoAgent.prototype.getWindowScrollHeight=function(a){return a.innerHeight+a.scrollMaxY};
AdfGeckoAgent.prototype.pointInElementOrChildBounds=function(a,b,c){if(this.pointInElementBounds(a,b,c))return!0;if(!a.clientHeight&&!a.clientWidth){for(var d=a.parentNode;d;d=d.parentNode)if(d.clientWidth||d.clientHeight){if(this.pointInElementBounds(d,b,c))break;return!1}for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==1&&a.style.position!="absolute"&&this.pointInElementOrChildBounds(a,b,c))return!0}return!1};AdfGeckoAgent.prototype.isChromeEvent=function(){return!1};
AdfGeckoAgent.prototype.setImageSource=function(a,b){a.setAttribute("src",b);this._needsReset=!0};AdfGeckoAgent.prototype.setImageTooltip=function(a,b){a.title=b};AdfGeckoAgent.prototype.addEventBubbles=function(a,b){this._addEventListeners(a,AdfGeckoAgent._REDISTRIBUTE_BUBBLE_EVENTS,b,!1);this._addEventListeners(a,AdfGeckoAgent._REDISTRIBUTE_CAPTURE_EVENTS,b,!0);AdfGeckoAgent.superclass.addEventBubbles.call(this,a,AdfGeckoAgent._resetThrobber)};
AdfGeckoAgent.prototype.removeEventBubbles=function(a,b){this._removeEventListeners(a,AdfGeckoAgent._REDISTRIBUTE_BUBBLE_EVENTS,b,!1);this._removeEventListeners(a,AdfGeckoAgent._REDISTRIBUTE_CAPTURE_EVENTS,b,!0);AdfGeckoAgent.superclass.removeEventBubbles.call(this,a,AdfGeckoAgent._resetThrobber)};
AdfGeckoAgent.prototype._addEventListeners=function(a,b,c,d){AdfAssert.assertDomNode(a);AdfAssert.assertArray(b);AdfAssert.assertFunction(c);AdfAssert.assertBoolean(d);for(var e=b.length,f=0;f<e;f++)a.addEventListener(b[f],c,d)};AdfGeckoAgent.prototype._removeEventListeners=function(a,b,c,d){AdfAssert.assertDomNode(a);AdfAssert.assertArray(b);AdfAssert.assertFunction(c);AdfAssert.assertBoolean(d);for(var e=b.length,f=0;f<e;f++)a.removeEventListener(b[f],c,d)};
AdfGeckoAgent.prototype.addKeyEventListener=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);a.addEventListener("keypress",b,!1)};AdfGeckoAgent.prototype.removeKeyEventListener=function(a,b){AdfAssert.assertDomNode(a);AdfAssert.assertFunction(b);a.removeEventListener("keypress",b,!1)};
AdfGeckoAgent._resetThrobber=function(){var a=AdfAgent.AGENT;if(a._needsReset){a._needsReset=!1;var a=a.getDomDocument(),b=a.documentElement,c=a.createElement("iframe");c.frameBorder="0";c.scrolling="no";c.style.zIndex=900;c.style.position="absolute";c.style.borderStyle="none";c.style.top=b.style.top;c.style.left=b.style.left;c.style.width=b.offsetWidth+"px";c.style.height=b.offsetHeight+"px";a.body.appendChild(c);a.body.removeChild(c)}};
AdfGeckoAgent.prototype.showBusyCursor=function(a,b){AdfGeckoAgent.superclass.showBusyCursor(a,b);this.forceCursorChange(a)};AdfGeckoAgent.prototype.isLeftButtonClick=function(a){return a.type=="click"&&a.button==0};AdfGeckoAgent.prototype.getKeyCode=function(a){return this.isFunctionKey(a)?a.keyCode:(a=a.charCode,a>=97&&a<=122?a-32:a)};AdfGeckoAgent.prototype.isElementHTML=function(a){AdfAssert.assertDomNode(a);return a instanceof HTMLElement};
AdfGeckoAgent.prototype.removeIdsFromDomSubTree=function(a){var b=a.id;if(b!=null&&b!="")a.id="";if(a.firstChild){a=this.getDomDocument().evaluate(".//*[@id]",a,null,XPathResult.ANY_TYPE,null);for(b=a.iterateNext();b;){var c=b.id;if(c!=null&&c!="")b.id="";b=a.iterateNext()}}};AdfGeckoAgent.prototype.GetCssToDomPropertyNameMap=function(){return AdfGeckoAgent._CSS_TO_DOM_MAP};AdfGeckoAgent.prototype.getBoxSizing=function(a,b){b||(b=this.getComputedStyle(a));return b.getPropertyValue("-moz-box-sizing")};
AdfGeckoAgent._CSS_TO_DOM_MAP={"float":"cssFloat"};AdfGeckoAgent._MOZ_USER_DEFINED="_moz-userdefined";AdfGeckoAgent._FAKE_MOUSEMOVE_EVENT=void 0;AdfGeckoAgent._REDISTRIBUTE_BUBBLE_EVENTS=["click","dblclick","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","contextmenu"];AdfGeckoAgent._REDISTRIBUTE_CAPTURE_EVENTS=["focus","blur"];
AdfGeckoAgent._getBoxObjectFor=function(a){var b=a.ownerDocument;if(b.getBoxObjectFor)return b.getBoxObjectFor(a);a=a.getBoundingClientRect();return{x:Math.round(a.left),y:Math.round(a.top),width:Math.round(a.width),height:Math.round(a.height)}};
AdfGeckoAgent.prototype.slice=function(a,b,c){if(!(typeof Blob==="undefined"||typeof Blob.prototype.slice==="undefined"&&typeof Blob.prototype.mozSlice==="undefined")){if(a==null)return null;if(a.slice)return a.slice(b,c);else if(a.mozSlice)return a.mozSlice(b,c)}};
AdfGeckoAgent.prototype.atLeast=function(a,b){if(typeof b=="number")return AdfGeckoAgent.superclass.atLeast.call(this,a,b);else if(b&&a&&a==this.getPlatform()){var c=navigator.userAgent.toLowerCase().match(/rv:(\d+)\.(\d+)\.?(\d+)?\.?(\d+)?/);AdfAssert.assertArray(c,"parse gecko version string");c.splice(0,1);for(var d=b.split("."),e=Math.max(d.length,c.length),f=0;f<e;f++){var g=parseInt(c[f]?c[f]:0),h=parseInt(d[f]?d[f]:0);if(h!=g)return h<g?!0:!1}}else return!1;return!0};
AdfGeckoAgent.prototype.getElementLeft=function(a){AdfAssert.assertDomElement(a);var b=a.getBoundingClientRect().left;b+=a.ownerDocument.documentElement.scrollLeft;return b};AdfGeckoAgent.prototype.getElementTop=function(a){AdfAssert.assertDomElement(a);var b=a.getBoundingClientRect(),b=Math.round(b.top);b+=a.ownerDocument.documentElement.scrollTop;return b};
AdfGeckoAgent.prototype.getElementPosition=function(a){AdfAssert.assertDomElement(a);var b=a.getBoundingClientRect(),c=Math.round(b.top),b=b.left,a=a.ownerDocument.documentElement;b+=a.scrollLeft;c+=a.scrollTop;return{x:b,y:c}};AdfGeckoAgent.prototype.pointInElementBounds=function(a,b,c){var d=a.getBoundingClientRect(),a=a.ownerDocument.documentElement;b-=a.scrollLeft;c-=a.scrollTop;return c>=d.top&&c<=d.bottom&&b>=d.left&&b<=d.right};
AdfGeckoAgent.prototype.getElementPageBounds=function(a){AdfAssert.assertDomElement(a);var b=a.getBoundingClientRect(),a=a.ownerDocument.documentElement;deltaX=a.scrollLeft;deltaY=a.scrollTop;return{top:Math.round(b.top)+deltaY,left:b.left+deltaX,bottom:Math.round(b.bottom)+deltaY,right:b.right+deltaX}};AdfGeckoAgent.prototype.getScrollLeft=function(a){AdfAssert.assertDomNode(a);if(AdfPage.PAGE.getLocaleContext().isRightToLeft()&&a.scrollLeft<0)return a.scrollLeft*-1;return a.scrollLeft};
AdfGeckoAgent.prototype.setScrollLeft=function(a,b){AdfAssert.assertDomNode(a);a.scrollLeft=AdfPage.PAGE.getLocaleContext().isRightToLeft()&&b>0?b*-1:b};
function AdfGecko5Agent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfGecko5Agent,AdfGeckoAgent);AdfGecko5Agent.prototype.Init=function(a,b){AdfGecko5Agent.superclass.Init.call(this,a,b)};AdfGecko5Agent.prototype.isDefaultPrevented=function(a){return a.getPreventDefault()};
function AdfGecko19Agent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfGecko19Agent,AdfGecko5Agent);AdfGecko19Agent.prototype.Init=function(a,b){AdfGecko19Agent.superclass.Init.call(this,a,b)};
function AdfGecko18Agent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfGecko18Agent,AdfGecko19Agent);AdfGecko18Agent.prototype.Init=function(a,b){AdfGecko18Agent.superclass.Init.call(this,a,b)};
AdfGecko18Agent.prototype.getElementLeft=function(a){AdfAssert.assertDomElement(a);var b=a.ownerDocument;if(b.getBoxObjectFor===void 0)return a=a.getBoundingClientRect(),a=Math.round(a.left),a+=b.documentElement.scrollLeft,a;var c=b.getBoxObjectFor(a),a=c.screenX,c=b.getBoxObjectFor(b.documentElement);a-=c.screenX;return a};
AdfGecko18Agent.prototype.getElementTop=function(a){AdfAssert.assertDomNode(a);var b=a.ownerDocument;if(b.getBoxObjectFor===void 0)return a=a.getBoundingClientRect(),a=Math.round(a.top),a+=b.documentElement.scrollTop,a;var c=b.getBoxObjectFor(a),a=c.screenY,c=b.getBoxObjectFor(b.documentElement);a-=c.screenY;return a};
AdfGecko18Agent.prototype.getElementPosition=function(a){AdfAssert.assertDomElement(a);var b=a.ownerDocument;if(b.getBoxObjectFor===void 0){var c=a.getBoundingClientRect(),a=Math.round(c.top),c=Math.round(c.left),b=b.documentElement;c+=b.scrollLeft;a+=b.scrollTop;return{x:c,y:a}}var d=b.getBoxObjectFor(a),a=d.screenY,c=d.screenX,d=b.getBoxObjectFor(b.documentElement);a-=d.screenY;c-=d.screenX;return{x:c,y:a}};
AdfGecko18Agent.prototype.pointInElementBounds=function(a,b,c){AdfAssert.assertDomNode(a);for(var d=0,e=0,f=a;f!=null;)d+=f.scrollTop,e+=f.scrollLeft,f=f.offsetParent;c+=d;b+=e;e=a.ownerDocument;d=AdfGeckoAgent._getBoxObjectFor(a);if(c>=d.y&&b>=d.x)return a==e.documentElement?(e=a.clientWidth,a=a.clientHeight):(e=d.width,a=d.height),c<=d.y+a&&b<=d.x+e;return!1};
AdfGecko18Agent.prototype.getElementPageBounds=function(a){AdfAssert.assertDomNode(a);for(var b=a.ownerDocument,c=AdfGeckoAgent._getBoxObjectFor(a),d=0,e=0,f=a;f!=null;)d+=f.scrollTop,e+=f.scrollLeft,f=f.offsetParent;d=c.y-d;e=c.x-e;a==b.documentElement?(b=a.clientWidth,a=a.clientHeight):(b=c.width,a=c.height);return{top:d,left:e,bottom:d+a,right:e+b}};
function AdfGecko17Agent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfGecko17Agent,AdfGecko18Agent);AdfGecko17Agent.prototype.Init=function(a,b){AdfGecko17Agent.superclass.Init.call(this,a,b)};
AdfGecko17Agent.prototype.forceCursorChange=function(a){AdfAssert.assertDomNode(a);var b=AdfGeckoAgent._FAKE_MOUSEMOVE_EVENT;if(!b)b=a.createEvent("MouseEvents"),AdfGeckoAgent._FAKE_MOUSEMOVE_EVENT=b;var c=a.getBoxObjectFor(a.documentElement),d=a.body;b.initMouseEvent("mousemove",1,1,a.contentWindow,0,10+c.screenX,10+c.screenY,10,10,0,0,0,0,0,d);d.dispatchEvent(b)};AdfGecko17Agent.prototype.getCursor=function(a){return AdfAgent.getCSS2Cursor(a)};
function AdfGeckoNavigationHistoryAgent(){this.Init()}AdfObject.createSubclass(AdfGeckoNavigationHistoryAgent,AdfNavigationHistoryAgent);AdfGeckoNavigationHistoryAgent.InitClass=function(){this._TIMER_INTERVAL=300};AdfGeckoNavigationHistoryAgent.prototype.startTrackingURI=function(a){AdfGeckoNavigationHistoryAgent.superclass.startTrackingURI.call(this,a);this._timerId=this.GetDomWindow().setInterval(AdfGeckoNavigationHistoryAgent._checkURI,AdfGeckoNavigationHistoryAgent._TIMER_INTERVAL)};
AdfGeckoNavigationHistoryAgent.prototype.dispose=function(){this._timerId&&this.GetDomWindow().clearInterval(this._timerId)};AdfGeckoNavigationHistoryAgent._checkURI=function(){AdfNavigationHistoryAgent.getInstance().ValidateCurrentView()};
function AdfOperaLogWriter(){this.Init()}AdfObject.createSubclass(AdfOperaLogWriter,AdfLogWriter);AdfOperaLogWriter.prototype.PublishImpl=function(a){this.CheckIfClosed();AdfAssert.assert(a,"null logRecord");opera.postError(this.FormatLogRecord(a)+"\n\n")};
function AdfOperaAgent(a){this.Init(a)}AdfObject.createSubclass(AdfOperaAgent,AdfAgent);AdfOperaAgent.prototype.Init=function(a){var b=navigator.userAgent.toLowerCase().match(/^opera\s*\/?\s*(\d+\.\d+)/),c=7.54;b&&b.length>=2&&(c=parseFloat(b[1]));AdfOperaAgent.superclass.Init.call(this,AdfAgent.OPERA_PLATFORM,AdfAgent.guessOS(),c,a)};AdfOperaAgent.prototype.CreateUIInputEvent=function(a,b,c){return new AdfIEUIInputEvent(a,b,c)};
AdfOperaAgent.prototype.isLeftButton=function(){return this.getDomWindow().event.button==1};AdfOperaAgent.prototype.preventDefault=function(a){a.returnValue=!1};AdfOperaAgent.prototype.CreateNativeLogWriter=function(){return new AdfOperaLogWriter};
function AdfPage(){}AdfPage._NEW_WINDOW_NAME="RichPageMain";AdfPage.CREATE_VIEW_PHASE="createViewPhase";AdfPage.UPDATE_VIEW_PHASE="updateViewPhase";AdfPage.DELIVER_EVENTS_PHASE="deliverEventsPhase";AdfPage.WAITING_FOR_USER_INPUT_PHASE="waitingForUserInputPhase";AdfPage._FOR_CONTAINER_PREFIX="afr::msgFor";AdfPage.EDITABLE_SUBTREE_PROPERTY="editableSubtree";AdfPage.SELECTED_EDITING_COMPONENTS_PROPERTY="selectedEditingComponents";AdfPage.EDITED_COMPONENT_PROPERTY="editedComponent";
AdfPage.ACTIVE_COMPONENT_PROPERTY="activeComponent";AdfPage.PAGE=null;AdfObject.createSubclass(AdfPage);AdfPage.prototype.setPageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getPageProperty=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setDefaultMessageHandlerComponentId=function(){};AdfPage.prototype.getDefaultMessageHandlerComponentId=function(){};AdfPage.prototype.getMessageHandlerSlaveComponentId=function(){};AdfPage.prototype.getPhase=function(){return this._phase};
AdfPage.prototype.addPartialTargets=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.findComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.findComponentByAbsoluteId=function(a){AdfAssert.assertNonEmptyString(a);return AdfUIComponent.__findComponent(":"+a)};AdfPage.prototype.findComponentByAbsoluteLocator=function(a){AdfAssert.assertNonEmptyString(a);return AdfUIComponent.__findComponentByLocator(a)};AdfPage.prototype.getComponentsByType=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.getViewId=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.GetChangedComponents=function(){return this._changedComponentCount>0?this._changedComponents:null};AdfPage.prototype.addChangedComponent=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);var b=this._changedComponents,c=a.getClientId();c in b||this._changedComponentCount++;b[c]=a};
AdfPage.prototype.removeChangedComponent=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);var b=this._changedComponents,a=a.getClientId();a in b&&(delete b[a],this._changedComponentCount--)};AdfPage.prototype.ClearChangesList=function(){if(this._changedComponentCount>0){var a=this._changedComponents,b;for(b in a)a[b].clearChanges();this._changedComponents={};this._changedComponentCount=0}};AdfPage.prototype.getLookAndFeel=function(){return this._lookAndFeel};
AdfPage.prototype.getActiveComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.addComponents=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getBaseResourceUrl=function(){return this._baseResourceUrl};AdfPage.prototype.setBaseResourceUrl=function(a){this._baseResourceUrl=a};AdfPage.prototype.getTwoDigitYearStart=function(){return this._twoDigitYearStart};AdfPage.prototype.setTwoDigitYearStart=function(a){this._twoDigitYearStart=a};
AdfPage.prototype.getTzOffsetMinutes=function(){return this._tzOffsetMinutes};AdfPage.prototype.setTzOffsetMinutes=function(a){this._tzOffsetMinutes=a};AdfPage.prototype.getFailedConnectionText=function(){return this._failedConnectionText};AdfPage.prototype.setFailedConnectionText=function(a){this._failedConnectionText=a};AdfPage.prototype.registerLoadingComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.unregisterLoadingComponent=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.showPageProcessingIndicator=function(){};AdfPage.prototype.Init=function(a){AdfAssert.assertPrototype(a,AdfLookAndFeel);AdfPage.superclass.Init.call(this);this._lookAndFeel=a;this._phase=AdfPage.CREATE_VIEW_PHASE;this._changedComponents={};this._changedComponentCount=0;var a=AdfAgent.AGENT.createDefaultLogWriter(),b=AdfLogger.LOGGER,a=new AdfLogger(b.getName(),a,b.getLevel());a.register();AdfLogger.LOGGER=a;this._localeContext=new AdfLocaleContext};
AdfPage.prototype.SetPhase=function(a){AdfAssert.assertString(a);this._phase=a};AdfPage.prototype.getLocaleContext=function(){return this._localeContext};AdfPage.prototype.getDnDContext=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.queueEventToServer=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getActiveComponentId=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.addPropertyChangeListener=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.removePropertyChangeListener=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getSelectedEditingComponents=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setSelectedEditingComponents=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getEditableSubtree=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setEditableSubtree=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.setEditableSubtreeFilter=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getEditedComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setEditedComponent=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getResourceURL=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.Dispose=function(){AdfLogger.LOGGER.getLogWriter().close();AdfPage.PAGE=null};AdfPage.prototype.addMessage=function(){};
AdfPage.prototype.showMessages=function(){};AdfPage.prototype.getMessages=function(){};AdfPage.prototype.getAllMessages=function(){};AdfPage.prototype.getClientIdsWithMessages=function(){};AdfPage.prototype.clearMessages=function(){};AdfPage.prototype.clearAllMessages=function(){};AdfPage.prototype.hasMessages=function(){};AdfPage.prototype.addBusyStateListener=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.removeBusyStateListener=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.registerResizeNotifyComponent=function(){};AdfPage.prototype.unregisterResizeNotifyComponent=function(){};AdfPage.prototype.doResizeNotify=function(){};AdfPage.prototype.isScreenReaderMode=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isSynchronizedWithServer=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isAutomationEnabled=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getAsynchronousUpdatesState=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.areCssSelectorsUncompressed=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isAnimationEnabled=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.isPortlet=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.setHelpWindowName=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.launchHelpWindow=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.localNavigate=function(){AdfAssert.failedInAbstractFunction()};
AdfPage.prototype.checkUncommittedData=function(){AdfAssert.failedInAbstractFunction()};AdfPage.prototype.getSessionIdentifier=function(){return null};AdfPage.prototype.getResponseIdentifier=function(){return null};AdfPage.prototype.shouldTracePPRRequestId=function(){return!1};AdfPage.prototype.announceToAssistiveTechnology=function(){AdfAssert.failedInAbstractFunction()};
function AdfLookAndFeel(){this.Init()}AdfObject.createSubclass(AdfLookAndFeel);AdfLookAndFeel.prototype.getPeer=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.getTranslatedString=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.getSkinProperty=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.getIcon=function(){AdfAssert.failedInAbstractFunction()};AdfLookAndFeel.prototype.createPage=function(){return new AdfPage};
AdfLookAndFeel.prototype.registerPeerConstructor=function(){AdfAssert.failedInAbstractFunction()};
function AdfKeyStroke(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfKeyStroke);AdfKeyStroke.SHIFT_MASK=1;AdfKeyStroke.CTRL_MASK=2;AdfKeyStroke.META_MASK=4;AdfKeyStroke.ALT_MASK=8;AdfKeyStroke.BACKSPACE_KEY=8;AdfKeyStroke.TAB_KEY=9;AdfKeyStroke.ALT_KEY=18;AdfKeyStroke.ARROWDOWN_KEY=40;AdfKeyStroke.ARROWUP_KEY=38;AdfKeyStroke.ARROWRIGHT_KEY=39;AdfKeyStroke.ARROWLEFT_KEY=37;AdfKeyStroke.ESC_KEY=27;AdfKeyStroke.ENTER_KEY=13;AdfKeyStroke.SPACE_KEY=32;AdfKeyStroke.PAGEUP_KEY=33;
AdfKeyStroke.PAGEDOWN_KEY=34;AdfKeyStroke.END_KEY=35;AdfKeyStroke.HOME_KEY=36;AdfKeyStroke.INSERT_KEY=45;AdfKeyStroke.DELETE_KEY=46;AdfKeyStroke.A_KEY=65;AdfKeyStroke.C_KEY=67;AdfKeyStroke.M_KEY=77;AdfKeyStroke.P_KEY=80;AdfKeyStroke.R_KEY=82;AdfKeyStroke.V_KEY=86;AdfKeyStroke.W_KEY=87;AdfKeyStroke.X_KEY=88;AdfKeyStroke.F1_KEY=112;AdfKeyStroke.F2_KEY=113;AdfKeyStroke.F3_KEY=114;AdfKeyStroke.F4_KEY=115;AdfKeyStroke.F5_KEY=116;AdfKeyStroke.F6_KEY=117;AdfKeyStroke.F7_KEY=118;AdfKeyStroke.F8_KEY=119;
AdfKeyStroke.F9_KEY=120;AdfKeyStroke.F10_KEY=121;AdfKeyStroke.F11_KEY=122;AdfKeyStroke.F12_KEY=123;
AdfKeyStroke.InitClass=function(){this._MODIFIER_STRINGS=Array(16);this._MODIFIER_DISPLAY_STRINGS=Array(16);this._CACHE={};for(var a=["BACK_SPACE",AdfKeyStroke.BACKSPACE_KEY,"CLEAR",12,"SHIFT",16,"CONTROL",17,"ALT",18,"CAPS_LOCK",20,"TAB",AdfKeyStroke.TAB_KEY,"DOWN",AdfKeyStroke.ARROWDOWN_KEY,"UP",AdfKeyStroke.ARROWUP_KEY,"RIGHT",AdfKeyStroke.ARROWRIGHT_KEY,"LEFT",AdfKeyStroke.ARROWLEFT_KEY,"ESCAPE",AdfKeyStroke.ESC_KEY,"ENTER",AdfKeyStroke.ENTER_KEY,"SPACE",AdfKeyStroke.SPACE_KEY,"PAGE_UP",AdfKeyStroke.PAGEUP_KEY,
"PAGE_DOWN",AdfKeyStroke.PAGEDOWN_KEY,"END",AdfKeyStroke.END_KEY,"HOME",AdfKeyStroke.HOME_KEY,"INSERT",AdfKeyStroke.INSERT_KEY,"DELETE",AdfKeyStroke.DELETE_KEY,"F1",AdfKeyStroke.F1_KEY,"F2",AdfKeyStroke.F2_KEY,"F3",AdfKeyStroke.F3_KEY,"F4",AdfKeyStroke.F4_KEY,"F5",AdfKeyStroke.F5_KEY,"F6",AdfKeyStroke.F6_KEY,"F7",AdfKeyStroke.F7_KEY,"F8",AdfKeyStroke.F8_KEY,"F9",AdfKeyStroke.F9_KEY,"F10",AdfKeyStroke.F10_KEY,"F11",AdfKeyStroke.F11_KEY,"F12",AdfKeyStroke.F12_KEY],b=[],c=a.length-1;c>=0;c--){var d=
a[c];c--;var f=a[c];b[d]=f;b[f]=d}this._KEYCODE_MAPPINGS=b;this._SHIFT_MODIFIER="shift";this._CTRL_MODIFIER="ctrl";this._META_MODIFIER="meta";this._ALT_MODIFIER="alt";a={};a[this._SHIFT_MODIFIER]=this.SHIFT_MASK;a[this._CTRL_MODIFIER]=this.CTRL_MASK;a[this._META_MODIFIER]=this.META_MASK;a[this._ALT_MODIFIER]=this.ALT_MASK;this._MODIFIER_NAME_TO_FLAG=a};
AdfKeyStroke.prototype.Init=function(a,b,c){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfAssert.assertString(c);AdfKeyStroke.superclass.Init.call(this);this._keyCode=a;this._modifiers=b;this._stringForm=c};AdfKeyStroke.prototype.getKeyCode=function(){return this._keyCode};AdfKeyStroke.prototype.getModifiers=function(){return this._modifiers};
AdfKeyStroke._getModifierString=function(a){AdfAssert.assertNumber(a);var b=AdfKeyStroke._MODIFIER_STRINGS,c=b[a];c==null&&(c=[],(a&AdfKeyStroke.SHIFT_MASK)!=0&&c.push(AdfKeyStroke._SHIFT_MODIFIER),(a&AdfKeyStroke.CTRL_MASK)!=0&&c.push(AdfKeyStroke._CTRL_MODIFIER),(a&AdfKeyStroke.META_MASK)!=0&&c.push(AdfKeyStroke._META_MODIFIER),(a&AdfKeyStroke.ALT_MASK)!=0&&c.push(AdfKeyStroke._ALT_MODIFIER),c=c.join(" "),b[a]=c);return c};
AdfKeyStroke._getModifierDisplayString=function(a){AdfAssert.assertNumber(a);var b=AdfKeyStroke._MODIFIER_DISPLAY_STRINGS,c=b[a];if(c==null){var c=AdfAgent.AGENT,d=Array(4);(a&AdfKeyStroke.SHIFT_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.SHIFT_MASK));(a&AdfKeyStroke.CTRL_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.CTRL_MASK));(a&AdfKeyStroke.META_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.META_MASK));(a&AdfKeyStroke.ALT_MASK)!=0&&d.push(c.getModifierDisplayName(AdfKeyStroke.ALT_MASK));
c=d.join(" ");b[a]=c}return c};AdfKeyStroke._getStringForm=function(a,b){var c=AdfKeyStroke._getModifierString(b),d=AdfKeyStroke._getNameFromKeyCode(a);return c.length==0?d:c+" "+d};AdfKeyStroke.prototype.toString=function(){return AdfKeyStroke.superclass.toString.call(this)+" "+this._stringForm};AdfKeyStroke.prototype.toMarshalledString=function(){return this._stringForm};
AdfKeyStroke.getKeyStroke=function(a,b){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfObject.ensureClassInitialization(AdfKeyStroke);var c=AdfKeyStroke._getStringForm(a,b),d=AdfKeyStroke._CACHE,f=d[c];f==null&&(f=new AdfKeyStroke(a,b,c),d[c]=f);return f};
AdfKeyStroke.getKeyStrokeFromMarshalledString=function(a){AdfAssert.assertString(a);AdfObject.ensureClassInitialization(AdfKeyStroke);var b=AdfKeyStroke._CACHE,c=b[a];if(c==null){var c=a.split(" "),d=c.length-1;AdfAssert.assert(d>=0);var f=c[d],g=AdfKeyStroke._KEYCODE_MAPPINGS[f];g===void 0&&(g=f.charCodeAt(0));for(var f=AdfKeyStroke._MODIFIER_NAME_TO_FLAG,h=0,j=!1,k=0;k<d;k++){var l=f[c[k]];l==void 0&&(l=0);l<=h&&(j=!0);h|=l}j?c=AdfKeyStroke.getKeyStroke(g,h):(c=new AdfKeyStroke(g,h,a),b[a]=c)}return c};
AdfKeyStroke._getNameFromKeyCode=function(a){var b=AdfKeyStroke._KEYCODE_MAPPINGS[a];b==null&&(b=String.fromCharCode(a));return b};
function AdfLocaleContext(){this.Init()}AdfObject.createSubclass(AdfLocaleContext);AdfLocaleContext.prototype.getLocale=function(){return this._locale};AdfLocaleContext.prototype.isRightToLeft=function(){return this._rightToLeft};AdfLocaleContext.prototype.getAlignBegin=function(){return this._alignBegin};AdfLocaleContext.prototype.getAlignEnd=function(){return this._alignEnd};
AdfLocaleContext.prototype.Init=function(){AdfLocaleContext.superclass.Init.call(this);var a=AdfAgent.AGENT.getDomDocument();this._locale=a.documentElement.lang;(this._rightToLeft=a.documentElement.dir=="rtl")?(this._alignBegin="right",this._alignEnd="left"):(this._alignBegin="left",this._alignEnd="right")};
var AdfInputFileUtils={};AdfInputFileUtils.addUploadErrorMessage=function(a){AdfInputFileUtils.addUploadErrorMessageKey(a,null,"af_inputFile.MSG_UPLOAD_ERROR","af_inputFile.MSG_UPLOAD_ERROR_DETAIL")};AdfInputFileUtils.addUploadErrorMessageKey=function(a,b,c,d){var e=AdfPage.PAGE;e.clearMessages(a);var f=e.getLookAndFeel(),c=f.getTranslatedString(c),d=f.getTranslatedString(d),d=new AdfFacesMessage(AdfFacesMessage.TYPE_ERROR,c,d);e.addMessage(a,d);b&&b.focus()};
function AdfDhtmlLookAndFeel(a){this.Init(a)}AdfObject.createSubclass(AdfDhtmlLookAndFeel,AdfLookAndFeel);
AdfDhtmlLookAndFeel.InitClass=function(){for(var a=["blur","focus","focusIn","focusOut","click","dblClick","mouseDown","mouseUp","mouseMove","mouseOver","mouseOut","keyDown","keyUp","keyPress","contextMenu","change","scroll","drop"],b={},c={},d=a.length,e=0;e<d;e++){var f=a[e],g=f.toLowerCase();c[g]=f;this[AdfStrings.createConstantName(f)+"_EVENT_TYPE"]=g;b[g]="on"+g}this.EVENT_TYPE_TO_ATTRIBUTE_MAP=b;this.EVENT_TYPE_TO_CAMEL_CASE_MAP=c};
AdfDhtmlLookAndFeel.prototype.Init=function(a){AdfDhtmlLookAndFeel.superclass.Init.call(this);this._window=a};AdfDhtmlLookAndFeel.prototype.registerPeerConstructor=function(a,b){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assert(AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME[a]==null,"Peer already registered for this componentType");AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME[a]=b};
AdfDhtmlLookAndFeel.prototype.getPeer=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);var b=a.constructor,c=b._PEER_CONSTRUCTOR;if(c==null){var c=a.getComponentType(),d=AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME[c];d?(c=window[d],AdfAssert.assertFunction(c)):(AdfLogger.LOGGER.warning("No peer for:",c),c=AdfRichUIPeer);b._PEER_CONSTRUCTOR=c}b=c._PEER;if(b==null&&(b=new c(a),c.STATELESS))c._PEER=b;return b};
AdfDhtmlLookAndFeel._COMPONENT_TO_PEER_NAME={"oracle.adf.RichPanelWindow":"AdfDhtmlPanelWindowPeer","oracle.adf.RichDialog":"AdfDhtmlDialogPeer","oracle.adf.RichNoteWindow":"AdfDhtmlNoteWindowPeer","oracle.adf.RichBreadCrumbs":"AdfDhtmlBreadCrumbsPeer","oracle.adf.RichCarousel":"AdfDhtmlCarouselPeer","oracle.adf.RichCarouselItem":"AdfDhtmlCarouselItemPeer","oracle.adf.RichChooseColor":"AdfDhtmlChooseColorPeer","oracle.adf.RichCommandButton":"AdfDhtmlButtonPeer","oracle.adf.RichDecorativeBox":"AdfDhtmlDecorativeBoxPeer",
"oracle.adf.RichResetButton":"AdfDhtmlResetButtonPeer","oracle.adf.RichCalendar":"AdfDhtmlCalendarPeer","oracle.adf.RichColumn":"AdfDhtmlColumnPeer","oracle.adf.RichChooseDate":"AdfDhtmlChooseDatePeer","oracle.adf.RichCommandImageLink":"AdfDhtmlCommandImageLinkPeer","oracle.adf.RichCommandLink":"AdfDhtmlCommandLinkPeer","oracle.adf.RichCommandMenuItem":"AdfDhtmlCommandMenuItemPeer","oracle.adf.RichCommandNavigationItem":"AdfDhtmlCommandNavigationItemPeer","oracle.adf.RichCommandToolbarButton":"AdfDhtmlCommandToolbarButtonPeer",
"oracle.adf.RichCommandTrainStop":"AdfDhtmlCommandTrainStopPeer","oracle.adf.RichContextInfo":"AdfDhtmlContextInfoPeer","oracle.adf.RichPanelCollection":"AdfDhtmlPanelCollectionPeer","oracle.adf.RichDocument":"AdfDhtmlDocumentPeer","oracle.adf.RichForm":"AdfDhtmlFormPeer","oracle.adf.RichSubform":"AdfDhtmlSubformPeer","oracle.adf.RichGoImageLink":"AdfDhtmlGoImageLinkPeer","oracle.adf.RichGoLink":"AdfDhtmlGoLinkPeer","oracle.adf.RichGoMenuItem":"AdfDhtmlGoMenuItemPeer","oracle.adf.RichGoButton":"AdfDhtmlGoButtonPeer",
"oracle.adf.RichPanelGridLayout":"AdfDhtmlPanelGridLayoutPeer","oracle.adf.RichInlineFrame":"AdfDhtmlInlineFramePeer","oracle.adf.RichInputColor":"AdfDhtmlInputColorPeer","oracle.adf.RichTextEditor":"AdfDhtmlRichTextEditorPeer","oracle.adf.RichCodeEditor":"AdfDhtmlCodeEditorPeer","oracle.adf.RichInputText":"AdfDhtmlInputTextPeer","oracle.adf.RichInputListOfValues":"AdfDhtmlInputListOfValuesPeer","oracle.adf.RichInputComboboxListOfValues":"AdfDhtmlInputComboboxListOfValuesPeer","oracle.adf.RichInputDate":"AdfDhtmlInputDatePeer",
"oracle.adf.RichInputFile":"AdfDhtmlInputFilePeer","oracle.adf.RichInputNumberSlider":"AdfDhtmlInputNumberSliderPeer","oracle.adf.RichInputRangeSlider":"AdfDhtmlInputRangeSliderPeer","oracle.adf.RichInputNumberSpinbox":"AdfDhtmlInputNumberSpinboxPeer","oracle.adf.RichListView":"AdfDhtmlListViewPeer","oracle.adf.RichListItem":"AdfDhtmlListItemPeer","oracle.adf.RichMessage":"AdfDhtmlMessagePeer","oracle.adf.RichMessages":"AdfDhtmlMessagesPeer","oracle.adf.RichSeparator":"AdfDhtmlSeparatorPeer","oracle.adf.RichSpacer":"AdfDhtmlSpacerPeer",
"oracle.adf.RichIcon":"AdfDhtmlIconPeer","oracle.adf.RichImage":"AdfDhtmlImagePeer","oracle.adf.RichMedia":"AdfDhtmlMediaPeer","oracle.adf.RichNavigationPane":"AdfDhtmlNavigationPanePeer","oracle.adf.RichOutputFormatted":"AdfDhtmlOutputFormattedPeer","oracle.adf.RichOutputLabel":"AdfDhtmlOutputLabelPeer","oracle.adf.RichOutputText":"AdfDhtmlTextPeer","oracle.adf.RichPanelAccordion":"AdfDhtmlPanelAccordionPeer","oracle.adf.RichPanelBorderLayout":"AdfDhtmlPanelBorderLayoutPeer","oracle.adf.RichPanelBox":"AdfDhtmlPanelBoxPeer",
"oracle.adf.RichPanelChoice":"AdfDhtmlPanelChoicePeer","oracle.adf.RichPanelDashboard":"AdfDhtmlPanelDashboardPeer","oracle.adf.RichPanelFormLayout":"AdfDhtmlPanelFormLayoutPeer","oracle.adf.RichPanelGroupLayout":"AdfDhtmlPanelGroupLayoutPeer","oracle.adf.RichQuickQuery":"AdfDhtmlQuickQueryPeer","oracle.adf.RichPanelHorizontalLayout":"AdfDhtmlPanelHorizontalLayoutPeer","oracle.adf.RichPanelLabelAndMessage":"AdfDhtmlPanelLabelAndMessagePeer","oracle.adf.RichPanelList":"AdfDhtmlPanelListPeer","oracle.adf.RichPanelRadio":"AdfDhtmlPanelRadioPeer",
"oracle.adf.RichPanelSplitter":"AdfDhtmlPanelSplitterPeer","oracle.adf.RichPanelStretchLayout":"AdfDhtmlPanelStretchLayoutPeer","oracle.adf.RichPoll":"AdfDhtmlPollPeer","oracle.adf.RichPopup":"AdfDhtmlPopupPeer","oracle.adf.RichRegion":"AdfDhtmlRegionPeer","oracle.adf.RichStatusIndicator":"AdfDhtmlStatusIndicatorPeer","oracle.adf.RichProgressIndicator":"AdfDhtmlProgressIndicatorPeer","oracle.adf.RichToolbar":"AdfDhtmlToolbarPeer","oracle.adf.RichToolbox":"AdfDhtmlToolboxPeer","oracle.adf.RichPanelHeader":"AdfDhtmlPanelHeaderPeer",
"oracle.adf.RichShowDetail":"AdfDhtmlShowDetailPeer","oracle.adf.RichQuery":"AdfDhtmlQueryPeer","oracle.adf.RichShowDetailHeader":"AdfDhtmlShowDetailHeaderPeer","oracle.adf.RichTable":"AdfDhtmlTablePeer","oracle.adf.RichTreeTable":"AdfDhtmlTreeTablePeer","oracle.adf.RichTree":"AdfDhtmlTreePeer","oracle.adf.RichMenuBar":"AdfDhtmlMenuBarPeer","oracle.adf.RichMenu":"AdfDhtmlMenuPeer","oracle.adf.RichTrain":"AdfDhtmlTrainPeer","oracle.adf.RichTrainButtonBar":"AdfDhtmlTrainButtonBarPeer","oracle.adf.RichSelectItem":"AdfRichUIPeer",
"oracle.adf.RichSelectBooleanCheckbox":"AdfDhtmlSelectBooleanCheckboxPeer","oracle.adf.RichSelectBooleanRadio":"AdfDhtmlSelectBooleanRadioPeer","oracle.adf.RichSelectOneChoice":"AdfDhtmlSelectOneChoicePeer","oracle.adf.RichSelectOneListbox":"AdfDhtmlSelectOneListboxPeer","oracle.adf.RichSelectOneRadio":"AdfDhtmlSelectOneRadioPeer","oracle.adf.RichSelectManyListbox":"AdfDhtmlSelectManyListboxPeer","oracle.adf.RichSelectOrderShuttle":"AdfDhtmlSelectManyShuttlePeer","oracle.adf.RichSelectManyShuttle":"AdfDhtmlSelectManyShuttlePeer",
"oracle.adf.RichSelectManyCheckbox":"AdfDhtmlSelectManyCheckboxPeer","oracle.adf.RichSelectManyChoice":"AdfDhtmlSelectManyChoicePeer","oracle.adf.RichShowDetailItem":"AdfDhtmlShowDetailItemPeer","oracle.adf.RichPanelSpringboard":"AdfDhtmlPanelSpringboardPeer","oracle.adf.RichPanelTabbed":"AdfDhtmlPanelTabbedPeer","oracle.adf.RichPanelDrawer":"AdfDhtmlPanelDrawerPeer","oracle.adf.AdfClientDomTracker":"AdfDhtmlClientDomTrackerPeer","javax.faces.ViewRoot":"AdfDhtmlPagePeer","oracle.adf.RichRootPage":"AdfDhtmlPagePeer",
"oracle.adf.RichDeclarativeComponent":"AdfDhtmlDeclarativeComponentPeer","oracle.adf.RichDynamicDeclarativeComponent":"AdfDhtmlDeclarativeComponentPeer"};
AdfDhtmlLookAndFeel.prototype.getTranslatedString=function(a,b){if(!a)return null;var c=AdfDhtmlLookAndFeel.__TRANSLATIONS;if(!c)return null;c=c[a];if(!b)return c;if(arguments.length>2){for(var c=[c],d=1;d<arguments.length;d++)c.push(arguments[d]);return TrFastMessageFormatUtils.format.apply(this,c)}else return TrFastMessageFormatUtils.format(c,b)};AdfDhtmlLookAndFeel.prototype.getSkinProperty=function(a){if(a!=null&&AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES)return AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES[a]};
AdfDhtmlLookAndFeel.prototype.getStyleClass=function(a){var b=this.getSkinProperty(a);if(!b)return a;return b};AdfDhtmlLookAndFeel.prototype.getIcon=function(a){a=this.getRawIcon(a);return a!=null?a.cloneNode(!0):null};AdfDhtmlLookAndFeel.prototype.getRawIcon=function(a){if(a==null)return null;else{var a=a.replace("|","_"),b=AdfAgent.AGENT.getElementById(a);if(!b)return AdfLogger.LOGGER.warning("Icon ",a," is not available on the client"),null;return b.firstChild}};
AdfDhtmlLookAndFeel.prototype.createPage=function(){var a=this._window;AdfAssert.assert(a!=null);this._domWindow=null;return new AdfDhtmlPage(this,a)};AdfDhtmlLookAndFeel.addSkinProperties=function(a){AdfAssert.assertObject(a);AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES?AdfCollections.copyInto(AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES,a):AdfDhtmlLookAndFeel._RICH_SKIN_PROPERTIES=a};AdfDhtmlLookAndFeel._DEFAULT_CONSTRUCTOR_KEY="$default";
function AdfDhtmlPage(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfDhtmlPage,AdfPage);AdfDhtmlPage.SCREEN_READER_ACCESSIBILITY_MODE="screenReader";AdfDhtmlPage.DEFAULT_ACCESSIBILITY_MODE="default";AdfDhtmlPage.INACCESSIBLE_ACCESSIBILITY_MODE="inaccessible";AdfDhtmlPage.OUPUTMODE_ATTACHMENT="attachment";AdfDhtmlPage._LOAD_CHECKPOINT=AdfCheckpoint.getCheckpoint("onload total","startup");AdfDhtmlPage._LOAD_CHECKPOINT.setDescription("Total time spent in onLoad");
AdfDhtmlPage._CALLBACK_CHECKPOINT=AdfCheckpoint.getCheckpoint("onload callback","startup");AdfDhtmlPage._CALLBACK_CHECKPOINT.setDescription("Time spent in onload callback plus post-callback layout");AdfDhtmlPage._POSTBACK_CHECKPOINT=AdfCheckpoint.getCheckpoint("postaback total","postback");AdfDhtmlPage._POSTBACK_CHECKPOINT.setDescription("Total time spent in postback");AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT=AdfCheckpoint.getCheckpoint("browser resize","resize");AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT.setDescription("Time spent in resize notify during browser resize");
AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO="_adfCustomPPRUrlExpando";AdfDhtmlPage.ACTIVE_DOM_ELEMENT_PROPERTY="activeDomElement";AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME="_afrImageNotLoadedInTime";AdfDhtmlPage._ECID="_afrECID";
AdfDhtmlPage.InitClass=function(){for(var a={},b=[AdfKeyStroke.getKeyStroke(AdfKeyStroke.A_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.C_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.V_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.X_KEY,AdfKeyStroke.CTRL_MASK),AdfKeyStroke.getKeyStroke(AdfKeyStroke.DELETE_KEY,0)],c=b.length-1;c>=0;c--)a[b[c].toMarshalledString()]=!0;this._KEYSTROKE_OVERRIDES=a;this._EDITABLE_STYLE="p_AFInlineEditable";
this._SELECTABLE_STYLE="p_AFInlineSelectable";this._STATE_PARAM_NAME="javax.faces.ViewState";this._STREAMING_IDS_PARAM="oracle.adf.view.rich.STREAM";this._REMOVED_STREAMING_IDS_PARAM="oracle.adf.view.rich.NOSTREAM";this._STREAMING_REQUEST_SENT=0;this._STREAMING_STARTED=1;this._STREAMING_COMPLETE=2;this._LAZY_FETCH_ID_PARAM="oracle.adf.view.rich.LAZY_FETCH";this._RICH_UPDATE_FLAG="oracle.adf.view.faces.RICH_UPDATE";this._NAVIGATION_WRAPPER_ID="afr::DocWrapper";this._NAVIGATION_VIEW_ROOT="_afrNavViewRoot";
this._NAVIGATION_QUERY_PARAMS="_afrNavParams";this._DELAYED_RESIZE_TIMEOUT=150;this._ACTIVE_DATA_HOT_KEY=AdfKeyStroke.getKeyStroke(AdfKeyStroke.R_KEY,AdfKeyStroke.ALT_MASK|AdfKeyStroke.CTRL_MASK);this._ACTIVE_DATA_HOT_KEY_TEXT="Ctrl+Alt+R";this._DOCUMENT_STYLE_HOLDER="_afrStyleHolder";this.PPR_NAVIGATION_ON=1;this.PPR_NAVIGATION_FORCE_PPR=2;this._MSG_RESET_CLIENT_AND_SERVER=0;this._MSG_RESET_SERVER=1;this._PARSER_DIV_ID="_afrParserDiv";this._BLOCKING_DIV_ID="_afBlockingDiv";this._BLOCKING_OPACITY=
0};
AdfDhtmlPage.prototype.Init=function(a,b){AdfAssert.assertPrototype(a,AdfLookAndFeel);AdfDhtmlPage.superclass.Init.call(this,a);this._preloadImages=!1;this._window=b;this._document=b.document;this._clientIdToComponentMap={};var c=AdfLogger.LOGGER.getLogWriter();AdfClientFileLogWriter.prototype.isPrototypeOf(c)&&c.setSessionId(AdfDhtmlPage._getCookie(this._document,"JSESSIONID"));AdfDhtmlPage.PARTIAL_TARGETS_PARAM="oracle.adf.view.rich.RENDER";this._eventQueue=[];this._serverQueue=new AdfServerEventQueue;this._busyCounts=
{};this._accessibilityMode=AdfDhtmlPage.DEFAULT_ACCESSIBILITY_MODE;this._cssSelectorsUncompressed=this._automationEnabled=this._portlet=!1;this._animationEnabled=!0;this._activeDomNode=null;this._inLayout=!1;b.onunload=this.createCallback(this.Dispose);b.onresize=this.createCallback(this._handleResize);c=this.getDomDocument();c.ondragstart=AdfAgent.eatEventCallback;c.onselectstart=this.createCallback(this._onSelectStart);this._dragLastY=this._dragLastX=this._dragStartY=this._dragStartX=0;var c=this.createCallback(this._dragMouseMove),
d=this.createCallback(this._dragMouseUp),e=this.createCallback(this._dragKeyDown);this._dragDropCallbacks=AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE?{touchmove:c,touchend:d,touchcancel:e}:{mousemove:c,mouseup:d,keydown:e};this._resizeNotifyTree={};this._resizeNotifyMap={};this._descendantResizeNotifyList=[];this._keyStrokeToCallbackMap={};this._keyStrokeToCallbackContextMap={};this._pageProperties={};AdfDhtmlPage._timers={};AdfDhtmlPage._nextTimerId=
1;this._editableCallbackContext=this._editableCallback=this._inlineEditor=this._editedComponentId=this._editableSubtreeId=this._selectedEditingComponents=null;this._notifyOfUnload=!1;this._activeComponents={};this._autoPPRComponents={};this._startADSClientIds={};this._startADSClientIdCount=0;this._stopADSClientIds=[];this._canReceiveActiveDataCount=1;this._stopGlobalActiveData();this._defaultMessageKey="____GLOBAL_MESSAGES";this._messages={};this._delayedMessages={};this._globalMessagesResetStrategy=
AdfDhtmlPage._MSG_RESET_CLIENT_AND_SERVER;this._serverTimeDifference=0;this._isWindowClosing=!1;this._lastPollTime=null;this._reconnectRetries=this._lastActiveDataActivityTime=0;this._restartInterval=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.restartInterval;this._maxReconnectionRetries=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.maxReconnectionRetries;this._reconnectWaitTime=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.reconnectWaitTime;this._latencyThreshold=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.latencyThreshold;
this._transport=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.transport;this._pollingInterval=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.pollingInterval;this._keepAliveInterval=AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG.keepAliveInterval;this._pollingTimer=null;this._pendingStreamingIDs={};this._documentClientId=null;this.__shouldTracePPRRequestId=!1;this._perfProfileEnabled=b._afrTimingPreLoadStart?!0:!1;this._perfProfileTimingEnabled=b._afrTimingPreLoadTimingStart?!0:!1;this._positionBlockingGlassPaneCallback=
this.createCallback(this._positionBlockingGlassPane);if(this._perfProfileEnabled||this._perfProfileTimingEnabled)c=new AdfLogger("profiler",AdfAgent.AGENT.createDefaultLogWriter()),c.getLevel()>AdfLogger.INFO&&c.setLevel(AdfLogger.INFO),AdfLogger.PROFILER_LOGGER=c,AdfLogger.PROFILER_LOGGER.register();this._haveOutstandingPPRRequest=!1;this._perfProfileLogClosed=!0;this._loadingComponents=[];this._dirtyDataComponents=[];this._componentsUpdatedByPollEvent=null;this._poppedUpComponentInfo={}};
AdfDhtmlPage.prototype.isPageFullyLoaded=function(){return this.isSynchronizedWithServer()};AdfDhtmlPage.prototype.isPageOnloadCalled=function(){return this._initializationComplete};
AdfDhtmlPage.prototype.isSynchronizedWithServer=function(){this._throwSavedErrors();try{if(this.getPhase()!=AdfPage.WAITING_FOR_USER_INPUT_PHASE||this._eventQueue.length!=0)return!1;if(AdfDhtmlRichDialogService.isBusy())return!1;var a=this.getDataTransferService();if(a&&a.getDTSState()==AdfDataTransferService.STATE_READY&&!a.streamingResponsesOutstanding())return this.isAttachmentMode()?this._initializationComplete:this._initializationComplete&&this._partialTargets==null&&this._startADSClientIdCount==
0&&this._windowEventHeaderMap==null&&!this._partialRequestRedirect&&!this._inDeliverQueuedServerEvents&&!this._inDeliverQueuedEvents&&!this._waitingForDocumentUnload&&this._areComponentsLoaded()&&!this._serverQueue.hasEventsToDeliver()&&!AdfNavigationHistoryAgent.getInstance().isWaitingForServer()}catch(b){}return!1};AdfDhtmlPage.prototype.registerLoadingComponent=function(a){a=a.getClientId();AdfAssert.assert(AdfCollections.indexOf(this._loadingComponents,a)==-1,"Component already registered");this._loadingComponents.push(a)};
AdfDhtmlPage.prototype.unregisterLoadingComponent=function(a){AdfCollections.removeArrayValue(this._loadingComponents,a.getClientId())};AdfDhtmlPage.prototype._areComponentsLoaded=function(){for(var a=this._loadingComponents,b=a.length,c=0;c<b;c++)if(this.findComponent(a[c]).getReadyState()!=AdfUIComponent.STATE_COMPLETE)return!1;return!0};AdfDhtmlPage.prototype.isPerformingFullSubmit=function(){return this._inAppNavigationFlag};
AdfDhtmlPage.prototype._resetPerformingFullSubmit=function(){this._inAppNavigationFlag=!1};AdfDhtmlPage.prototype.getFailedConnectionText=function(){var a=AdfDhtmlPage.superclass.getFailedConnectionText.call(this);a==null&&(a=this.getLookAndFeel().getTranslatedString("af_document.MSG_FAILED_CONNECTION"));return a};AdfDhtmlPage.prototype.getAccessibilityMode=function(){return this._accessibilityMode};
AdfDhtmlPage.prototype.setAccessibilityMode=function(a){AdfAssert.assert(a==AdfDhtmlPage.SCREEN_READER_ACCESSIBILITY_MODE||a==AdfDhtmlPage.DEFAULT_ACCESSIBILITY_MODE||a==AdfDhtmlPage.INACCESSIBLE_ACCESSIBILITY_MODE,"invalid accessibility mode: ",a);this._accessibilityMode=a};AdfDhtmlPage.prototype.isScreenReaderMode=function(){return this._accessibilityMode==AdfDhtmlPage.SCREEN_READER_ACCESSIBILITY_MODE};AdfDhtmlPage.prototype.isAttachmentMode=function(){return this._outputMode===AdfDhtmlPage.OUPUTMODE_ATTACHMENT};
AdfDhtmlPage.prototype.isUserActivityMonitoringOn=function(){if(this._userActivityMonitoring===void 0){this._userActivityMonitoring=!0;var a=this.getDomWindow(),b=AdfAgent.AGENT.isSessionStorageEnabled(),a=a.AdfUserActivityInfo!=null;if(!b||!a)this._userActivityMonitoring=!1,AdfLogger.LOGGER.fine("User Activity Monitoring has been disabled either because the feature is disabled or it's enabled but its resources are missing. Please check your app configuration.")}return this._userActivityMonitoring};
AdfDhtmlPage.prototype.setPortlet=function(a){this._portlet=a};AdfDhtmlPage.prototype.isPortlet=function(){return this._portlet};AdfDhtmlPage.prototype.setHelpWindowName=function(a){AdfDomUtils._setHelpWindowName(a)};AdfDhtmlPage.prototype.launchHelpWindow=function(a){AdfDomUtils.launchHelpWindow(a)};
AdfDhtmlPage.prototype.localNavigate=function(a){if(this.checkUncommittedData())if(0!=(this.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_ON)){this._blockUI(!0);var b=AdfCollections.isEmpty(this._getClientStateMap()),c={};if(this.isUserActivityMonitoringOn()&&b){var b=AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PRIMARY),d=(new Date).getTime().toString();b.setClientStartTime(d);AdfUserActivityInfo.saveToSessionStorageByType(AdfUserActivityInfo.PRIMARY);c["oracle.adf.view.rich.monitoring.UserActivityInfo"]=
AdfUserActivityInfo.getMarshaledObject()}c=this._getPostbackContent(null,c,null);this.getDataTransferService().sendRequest(null,a,null,c,[this])}else this.getDomWindow().location.href=a};AdfDhtmlPage.prototype.checkUncommittedData=function(){var a=!0;if(this._warnUncommitted&&(this._dataDirty||this._hasLocalUncommitted))a=this._displayUncommittedDataWarning();return a};AdfDhtmlPage.prototype.__setAutomationEnabled=function(a){AdfAssert.assertBoolean(a);this._automationEnabled=a};
AdfDhtmlPage.prototype.__setAsynchronousUpdatesState=function(a){AdfAssert.assertString(a);this._asynchronousUpdatesState=a};AdfDhtmlPage.prototype.isAutomationEnabled=function(){return this._automationEnabled};AdfDhtmlPage.prototype.getAsynchronousUpdatesState=function(){return this._asynchronousUpdatesState};AdfDhtmlPage.prototype.__setCssSelectorsUncompressed=function(a){AdfAssert.assertBoolean(a);this._cssSelectorsUncompressed=a};AdfDhtmlPage.prototype.areCssSelectorsUncompressed=function(){return this._cssSelectorsUncompressed};
AdfDhtmlPage.prototype.setAnimationEnabled=function(a){AdfAssert.assertBoolean(a);this._animationEnabled=a};AdfDhtmlPage.prototype.isAnimationEnabled=function(){return this._animationEnabled};AdfDhtmlPage.prototype.getSessionIdentifier=function(){return this._sessionId};AdfDhtmlPage.prototype.__setSessionIdentifier=function(a){this._sessionId=a;return this};AdfDhtmlPage.prototype.getResponseIdentifier=function(){return this._responseId};
AdfDhtmlPage.prototype.__setResponseIdentifier=function(a){this._responseId=a;return this};AdfDhtmlPage.prototype.__setOutputMode=function(a){this._outputMode=a;return this};AdfDhtmlPage.prototype.getOutputMode=function(){return this._outputMode};AdfDhtmlPage.prototype.__notifyReturnFromDialog=function(){this._dataDirty=!1;this._resetUncommittedIds()};AdfDhtmlPage.prototype.shouldTracePPRRequestId=function(){return this.__shouldTracePPRRequestId};
AdfDhtmlPage.prototype.__setShouldTracePPRRequestId=function(a){this.__shouldTracePPRRequestId=a};AdfDhtmlPage.prototype.setPageProperty=function(a,b){AdfAssert.assertString(a);this._pageProperties[a]=b};AdfDhtmlPage.prototype.getPageProperty=function(a){AdfAssert.assertString(a);return this._pageProperties[a]};AdfDhtmlPage.prototype.findComponent=function(a){return this._clientIdToComponentMap[a]};
AdfDhtmlPage.prototype.findComponentByAbsoluteLocator=function(a){AdfAssert.assertNonEmptyString(a);var b=AdfPage.PAGE.findComponent(a);if(b)return b;var b=a.lastIndexOf(":"),c=a.substring(b),d=c.length,e;for(e in this._clientIdToComponentMap)if(e.substring(e.length-d)==c&&(b=this._clientIdToComponentMap[e],b!=null&&b.getAbsoluteLocator()==a))return b;return null};
AdfDhtmlPage.prototype.getComponentsByType=function(a){AdfAssert.assertNonEmptyString(a);var b=[],c;for(c in this._clientIdToComponentMap){var d=this._clientIdToComponentMap[c];d&&d.getComponentType()==a&&b.push(d)}return b};AdfDhtmlPage.prototype.getViewId=function(){return this._viewId!=void 0?this._viewId:""};AdfDhtmlPage.prototype.__setViewId=function(a){this._viewId=a};
AdfDhtmlPage.prototype.unmapComponent=function(a){a in this._activeComponents&&this._stopActiveData(a);a in this._autoPPRComponents&&this._stopAutoPPR(a);delete this._clientIdToComponentMap[a]};AdfDhtmlPage.prototype.mapComponent=function(a,b){this._clientIdToComponentMap[a]=b};
AdfDhtmlPage.prototype.addResource=function(a,b){switch(a){case "javascript":this._loadScript(b);break;case "css":var c=this._loadCss(b);c.setAttribute("afrres","true");break;case "style":c=this._createStyle(b),c.setAttribute("afrres","true")}};
AdfDhtmlPage.prototype.Dispose=function(){this.getDataTransferService().pageUnloading();AdfLogger.PROFILER_LOGGER!=null&&AdfLogger.PROFILER_LOGGER.getLogWriter().close();this._beforeUnloadDelayed&&this._onBeforeUnload();AdfDhtmlRichDialogService.getInstance().cancelAll();var a=this._autoDismissalManager;if(a)a.dispose(),this._autoDismissalManager=null;if(a=this._modalityManage)a.dispose(),this._modalityManager=null;if(a=this._positionManager)a.dispose(),this._positionManager=null;if(a=this._zOrderManager)a.dispose(),
this._zOrderManager=null;(a=AdfNavigationHistoryAgent.getInstance())&&a.dispose();this.setEditableSubtree(null);var b=AdfAgent.AGENT,a=this.getDomDocument(),c=this.getDomWindow(),d=this._touchContextMenuManager;d&&d.dispose();this._disposeTimers();if(d=this._redistributeEventsCallback)b.removeEventBubbles(a,d),this._redistributeEventsCallback=null;if(this._onBeforeUnloadCallback)b.removeBubbleEventListener(c,"beforeunload",this._onBeforeUnloadCallback),this._onBeforeUnloadCallback=null;if(d=this._keyEventCallback)b.removeKeyEventListener(a,
d),this._keyEventCallback=null;c.onload=null;c.onunload=null;c.onresize=null;if(b=this._dataTransferService)b.dispose(),this._dataTransferService=null;delete this._lastFocusedElement;this._touchContextMenuManager=this._dragDropCallbacks=this._delayedResizeCallback=this._document=this._window=this._keyCaptureState=this._activeElementBeforeBlocking=this._uiMaskingFrame=this._glassPane=this._uiBlockingDiv=this._pageProcessingIndicator=null;AdfDhtmlPage._disposeIFrames(a);AdfDhtmlPage.superclass.Dispose.call(this);
this.isScreenReaderMode()&&this.unregisterKeyStroke(AdfDhtmlPage._ACTIVE_DATA_HOT_KEY)};AdfDhtmlPage.prototype.addPartialTargets=function(){var a=arguments.length;if(a>0){var b=this._partialTargets;if(b==null)this._partialTargets=b=[];for(var c=0;c<a;c++){var d=arguments[c];AdfAssert.assertPrototype(d,AdfUIComponent);d=d.getClientId();d in b||(b[d]=!0,b.push(d))}this.__queueEventTimerIfNeeded()}};
AdfDhtmlPage.prototype._scrubPartialTargets=function(a){var b=null;if(a){for(var b=[],c=a.length,d=0;d<c;d++){var e=a[d];this.findComponent(e)&&b.push(e)}b.length||(b=null)}return b};
AdfDhtmlPage.prototype.addComponents=function(){var a=this.getDomWindow();if(this._perfProfileEnabled)a._afrTimingAddComponentsStart=(new Date).getTime();for(var b=arguments.length,c=0;c<b;c++)AdfAssert.assertPrototype(arguments[c],AdfUIComponent),arguments[c].AddNotify();if(this._perfProfileEnabled)a._afrTimingAddComponentsEnd=(new Date).getTime()};
AdfDhtmlPage.prototype.addBusyStateListener=function(a,b){AdfAssert.assertFunction(b);AdfAssert.assertObjectOrNull(a);this._busyStateListeners=AdfEventUtils.addListener(this._busyStateListeners,a,b)};AdfDhtmlPage.prototype.removeBusyStateListener=function(a,b){AdfAssert.assertFunction(b);AdfAssert.assertObjectOrNull(a);this._busyStateListeners=AdfEventUtils.removeListener(this._busyStateListeners,b)};
AdfDhtmlPage.prototype._broadcastBusyStateEvent=function(a){this._busyState==a?AdfLogger.LOGGER.finest("busy state event broadcast called without a change in state"):(this._busyState=a,this._busyStateListeners&&AdfEventUtils.deliverEventToListeners(this._busyStateListeners,new AdfBusyStateEvent(this,a)))};
AdfDhtmlPage.prototype.__registerDescendantResizeNotifyComponent=function(a){for(var b=this._descendantResizeNotifyList,c=b.length,d=0;d<c;d++)if(b[d].component==a)return;a={component:a,depth:AdfDomUtils.getElementDepth(AdfRichUIPeer.getDomElementForComponent(a))};b.push(a);if(b.length>1)this._descendantResizeNotifyListDirty=!0;this._descendantResizeNotifyList=b};
AdfDhtmlPage.prototype.__unregisterDescendantResizeNotifyComponent=function(a){for(var b=this._descendantResizeNotifyList,c=b.length,d=0;d<c;d++)if(b[d].component==a){b.splice(d,1);break}};AdfDhtmlPage.prototype.__queueDescendantResizeNotifySource=function(a){var b=this._descendantResizeNotifyQueue,a=a.getClientId();if(b==null)b=this._descendantResizeNotifyQueue=[];else if(AdfCollections.indexOf(b,a)!=-1)return;b.push(a)};
AdfDhtmlPage.prototype.__doDescendantResizeNotify=function(){if(this._descendantResizeNotifyQueue&&!this._inDescendentResizeNotify){this._inDescendentResizeNotify=!0;try{for(;this._descendantResizeNotifyQueue.length>0;)this._doDescendantResizeNotifyOnQueue(this._descendantResizeNotifyQueue.splice(0,this._descendantResizeNotifyQueue.length))}finally{delete this._inDescendentResizeNotify,delete this._descendantResizeNotifyQueue}}};
AdfDhtmlPage.prototype._doDescendantResizeNotifyOnQueue=function(a){var b=a.length,c=this._descendantResizeNotifyList,d=c.length;if(this._descendantResizeNotifyListDirty)c.length>1&&c.sort(AdfDhtmlPage._descendantResizeNotifyListComparator),this._descendantResizeNotifyListDirty=!1;for(var e=0;e<d;e++)for(var f=c[e].component,g=0;g<b;g++){var h=this.findComponent(a[g]);if(h&&(h==f||h.isDescendant(f))){this.doResizeNotify(f);break}}};
AdfDhtmlPage._descendantResizeNotifyListComparator=function(a,b){var c=a.depth,d=b.depth;if(c>d)return-1;else if(c<d)return 1;return 0};
AdfDhtmlPage.prototype.registerResizeNotifyComponent=function(a){var b={component:a},c=a.getClientId(),d=this._resizeNotifyMap;d[c]=b;var e,a=AdfRichUIPeer.getDomElementForComponent(a);AdfAssert.assertDomElement(a);if(a){for(a=a.parentNode;a;){if(a.nodeType==1&&(e=d[a.id]))break;a=a.parentNode}if(e==null)e=this._resizeNotifyTree;if(e.children==null)e.children=[];e.children.push(b);b.parent=e}};
AdfDhtmlPage.prototype.unregisterResizeNotifyComponent=function(a){var b=a.getClientId(),c=this._resizeNotifyMap;if(a=c[b])if(delete c[b],(b=a.parent)&&AdfCollections.removeArrayValue(b.children,a),delete a.parent,b=a.children)AdfAssert.assert(b.length==0,"Unexpected number of children: "+b.length),delete a.children};
AdfDhtmlPage.prototype.doResizeNotify=function(a){if(a==null)a=this._resizeNotifyTree;else{var b=a.getClientId(),a=this._resizeNotifyMap[b];AdfAssert.assert(a!=null,"No resizeNotifyNode in map for:"+b)}AdfDhtmlPage._doResizeNotify(a,!0)};
AdfDhtmlPage.prototype.doResizeNotifyDom=function(a,b){var c=this._resizeNotifyMap,d=c[a.id];if(d)AdfDhtmlPage._doResizeNotify(d,b);else{for(var e=a.parentNode;e;){if(d=c[e.id])break;e=e.parentNode}c=!1;if(!d)(d=this.getZOrderManager())&&(c=d.containsElement(a)),d=this._resizeNotifyTree;this._doResizeNotifyDomChildren(a,d,c);d=this.getPositionManager();c&&d&&d.resizeFloatingElement(a)}};
AdfDhtmlPage.prototype._doResizeNotifyDomChildren=function(a,b,c){var d=AdfAgent.AGENT;if(b=b.children)for(var e=b.length,f=0;f<e;f++){var g=b[f],h=g.component.getClientId(),h=d.getElementById(h);AdfDomUtils.isAncestor(a,h)?AdfDhtmlPage._doResizeNotify(g,!1):c&&this._doResizeNotifyDomChildren(a,g,!0)}};AdfDhtmlPage.prototype.addPropertyChangeListener=function(a,b){AdfAssert.assertFunction(b);this._propertyChangeListeners=AdfEventUtils.addListener(this._propertyChangeListeners,a,b)};
AdfDhtmlPage.prototype.removePropertyChangeListener=function(a,b){AdfAssert.assertFunction(b);this._propertyChangeListeners=AdfEventUtils.removeListener(this._propertyChangeListeners,b)};
AdfDhtmlPage.prototype.__addPopupInfo=function(a,b){var c=a.getClientId(),d=b.popupId,e=this._poppedUpComponentInfo[c];e||(this._poppedUpComponentInfo[c]=e={});e[d]=b;if(d=this.getEditableSubtree())if(c=AdfAgent.AGENT,d=c.getElementById(d.getClientId()),(c=c.getElementById(b.anchorId))&&AdfDhtmlPopupWindow.isAncestorOrSelf(d,c))b.madeEditable=!0,c=b.contentDom,this._filterEditableSubtree(c,this._editableCallback,this._editableCallbackContext),AdfAgent.AGENT.addEventCaptures(c,AdfDhtmlPage._inlineSelectionStub),
AdfDomUtils.addCSSClassName(c,"p_AFActiveInlineEditableContainer"),AdfAgent.AGENT.setOpacity(c,100)};AdfDhtmlPage.prototype.__removePopupInfo=function(a,b){var c=a.getClientId(),d=this._poppedUpComponentInfo,e=d[c],f=e[b];if(f.madeEditable&&(f=f.contentDom))AdfAgent.AGENT.removeEventCaptures(f,AdfDhtmlPage._inlineSelectionStub),AdfDomUtils.removeCSSClassName(f,"p_AFActiveInlineEditableContainer");delete e[b];AdfCollections.isEmpty(e)&&delete d[c]};
AdfDhtmlPage.prototype.getSelectedEditingComponents=function(){var a=this._selectedEditingComponents,b=null;if(a)for(var b=[],c=a.length,d=0;d<c;d++){var e=this.findComponent(a[d]);e&&b.push(e)}return b};AdfDhtmlPage.prototype.setSelectedEditingComponents=function(a){AdfAssert.assertArrayOrNull(a);for(var b=this._getEditableSubtrees(this._editableSubtreeId,!1),c=[],d=0;d<b.length;d++){var e=this._intersectSelectionWithEditableSubtreeDom(b[d],a);if(e)for(var f=e.length,g=0;g<f;g++)c.push(e[g])}this._setSelectedEditingComponents(c)};
AdfDhtmlPage.prototype.getEditableSubtree=function(){var a=this._editableSubtreeId;return a!=null?this.findComponent(a):null};AdfDhtmlPage.prototype.setEditableSubtreeFilter=function(a,b){AdfAssert.assertFunctionOrNull(a);this._editableCallback=a;this._editableCallbackContext=b;var c=this._editableSubtreeId;if(c!=null)for(var c=this._getEditableSubtrees(c,!0),d=0;d<c.length;d++){var e=c[d];this._unfilterEditableSubtree(e);this._filterEditableSubtree(e,a,b)}};
AdfDhtmlPage.prototype._getEditableSubtrees=function(a,b){var c=[],d=AdfAgent.AGENT,e=d.getElementById(a);if(e){c.push(e);var f=this._poppedUpComponentInfo,g;for(g in f){var h=f[g],k;for(k in h){var l=h[k],m=d.getElementById(l.anchorId);m&&AdfDhtmlPopupWindow.isAncestorOrSelf(e,m)&&c.push(b?m:l.contentDom)}}}return c};
AdfDhtmlPage.prototype._unfilterEditableSubtree=function(a){AdfAssert.assertDomElement(a);var b=a.id;b&&this.findComponent(b)&&(AdfDomUtils.removeCSSClassName(a,AdfDhtmlPage._SELECTABLE_STYLE),AdfDomUtils.removeCSSClassName(a,AdfDhtmlPage._EDITABLE_STYLE));for(a=a.firstChild;a;)a.nodeType==1&&this._unfilterEditableSubtree(a),a=a.nextSibling};
AdfDhtmlPage.prototype._getFilterResult=function(a,b,c){return a.satisfiesUsage(AdfUIComponent.USAGE_PRIVATE_CHILD)?AdfRichInlineEditor.FILTER_UNSELECTABLE:b?b.call(c,a):AdfRichInlineEditor.FILTER_EDITABLE};AdfDhtmlPage.prototype._filterComponent=function(a,b,c,d){if(d=this._getFilterResult(a,c,d)){c=AdfDhtmlPage._SELECTABLE_STYLE;if(d==AdfRichInlineEditor.FILTER_EDITABLE&&(d=a.getPeer().getInlineEditor(a,null))&&d.preEdit(a))c=AdfDhtmlPage._EDITABLE_STYLE;AdfDomUtils.addCSSClassName(b,c)}};
AdfDhtmlPage.prototype._getClientIdFromComment=function(a){a=a.nodeValue;return"compS|"==a.substring(0,6)?a.substr(6):null};AdfDhtmlPage.prototype._getComponentFromComment=function(a){return(a=this._getClientIdFromComment(a))?this.findComponent(a):null};
AdfDhtmlPage.prototype._filterEditableSubtree=function(a,b,c){AdfAssert.assertDomElement(a);var d=a.id;d&&(d=this.findComponent(d))&&this._filterComponent(d,a,b,c);for(a=a.firstChild;a;){d=a.nodeType;if(d==1)this._filterEditableSubtree(a,b,c);else if(d==8&&(d=this._getComponentFromComment(a))){for(var e=a.nextSibling;e&&e.nodeType!=1;)e=e.nextSibling;e&&this._filterComponent(d,e,b,c)}a=a.nextSibling}};
AdfDhtmlPage.prototype.setEditableSubtree=function(a){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);var b=this._editableSubtreeId,c=a?a.getClientId():null;if(c!=b){var d,e=this._getEditableSubtrees(b,!0),f=e.length;if(f){d=e[0];for(b=0;b<f;b++){var g=e[b];AdfAgent.AGENT.removeEventCaptures(g,AdfDhtmlPage._inlineSelectionStub);AdfDomUtils.removeCSSClassName(g,"p_AFActiveInlineEditableContainer");this._unfilterEditableSubtree(g)}}this._editableSubtreeId=c;var c=this._getEditableSubtrees(c,!0),e=
c.length,h;if(e){h=this._intersectSelectionWithEditableSubtree(a,this._selectedEditingComponents);for(b=0;b<e;b++)if(f=c[b])this._filterEditableSubtree(f,this._editableCallback,this._editableCallbackContext),AdfAgent.AGENT.addEventCaptures(f,AdfDhtmlPage._inlineSelectionStub),AdfDomUtils.addCSSClassName(f,"p_AFActiveInlineEditableContainer")}this._setSelectedEditingComponents(h);AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.EDITABLE_SUBTREE_PROPERTY,d,a)}};
AdfDhtmlPage.prototype.getEditedComponent=function(){var a=this._editedComponentId;return a!=null?this.findComponent(a):null};
AdfDhtmlPage.prototype.setEditedComponent=function(a,b){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);var c;if(a!=null){var c=a.getClientId(),d=AdfRichUIPeer.getDomContentElementForComponent(a);AdfDomUtils.containsCSSClassName(d,AdfDhtmlPage._EDITABLE_STYLE)||(c=null,AdfDomUtils.containsCSSClassName(d,AdfDhtmlPage._SELECTABLE_STYLE)||(a=null))}else c=null;d=null;c!=null&&(d=a.getPeer().getInlineEditor(a,b),d==null&&(a=c=null));var e;if(this._editedComponentId!=c){var e=this.getEditedComponent(),
f=this._inlineEditor;f!=null&&f.stopEdit();this._editedComponentId=c;this._inlineEditor=d}else e=a;a&&this.setSelectedEditingComponents([a]);e!=a&&(d!=null&&d.startEdit(a,b),AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.EDITED_COMPONENT_PROPERTY,e,a))};
AdfDhtmlPage.prototype.getDataTransferService=function(a,b,c){var d,d=b?this._adsDataTransferService:c?this._uploadDataTransferService:this._dataTransferService;if(d==null){if(a)return null;if(this.isAttachmentMode())d=new AdfOfflineDataTransferService(e);else var e=this.getDomWindow(),d=new AdfXmlHttpDataTransferService(e);b?this._adsDataTransferService=d:c?this._uploadDataTransferService=d:this._dataTransferService=d;d.addStateChangeListener(this._dtsStateChanged,this)}return d};
AdfDhtmlPage.prototype.getAutoDismissalManager=function(){var a=this._autoDismissalManager;if(a==null)this._autoDismissalManager=a=new AdfAutoDismissalManager;return a};AdfDhtmlPage.prototype.getModalityManager=function(){var a=this._modalityManager;if(a==null)this._modalityManager=a=new AdfDhtmlModalityManager;return a};AdfDhtmlPage.prototype.getPositionManager=function(){var a=this._positionManager;if(a==null)this._positionManager=a=new AdfDhtmlPositionManager;return a};
AdfDhtmlPage.prototype.getZOrderManager=function(){var a=this._zOrderManager;if(a==null)this._zOrderManager=a=new AdfDhtmlZOrderManager;return a};AdfDhtmlPage.prototype.scheduleTimer=function(a,b,c,d){AdfAssert.assertFunction(b);AdfAssert.assertNumber(d);var e=AdfDhtmlPage._timers,f=AdfDhtmlPage._nextTimerId++,a={context:a,state:c,callback:b,timerId:f};e[f]=a;a.domTimerId=this.getDomWindow().setTimeout("AdfDhtmlPage.__callTimerCallback("+f+");",d);return f};
AdfDhtmlPage.prototype.rescheduleTimer=function(a,b){AdfAssert.assertNumeric(a);AdfAssert.assertNumber(b);var a=a.valueOf(),c=AdfDhtmlPage._timers[a];c!=null?(window.clearTimeout(c.domTimerId),c.domTimerId=this.getDomWindow().setTimeout("AdfDhtmlPage.__callTimerCallback("+a+");",b)):AdfLogger.LOGGER.warning("Attempt to reschedule unknown timerId:",a)};
AdfDhtmlPage.prototype.cancelTimer=function(a){AdfAssert.assertNumeric(a);var a=a.valueOf(),b=AdfDhtmlPage._timers,c=b[a];c!=null?(this.getDomWindow().clearTimeout(c.domTimerId),delete b[a]):AdfLogger.LOGGER.warning("Attempt to cancel unknown timerId:",a)};AdfDhtmlPage.prototype._disposeTimers=function(){var a=AdfDhtmlPage._timers;AdfDhtmlPage._timers=null;var b=this.getDomWindow(),c;for(c in a){var d=a[c];if(d!=null)try{b.clearTimeout(d.domTimerId)}catch(e){}}};
AdfDhtmlPage.__callTimerCallback=function(a){AdfAssert.assertNumber(a);var b=AdfDhtmlPage._timers;if(b!=null){var c=b[a];if(c!=null){var d;try{d=c.callback.call(c.context,c.state)}catch(e){AdfLogger.LOGGER.logErrorAsWarning(e," when calling timer callback")}AdfAssert.assertNumberOrNull(d);d==void 0||d<0?delete b[a]:c.domTimerId=AdfPage.PAGE.getDomWindow().setTimeout("AdfDhtmlPage.__callTimerCallback("+a+");",d)}}};
AdfDhtmlPage.prototype._getAndClearDeltas=function(a){var b=this.GetChangedComponents();if(b==null)return null;var c=Array(50),d=!1,e=AdfStrings.COMMA,f=AdfStrings.EQUALS,g=AdfStrings.START_CURLY_BRACKET,h=AdfStrings.CLOSE_CURLY_BRACKET,k;for(k in b){var l=b[k],m=!1,n=l.GetChanges(),o;for(o in n){m?c.push(e):(d?c.push(e):(c.push(g),d=!0),c.push(l.getClientId()),c.push("={"),m=!0);var q=n[o],p=o.length-2;o.lastIndexOf(AdfUIComponent._FLAG_PERSISTENCE)==p&&o.substr(0,p);null!=q&&(q=q.toString().replace(/\{/g,
"%7B").replace(/\}/g,"%7D").replace(/\,/g,"%2C").replace(/\=/g,"%3D"));c.push(o);c.push(f);c.push(q)}m&&c.push(h)}d&&c.push(h);a&&this.ClearChangesList();return c.join("")};AdfDhtmlPage.prototype.getResourceURL=function(a){return a.substring(0,2)=="//"?a.substring(1):a.charAt(0)=="/"?this._baseResourceUrl+a:a};AdfDhtmlPage.prototype.removeResourceURL=function(a){var b=this._baseResourceUrl,c=a.indexOf(b);return c>=0?a.substr(c+b.length):a.charAt(0)=="/"?"/"+a:a};
AdfDhtmlPage._disposeIFrames=function(a){for(var a=a.getElementsByTagName("iframe"),b=a.length-1;b>=0;b--){var c=a[b];c.parentNode.removeChild(c)}};AdfDhtmlPage._forceGC=function(a){for(var b=Array(a),c=0;c<a;c++){for(var d=Array(1E4),e=0;e<1E4;e++)d[e]=e;b[c]=d}};AdfDhtmlPage.prototype._onSelectStart=function(){var a=this.getDnDContext();return!(a&&a.isDragging())};
AdfDhtmlPage.prototype._handleResize=function(){if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM){if(!this._resizePending)this._resizePending=!0,setTimeout(this._getDelayedResizeCallback(),AdfDhtmlPage._DELAYED_RESIZE_TIMEOUT)}else this._onResize()};AdfDhtmlPage.prototype._getDelayedResizeCallback=function(){if(!this._delayedResizeCallback)this._delayedResizeCallback=this.createCallback(this._delayedOnResize);return this._delayedResizeCallback};
AdfDhtmlPage.prototype._delayedOnResize=function(){this._resizePending=!1;this._onResize()};AdfDhtmlPage.prototype._onResize=function(){if(this.getPhase()!=AdfPage.CREATE_VIEW_PHASE){this._positionGlassPane(!1);var a=AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT.start();AdfDhtmlPage._doResizeNotify(this._resizeNotifyTree,!1);AdfDhtmlPage._BROWSER_RESIZE_CHECKPOINT.stop(a)}};
AdfDhtmlPage.prototype.startDrag=function(a,b,c,d,e){var f=AdfAgent.AGENT,a=f.getMousePosition(a);this._dragStartX=a.x;this._dragStartY=a.y;this._dragLastX=this._dragStartX;this._dragLastY=this._dragStartY;this._moveCallback=b;this._dropCallback=c;this._abortCallback=d;(this._dragHideGlassPane=e)?this.showGlassPane(this._dragDropCallbacks,"auto"):(b=this._dragDropCallbacks,f.startMouseEventCapture(b),f.startDocumentKeyEventCapture(b,this._document.documentElement))};
AdfDhtmlPage.prototype._dragMouseMove=function(a){var b=this._moveCallback,c=AdfAgent.AGENT.getMousePosition(a);b&&b(a,c.x-this._dragLastX,c.y-this._dragLastY);this._dragLastX=c.x;this._dragLastY=c.y};AdfDhtmlPage.prototype._dragMouseUp=function(a){var b=this._dropCallback,c=AdfAgent.AGENT.getMousePosition(a);this.stopDrag();b&&b(a,c.x-this._dragStartX,c.y-this._dragStartY);this._dragLastX=c.x;this._dragLastY=c.y};
AdfDhtmlPage.prototype._dragKeyDown=function(a){if(a.keyCode==AdfKeyStroke.ESC_KEY){var b=this._abortCallback;if(b)return this.stopDrag(),b(),AdfAgent.AGENT.eatEvent(a),!1}};AdfDhtmlPage.prototype.stopDrag=function(){if(this._dragHideGlassPane)this.hideGlassPane(this._dragDropCallbacks);else{var a=AdfAgent.AGENT,b=this._dragDropCallbacks;a.stopMouseEventCapture(b);a.endDocumentKeyEventCapture(b,this._document.documentElement)}this._abortCallback=this._dropCallback=this._moveCallback=null};
AdfDhtmlPage.prototype.isDragging=function(){return this._moveCallback?!0:!1};AdfDhtmlPage.prototype.setOnLoadCallback=function(a){this._onLoadCallback=a};AdfDhtmlPage.prototype.preloadImages=function(){this._preloadImages=!0};AdfDhtmlPage.prototype.setExpectedWindowId=function(a){this._expectedWindowId=a};AdfDhtmlPage.prototype.getActiveComponentId=function(){return this._activeComponentId};
AdfDhtmlPage.prototype._setActiveComponentId=function(a){var b=a!=null?AdfAgent.AGENT.getElementById(a):null;this.__setActiveDomNodeInfo(a,b)};AdfDhtmlPage.prototype.getActiveDomElement=function(){return this._activeDomNode};AdfDhtmlPage.prototype.getActiveComponent=function(){var a=this._activeComponentId;return a!=null?this.findComponent(a):null};
AdfDhtmlPage.prototype.__setActiveDomNodeInfo=function(a,b){AdfAssert.assertDomNodeOrNull(a);AdfAssert.assertStringOrNull(b);a===void 0&&(a=null);var c=this.getActiveComponent(),d=this._activeDomNode;if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM&&d&&a&&a.tagName=="BODY")return this.getZOrderManager().containsElement(d)&&AdfFocusUtils.focusElementDelayed(d,1),!1;this._activeDomNode=a;this._activeComponentId=b;AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfDhtmlPage.ACTIVE_DOM_ELEMENT_PROPERTY,
d,a);AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.ACTIVE_COMPONENT_PROPERTY,c,this.getActiveComponent());return!0};
AdfDhtmlPage.prototype.queueEvent=function(a){if(a)if(AdfAssert.assertPrototype(a,AdfBaseEvent),this._partialRequestRedirect==!0&&AdfRedirectEvent.REDIRECT_EVENT_TYPE!=a.getType())AdfLogger.LOGGER.info("Redirect in progress... refusing to queue event : ",a);else{if(this._isTrackingDirtyData()&&AdfValueChangeEvent.VALUE_CHANGE_TYPE==a.getType())this._hasLocalUncommitted=!0,this._uncommittedIds[a.getSource().getClientId()]=!0;a.propagatesToServer()==!0&&(this._haveOutstandingPPRRequest!==void 0&&this._haveOutstandingPPRRequest==
!0?this.__perfTimings(!1,!1,!0,"user click event : ",a):this.__perfTimings(!0,!0,!0,"user click event: ",a));if(AdfDhtmlPage._MSG_RESET_CLIENT_AND_SERVER===this._globalMessagesResetStrategy&&a.getClearMessages()){AdfLogger.LOGGER.fine("Page level messages cleared by the following event: ",a);var b=this._resolveMessageComponentId(null,!1);AdfPage.PAGE.clearMessages(b)}if(a.isValidationNeeded()){AdfLogger.LOGGER.fine("Client validation triggered by the following event: ",a);var b=a.getSource(),c=a.isImmediate();
if(!this._processValidators(b,a.getRoot(),c)){a.cancel();this.showMessages();AdfLogger.LOGGER.info("Client validation failed. The following event that triggered the validation was not queued as a result: ",a);return}}this._eventQueue.push(a);this.getPhase()!=AdfPage.DELIVER_EVENTS_PHASE&&this.__queueEventTimerIfNeeded()}};AdfDhtmlPage.prototype.__queueEventTimerIfNeeded=function(a){this._updateDeliveryTimer(a)};
AdfDhtmlPage.prototype.queueEventToServer=function(a){AdfAssert.assert(!this._inDeliverQueuedServerEvents);if(a)if(AdfAssert.assertPrototype(a,AdfBaseEvent),this._partialRequestRedirect==!0&&AdfRedirectEvent.REDIRECT_EVENT_TYPE!=a.getType())AdfLogger.LOGGER.info("Redirect in progress... refusing to queue event : ",a);else{if(a.isResponseExpected()&&a.getMaxTimeBeforePropagation()==0){var b=a.getSource(),c=b.getClientId(),d=this._busyCounts,e=d[c];e||(e=0,b.getPeer()&&b.getPeer().setBusy(b,!0));d[c]=
e+1}this._serverQueue.push(a);this.getPhase()!=AdfPage.DELIVER_EVENTS_PHASE&&this.__queueEventTimerIfNeeded()}};AdfDhtmlPage.__setNonHtmlResponse=function(a){a.forceFullSubmit();a.noResponseExpected()};AdfDhtmlPage.__setNonHtmlResponsePartialSubmit=function(a){a.setPartial(!0);a.noResponseExpected()};
AdfDhtmlPage.prototype._processValidators=function(a,b,c){if(!b)for(b=a;;){b=b.getParent();if(!b)return AdfLogger.LOGGER.severe("AdfDhtmlPage._processValidators: No form found"),!0;if(b instanceof AdfRichForm||b.isEventRoot())break}for(var b=b.getDescendantComponents(Array(b)),d=a.getClientId(),e=d.lastIndexOf(":"),a=[];e>0;)d=d.substring(0,e),e=this.findComponent(d),e!=null&&e instanceof AdfRichSubform&&a.push(d),e=d.lastIndexOf(":");for(var d=!0,f=0;b&&f<b.length;f++){var g=b[f];if(g!=null&&g instanceof
AdfUIEditableValue&&(!c||g.getImmediate())){for(var h=g.getClientId(),e=h.lastIndexOf(":"),k=null;e>0;){h=h.substring(0,e);e=this.findComponent(h);if(e!=null&&e instanceof AdfRichSubform){k=h;break}e=h.lastIndexOf(":")}e=!0;if(k!=null)if(h=a.length,h>0)for(subformIdIndex=0;subformIdIndex<h;subformIdIndex++)if(k==a[subformIdIndex])break;else subformIdIndex==h-1&&(e=!1);else this.findComponent(k).getDefault()==!1&&(e=!1);e&&(g.getValid()==!0?g.getRequired()&&(k=AdfRichUIPeer.getDomElementForComponent(g),
AdfDomUtils.isInVisibleSubtree(k)&&(g.validate(),g.getValid()==!1&&(d=!1))):(k=AdfRichUIPeer.getDomElementForComponent(g),AdfDomUtils.isInVisibleSubtree(k)&&(g=g.getClientId(),this.hasMessages(g)?d=!1:AdfLogger.LOGGER.severe("AdfDhtmlPage._processValidators: Ignoring that the component with the id '"+g+"' is invalid because there are no messages to show the user."))))}}return d};
AdfDhtmlPage._timerDeliverEvents=function(){var a=AdfPage.PAGE;a._eventDispatcherID=void 0;a._eventDispatcherTargetTime=void 0;a._deliverAllQueuedEvents();var b=a._serverQueue.getWaitingTimeout();b>=0&&a._updateDeliveryTimer(b)};
AdfDhtmlPage.prototype._updateDeliveryTimer=function(a){if(a===void 0||a<50)a=50;var b=!1,c=(new Date).getTime()+a;this._eventDispatcherID!==void 0&&(AdfAssert.assert(this._eventDispatcherTargetTime!==void 0),this._eventDispatcherTargetTime>c?this.getDomWindow().clearTimeout(this._eventDispatcherID):b=!0);if(!b)this._eventDispatcherTargetTime=c,this._eventDispatcherID=this.getDomWindow().setTimeout(AdfDhtmlPage._timerDeliverEvents,a)};
AdfDhtmlPage.prototype._eventLoopDeliverEvents=function(){this._deliverAllQueuedEvents();var a=this._serverQueue.getWaitingTimeout();if(a>=0)this._updateDeliveryTimer(a);else if(this._eventDispatcherID!==void 0)this.getDomWindow().clearTimeout(this._eventDispatcherID),this._eventDispatcherTargetTime=this._eventDispatcherID=void 0};AdfDhtmlPage.prototype._deliverAllQueuedEvents=function(){this._deliverQueuedEvents();this.getDataTransferService().getDTSState()==AdfDataTransferService.STATE_READY&&this._deliverQueuedServerEvents()};
AdfDhtmlPage.prototype._deliverQueuedEvents=function(){var a=this._eventQueue;try{this._inDeliverQueuedEvents=!0;do{var b=a.shift();if(!b)break;b.getSource().broadcast(b)}while(1)}finally{this._inDeliverQueuedEvents=!1}};AdfDhtmlPage.prototype._findFirstAdfForm=function(){for(var a=this.getDomDocument().forms,b=a.length,c=0;c<b;c++){var d=a[c],e=d.id;if(e&&this.findComponent(e))return d}return null};
AdfDhtmlPage.prototype._deliverQueuedServerEvents=function(a,b){if(!this.isAttachmentMode()&&!this._partialRequestRedirect&&!this.isPerformingFullSubmit()&&this._inDeliverQueuedServerEvents!=!0){this._inDeliverQueuedServerEvents=!0;var c=this._scrubPartialTargets(this._partialTargets),d=this._startADSClientIdCount>0&&this._canReceiveActiveDataCount>0,e=this._stopADSClientIds,f=d||e.length>0,g=AdfCollections.isEmpty(this._getClientStateMap()),h=this._windowEventHeaderMap,k=h!=null;if(b){if(!k)h=this._windowEventHeaderMap=
{};h["Adf-Property-Delta-Sync"]="true"}this._serverQueue.validate();var l=this._serverQueue.hasEventsToDeliver(),m=c!=null||f||k,h=!1;if(l||m||a){var n={},o={},q=!0,p=null,s=AdfDhtmlPage._getFormElement,t=0!=(this.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_FORCE_PPR),u=!1;if(this.isUserActivityMonitoringOn()&&g)var v=AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PRIMARY);if(c!=null)p=c.join(","),n[AdfDhtmlPage.PARTIAL_TARGETS_PARAM]=p,this.isUserActivityMonitoringOn()&&g&&v.setPprTargets(p),
p=s(this.findComponent(c[0])),this._partialTargets=null;var w=this._getAndClearDeltas(l||n[AdfDhtmlPage.PARTIAL_TARGETS_PARAM]!=null);if(w)n["oracle.adf.view.rich.DELTAS"]=w;else if(!l&&!m||b){this._inDeliverQueuedServerEvents=!1;return}var c=!1,l={},y=this._serverQueue.popEvents(m,w),m=null,A=y.length;A==1&&(w=y[0],w.isResponseExpected()||(m=w));var w=[],z=[];for(A-=1;A>=0;A--){var B=y[A],C=B.getType();l[C]=C;var D=B.getSource(),E=D.getClientId();h||(h=B.isResponseAnnounced());var F=s(D);p==null&&
(p=F);if(p==F){if(E){E in o||w.push(E);var F=B.getProperties(),G=o[E];if(G){if(G[C])continue}else G=[],o[E]=G;G[C]=!0;var I=B._adfServerParams;I&&(n=AdfCollections.copyInto(I,n));G.push(F);this.isUserActivityMonitoringOn()&&g&&v.setEventInfo(B.getType(),E,D.getComponentType(),D.getAccessibleName())}else AdfLogger.LOGGER.severe("Can not post events for ",component," because it has no clientId");D=B.isPartial()&&!B.isFullSubmitForced();c=c||B.IsUserInputPrevented();t&&!D&&C==AdfActionEvent.ACTION_EVENT_TYPE&&
!B.isFullSubmitForced()&&(u=D=!0);q&=D}else AdfLogger.LOGGER.severe("Only submits to a single form are currently supported");(B=B.getRoot())?z!==null&&z.push(B.getClientId()):z=null}n.event=w.join(",");this.isUserActivityMonitoringOn()&&g&&(g=(new Date).getTime().toString(),v.setClientStartTime(g),AdfUserActivityInfo.saveToSessionStorageByType(AdfUserActivityInfo.PRIMARY),n["oracle.adf.view.rich.monitoring.UserActivityInfo"]=AdfUserActivityInfo.getMarshaledObject());for(var H in o)n["event."+H]=this._marshallMultipleEventParameters(o[H]);
v=null;if(f){v={};if(d){d=this._startADSClientIds;this._startADSClientIds={};this._startADSClientIdCount=0;f=[];H=[];g=this._activeComponents;for(currClientId in d)p==null&&(p=s(this.findComponent(currClientId))),f.push(currClientId),H.push(g[currClientId].changeCount);v["oracle.adf.view.rich.START_ACTIVE_DATA"]=f;v["oracle.adf.view.rich.START_ACTIVE_DATA_EVENT_IDS"]=H}if(e.length>0)this._stopADSClientIds=[],v["oracle.adf.view.rich.STOP_ACTIVE_DATA"]=e}if(p==null&&(p=this._findFirstAdfForm(),!p)){this._inDeliverQueuedServerEvents=
!1;return}AdfAssert.assert(p,"No form found;  cannot postback");if(k||b)if(v||(v={}),v=AdfCollections.copyInto(v,this._windowEventHeaderMap),delete this._windowEventHeaderMap,p&&v["Adf-Window-Opened"]=="true")p.action=this.getDomWindow().location.href;v=this._addPageId(v);(e=AdfDomUtils.getMultiPartForm(p)!=null)&&b&&p.setAttribute("enctype","application/x-www-form-urlencoded");this.isPortlet()&&e&&(q=!1);e=null;m!=null?e=m.getSource().getClientId():q&&z&&z.length&&(e=z.join(","));e!=null&&(n["oracle.adf.view.rich.PROCESS"]=
e);q&&u&&(n["oracle.adf.view.rich.PPR_FORCED"]="true");u={};u._responseAnnounced=h;u._clientEventsSet=l;m!=null?(c=!1,u._noResponseExpected=!0):this._serverQueue.hasEventsToDeliver()&&(c=!0);q?(this._doRichPostback(p,n,v,c,u,w),this.__perfTimings(!1,!1,!0,"deliver PPR request. Event: ",n.event),this._haveOutstandingPPRRequest=!0):(this._waitingForDocumentUnload=m==null,this.__perfTimings(!1,!1,!0,"deliver full postback request. Event: ",n.event),this._notifyOfUnload=!1,this._doFullPostback(p,n,c))}this._inDeliverQueuedServerEvents=
!1}};AdfDhtmlPage.prototype._sendRichPayload=function(a,b){AdfAssert.assert(a,"Attempting to send null payload");var c=this.getDomDocument().forms[0];AdfAssert.assert(c,"No form found;  cannot postback");var d=this._addPageId(null);AdfDhtmlPage._addStateParameter(c,a);this._doRichPostback(c,a,d,!1,b,null,null)};AdfDhtmlPage.prototype._addPageId=function(a){a||(a={});this._getPageId()!=null&&(a["Adf-Ads-Page-Id"]=this._getPageId());return a};
AdfDhtmlPage.__addServerParamsToEvent=function(a,b){b&&(a._adfServerParams=b)};AdfDhtmlPage.prototype.deliverEventToNewWindow=function(a){var b=a.getSource(),c=b.getClientId(),d={event:c};d["event."+c]=this._marshallMultipleEventParameters(Array(a.getProperties()));(a=this._getAndClearDeltas(!1))&&(d["oracle.adf.view.rich.DELTAS"]=a);b=AdfDhtmlPage._getFormElement(b);a=b.target;b.target="_new";this._doFullPostback(b,d,!1);b.target=a};
AdfDhtmlPage.prototype._marshallMultipleEventParameters=function(a){var b=AdfAgent.AGENT,c=b.createXmlDocument(),d=c.createElement("TEMP");b.getPlatform()==AdfAgent.IE_PLATFORM?c.documentElement=d:c.appendChild(d);a=a.length>1?a:a[0];d=AdfMarshalingService.getDefault().marshal(d,a,null);return b.getNodeXml(d)};
AdfDhtmlPage.prototype.removeComponentsInSubtree=function(a){if(a.id==AdfDhtmlPage._NAVIGATION_WRAPPER_ID)for(var b in this._clientIdToComponentMap)a=this._clientIdToComponentMap[b],a!=null&&a.RemoveNotify();else{var c=[];this._postOrderPopulate(a,0,c,!1);for(var d=c.length-1;d>=0;d--){var e=c[d];if(e!=null)for(var f=e.length,g=0;g<f;g++)b=e[g],a=this.findComponent(b),a!=null&&a.RemoveNotify()}}};
AdfDhtmlPage.prototype.ComponentsInSubtreeCallback=function(a,b,c){var d=[];this._postOrderPopulate(a,0,d,!1);for(a=d.length-1;a>=0;a--){var e=d[a];if(e!=null)for(var f=e.length,g=0;g<f;g++){var h=this.findComponent(e[g]);h!=null&&b(h,c)}}};AdfDhtmlPage.cancelAllPopupsCallback=function(a){var b=a.getPeer();b&&b.cancelAllPopups(a,!0)};AdfDhtmlPage.prototype._postOrderPopulateComponent=function(a,b,c){if(a&&this.findComponent(a)!=null){var d=c[b];d==null?c[b]=Array(a):d.push(a)}};
AdfDhtmlPage.prototype._postOrderPopulate=function(a,b,c,d){AdfAssert.assertDomElement(a);if(!d||AdfDomUtils.isVisible(a)){var e=a.firstChild;if(e!=null){var f=b+1;do{var g=e.nodeType;g==1?this._postOrderPopulate(e,f,c,d):g==8&&(g=this._getClientIdFromComment(e))&&this._postOrderPopulateComponent(g,f,c);e=e.nextSibling}while(e!=null)}g=a.id;this._postOrderPopulateComponent(g,b,c)}};
AdfDhtmlPage.prototype.__checkRichResponseDirty=function(){if(this._isRichResponseDirty())return this.getDomWindow().location.reload(!0),!0;return!1};AdfDhtmlPage._doFrameBusting=function(a){var b=AdfPage.PAGE.getLookAndFeel().getTranslatedString("AFFramebusting");b?alert(b):AdfLogger.LOGGER.severe("unable to get framebusting message available");top.location.href=a};
AdfDhtmlPage.__frameBusting=function(a){if(!(self==top||a=="never"))if(a=="always")AdfDhtmlPage._doFrameBusting(location.href);else for(var a=!0,b=parent;a;){try{if(b.location.href==null){AdfDhtmlPage._doFrameBusting(location.href);return}}catch(c){AdfDhtmlPage._doFrameBusting(location.href);return}b==top&&(a=!1);b=b.parent}(a=document.getElementById("adfFrameBustStyle"))&&a.parentNode.removeChild(a)};
AdfDhtmlPage.prototype.__onLoad=function(){var a=this.getDomWindow(),b=AdfAgent.AGENT;try{if(this._perfProfileEnabled)a._afrTimingOnLoadEnd=(new Date).getTime();var c=AdfDhtmlPage._LOAD_CHECKPOINT.start(),d=this.getDomDocument(),e=this.createCallback(this._redistribute);b.addEventBubbles(d,e);this._redistributeEventsCallback=e;this._touchContextMenuManager=b.createContextMenuEventGenerator();b.addKeyEventListener(d,AdfDhtmlPage._keyEventCallback);this._onBeforeUnloadCallback=this.createCallback(this._handleBeforeUnload);
b.addBubbleEventListener(a,"beforeunload",this._onBeforeUnloadCallback);if(this._perfProfileEnabled)a._afrTimingResizeStart=(new Date).getTime();AdfDhtmlPage._doResizeNotify(this._resizeNotifyTree);if(this._perfProfileEnabled)a._afrTimingResizeEnd=(new Date).getTime();this._loadedLibraries=this._collectLoadedLibraries();this._loadedCss=this._collectCss();if(this._expectedWindowId!==void 0&&(!a.name||a.name==""||a.name=="_adfvdlg")){d=!1;if(a.name&&a.name=="_adfvdlg"||a.location.href&&a.location.href.indexOf("__ADFvDlg__"))d=
!0;this._stopGlobalActiveData();this._notifyWindowOpened(d)}this._preloadImages&&this._forcePreloadOfAllImages();var f=this._onLoadCallback;if(f){var g=AdfDhtmlPage._CALLBACK_CHECKPOINT.start();f();AdfDhtmlPage._CALLBACK_CHECKPOINT.stop(g)}}finally{if(a=b.getElementById("afr::Splash"))a.style.display="none";this.SetPhase(AdfPage.WAITING_FOR_USER_INPUT_PHASE)}this._initializationComplete=!0;this._startGlobalActiveData();this._inAppNavigationFlag=!1;AdfDhtmlPage._LOAD_CHECKPOINT.stop(c);this._restorePreviousUserActivityData();
this._partialRequestRedirect=!1;this.isScreenReaderMode()&&!AdfCollections.isEmpty(this._activeComponents)&&(c=this.createCallback(this._activeDataHotKeyhandler),this.registerKeyStroke(AdfDhtmlPage._ACTIVE_DATA_HOT_KEY,c),this._announceActiveComponents());(c=AdfNavigationHistoryAgent.getInstance())&&c.isInitialized()&&c.startTrackingURI(this);this._onLoadPerfTimings()};AdfDhtmlPage.prototype.setFacesPath=function(a){this._facesPath=a};
AdfDhtmlPage.prototype.loadView=function(a,b,c){a==null?(a=this.getDomWindow().location.href,b=a.indexOf("#"),b>=0&&(a=a.substring(0,b))):(a=this._facesPath+a,b&&(a+=b));this._blockUI(!0);this.getDataTransferService().sendRequest({_loadId:c},a,null,"_",[this])};
AdfDhtmlPage.prototype._onLoadPerfTimings=function(){if(this._perfProfileEnabled){var a=this.getDomWindow(),b=a._afrTimingPreLoadStart,c=(new Date).getTime(),d=a._afrTimingCoreLibraryPartitionLoadEnd-a._afrTimingCoreLibraryPartitionLoadStart,e=a._afrTimingBootstrapLibraryPartitionLoadEnd-a._afrTimingBootstrapLibraryPartitionLoadStart,f=a._afrTimingLibraryPartitionsLoadStart,g=a._afrTimingLibraryPartitionsLoadEnd-f,h=a._afrTimingSkinLoadEnd-a._afrTimingSkinLoadStart,k=a._afrTimingCoreLibraryLoadEnd-
a._afrTimingCoreLibraryLoadStart,l=a._afrTimingProfilerLibraryLoadEnd-a._afrTimingProfilerLibraryLoadStart,m=a._afrTimingPreludeEnd-a._afrTimingPreludeStart,n=a._afrTimingProfilerScriptLoadEnd-a._afrTimingProfilerScriptLoadStart,o=a._afrTimingTranslationsLoadEnd,q=o-a._afrTimingTranslationsLoadStart,p=a._afrTimingElementsAddedStart,s=a._afrTimingElementsAddedEnd-p,t=a._afrTimingRenderSkinPropertiesEnd-a._afrTimingRenderSkinPropertiesStart,u=a._afrTimingAddComponentsEnd-a._afrTimingAddComponentsStart,
v=a._afrTimingExtendedScriptsExecuteEnd-a._afrTimingExtendedScriptsExecuteStart,w=a._afrTimingLoadScriptLoadEnd-a._afrTimingLoadScriptLoadStart,y=a._afrTimingExtendedScriptsLoadEnd,A=y-a._afrTimingExtendedScriptsLoadStart,z=a._afrTimingPPRNavInitScriptEnd-a._afrTimingPPRNavInitScriptStart,B=a._afrTimingEncodeComponentsEnd-a._afrTimingEncodeComponentsStart-u;f-=o;p-=y;y=a._afrTimingOnLoadEnd-b;a=a._afrTimingResizeEnd-a._afrTimingResizeStart;AdfLogger.PROFILER_LOGGER.info("initial page load started;",
b);AdfLogger.PROFILER_LOGGER.info("CSS skin load time;;",h);AdfLogger.PROFILER_LOGGER.info("JS Trinidad library load time;;",k);AdfLogger.PROFILER_LOGGER.info("JS profiler library load time;;",l);AdfLogger.PROFILER_LOGGER.info("JS bootstrap library partition load time;;",e);AdfLogger.PROFILER_LOGGER.info("JS prelude script time;;",m);AdfLogger.PROFILER_LOGGER.info("JS profiler script load time;;",n);AdfLogger.PROFILER_LOGGER.info("JS core library partition load time;;",d);AdfLogger.PROFILER_LOGGER.info("JS translations library load time;;",
q);AdfLogger.PROFILER_LOGGER.info("HTML layout time;;",f);AdfLogger.PROFILER_LOGGER.info("JS library partitions load time;;",g);AdfLogger.PROFILER_LOGGER.info("JS load script time;;",w);AdfLogger.PROFILER_LOGGER.info("JS load extended scripts;;",A);AdfLogger.PROFILER_LOGGER.info("onload handler time;;",p);AdfLogger.PROFILER_LOGGER.info("JS elements added time;;",s);AdfLogger.PROFILER_LOGGER.info("JS render skin properties time;;",t);AdfLogger.PROFILER_LOGGER.info("JS create components time;;",B);
AdfLogger.PROFILER_LOGGER.info("JS add components time;;",u);AdfLogger.PROFILER_LOGGER.info("JS execute extended scripts time;;",v);AdfLogger.PROFILER_LOGGER.info("JS execute ppr init script time;;",z);AdfLogger.PROFILER_LOGGER.info("pre-load total time;;",y);AdfLogger.PROFILER_LOGGER.info("resize time;;",a);AdfLogger.PROFILER_LOGGER.info("initial page load done;",c,";",c-b);b=(new Date).getTime();this._logOffset=b-c;this._perfProfileLogClosed=!1}else if(this._perfProfileTimingEnabled)a=this.getDomWindow(),
b=a._afrTimingPreLoadTimingStart,c=(new Date).getTime(),AdfLogger.PROFILER_LOGGER.info("initial page load started;",b),AdfLogger.PROFILER_LOGGER.info("initial page load done;",c,";",c-b),b=(new Date).getTime(),this._logOffset=b-c,this._perfProfileLogClosed=!1};
AdfDhtmlPage.prototype.__perfTimings=function(a,b,c,d,e){AdfAssert.assertBoolean(a);AdfAssert.assertBoolean(a,b);AdfAssert.assertBoolean(c);if(this._perfProfileEnabled||c&&this._perfProfileTimingEnabled){var c=this.getDomWindow(),f=this._perfProfileEnabled?c._afrTimingPreLoadStart:c._afrTimingPreLoadTimingStart;e&&(d+=e);e=(new Date).getTime();if(this._logOffset===void 0)this._logOffset=0;var g=e-this._logOffset;if(a){var a=AdfLogger.PROFILER_LOGGER.getLogWriter(),h=AdfClientFileLogWriter.prototype.isPrototypeOf(a);
if(h&&b)a.closeRecord(),g=(new Date).getTime(),this._logOffset=0,AdfLogger.PROFILER_LOGGER.info(d,";",g),this._perfProfileLogClosed=!1;else if(h&&!b)this._perfProfileLogClosed?AdfLogger.PROFILER_LOGGER.info(d,";",g):AdfLogger.PROFILER_LOGGER.info(d,";",g,";",g-f),a.closeRecord(),this._perfProfileLogClosed=!0,this._logOffset+=(new Date).getTime()-e;this._perfProfileEnabled?c._afrTimingPreLoadStart=g:c._afrTimingPreLoadTimingStart=g}else this._perfProfileLogClosed?(AdfLogger.PROFILER_LOGGER.info(d,
";",g),this._perfProfileEnabled?c._afrTimingPreLoadStart=g:c._afrTimingPreLoadTimingStart=g):AdfLogger.PROFILER_LOGGER.info(d,";",g,";",g-f),this._perfProfileLogClosed=!1}};AdfDhtmlPage._getFormElement=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);if(a.getPeer())return a=AdfRichUIPeer.getDomNodeForComponent(a),AdfDomUtils.getFormElement(a);return null};
AdfDhtmlPage.prototype._getParameterElement=function(a,b){AdfAssert.assertString(b);var c=AdfAgent.AGENT.getFormElement(a,b);if(!c)c=this.getDomDocument().createElement("input"),c.type="hidden",c.name=b,a.appendChild(c);return c};AdfDhtmlPage.prototype._setParameter=function(a,b,c){this._getParameterElement(a,b).value=c};AdfDhtmlPage.prototype._appendParameter=function(a,b,c){a=this._getParameterElement(a,b);(b=a.value)&&(c=b+","+c);a.value=c};
AdfDhtmlPage._removeAllFormElements=function(a){AdfAssert.assert(a,"Invalid form;  cannot remove elements");if(a=a.elements)for(var b=null,c=a.length-1;c>=0;c--)(b=a.item(0))&&b.parentNode.removeChild(b)};AdfDhtmlPage.prototype._getPublicAncestor=function(a){for(;a!=null;)if(a.satisfiesUsage(AdfUIComponent.USAGE_PRIVATE_CHILD))a=a.getParent();else return a};
AdfDhtmlPage.prototype._redistribute=function(a){var b=this.getDnDContext();if(!b||!b.isDragging()){var c=AdfAgent.AGENT;if(a&&a.type=="click"&&a.timeStamp==0){var d=c.getEventTarget(a);if(c.getNodeName(d)=="LABEL"){var e=AdfRichUIPeer.getFirstAncestorComponent(d),f=e.getPeer();f.focus(e);c.eatEvent(a);return}}c.getPlatform()==AdfAgent.GECKO_PLATFORM&&a&&a.type=="keypress"&&a.keyCode==27&&a.preventDefault();this.SetPhase(AdfPage.DELIVER_EVENTS_PHASE);try{if(!a)a=this.getDomWindow().event;var g=this.__getUserInactivityTimeoutHelper();
g&&g.__resetTimeoutHandler(a);d=c.getEventTarget(a);if(!(d==null||d.nodeType==null)){var h=this.getActiveComponent(),e=AdfRichUIPeer.getFirstAncestorComponent(d),k=a.type,l=c.mapNativeToComponentEventType(k);if(k=="click")this._fixupLinkOnClick(d);else if(l=="focus"&&!this.__setActiveDomNodeInfo(d,e?e.getClientId():null)){c.eatEvent(a);return}if(e!=null){f=e.getPeer();if(l==AdfComponentEvent.FOCUS_EVENT_TYPE||l==AdfComponentEvent.BLUR_EVENT_TYPE){if(f.needsFocusTargetStyleClass()){var m=this._getPublicAncestor(e);
if(m){var n=AdfRichUIPeer.getDomContentElementForComponent(m);n&&(l==AdfComponentEvent.FOCUS_EVENT_TYPE?AdfDomUtils.addCSSClassName(n,AdfRichUIPeer.FOCUS_TARGET_STYLECLASS):AdfDomUtils.removeCSSClassName(n,AdfRichUIPeer.FOCUS_TARGET_STYLECLASS))}}}else if(k=="mouseover"||k=="mouseout")if(c.supportsTransientStyleClasses()&&c.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE){if(m=this._getPublicAncestor(e)){m.getPeer().bind(m);var o=AdfRichUIPeer.getDomContentElementForComponent(m);
if(k=="mouseover")o&&AdfDomUtils.addCSSClassName(o,AdfRichUIPeer.HOVER_TARGET_STYLECLASS);else if(k=="mouseout"){var g=!0,q=c.getEventToElement(a);if(q&&q.nodeType!=null){var p=AdfRichUIPeer.getFirstAncestorComponent(q);if(p=this._getPublicAncestor(p)){var s=p.getPeer();s.bind(p);s.getDomElement()==o&&(g=!1)}}g&&o&&AdfDomUtils.removeCSSClassName(o,AdfRichUIPeer.HOVER_TARGET_STYLECLASS)}}}else AdfLogger.LOGGER.info("The skinning's hover-target pseudo class is not supported on this configuration.");
f._dispatchDomEvent(c,e,a);var t=f.createComponentEvent(e,a,h);if(t){AdfAssert.assert(t.getSource()===e,"event generation can't change event source");switch(t.getType()){case AdfComponentEvent.FOCUS_EVENT_TYPE:AdfLogger.LOGGER.fine("Focus: ",e),delete this._restorePprFocusIndex,this.__setActiveDomNodeInfo(d,e.getClientId())}b&&AdfUIInputEvent.prototype.isPrototypeOf(t)&&b.__handleInputEvent(t);e.queueEvent(t);var u=this._touchContextMenuManager.deriveContextMenuEvent(t);u&&e.queueEvent(u);this._eventLoopDeliverEvents()}this._descendantResizeNotifyQueue&&
this.getDataTransferService().getDTSState()==AdfDataTransferService.STATE_READY&&this.__doDescendantResizeNotify()}}}finally{this.SetPhase(AdfPage.WAITING_FOR_USER_INPUT_PHASE),AdfAssert.DEBUG&&AdfLogger.LOGGER.getLogWriter().flush()}}};
AdfDhtmlPage.prototype.createFloatingDiv=function(a,b,c){AdfAssert.assertDomElement(a);AdfAssert.assertNumber(b);AdfAssert.assertString(c);var d=a.ownerDocument,e=d.createElement("DIV"),f=e.style;f.zIndex=b;f.position="absolute";f.visibility="hidden";b=d.createElement("SPAN");b.style.display="block";b.className=c;e.appendChild(b);a.appendChild(e);return e};AdfDhtmlPage.prototype.showFloatingDiv=function(a,b){this._clearFloatingDiv(a);a.firstChild.appendChild(b);a.style.visibility="visible"};
AdfDhtmlPage.prototype.hideFloatingDiv=function(a){AdfAssert.assertDomElement(a);var b=a.style;b.visibility="hidden";b.top="-100px";b.left="-100px";this._clearFloatingDiv(a)};AdfDhtmlPage.prototype._clearFloatingDiv=function(a){AdfAssert.assertDomElement(a);for(var a=a.firstChild,b=a.firstChild,c;b;)c=b.nextSibling,a.removeChild(b),b=c};AdfDhtmlPage.prototype.prepareMaskingFrame=function(){this.getZOrderManager().prepareMaskingFrame()};
AdfDhtmlPage.prototype.createMaskingFrame=function(a){var b=this.getZOrderManager().createMaskingFrame();this.moveMaskingFrame(a,b);return b};AdfDhtmlPage.prototype.moveMaskingFrame=function(a,b){var c=b.style,d=AdfAgent.AGENT.getElementPosition(a);c.top=d.y+"px";c.left=d.x+"px";c.width=a.offsetWidth+"px";c.height=a.offsetHeight+"px";c.visibility="visible"};AdfDhtmlPage.prototype.removeMaskingFrame=function(a){this.getZOrderManager().removeMaskingFrame(a)};AdfDhtmlPage.prototype.getDocument=function(){return this._document};
AdfDhtmlPage.prototype.getDomDocument=function(){return this._document};AdfDhtmlPage.prototype.getDomWindow=function(){return this._window};
AdfDhtmlPage.prototype.showGlassPane=function(a,b){AdfLogger.LOGGER.finest("Show glasspane");AdfAssert.assert(a);AdfAssert.assertString(b);var c=this.getGlassPane();this._positionGlassPane(!0);c.style.visibility="visible";var d=AdfAgent.AGENT;d.setCursor(c,d.getCursor(b));d.startMouseEventCapture(a);c=d.getPlatform()==AdfAgent.IE_PLATFORM?this._document.body:c;this._keyCaptureState=d.startDocumentKeyEventCapture(a,c)};
AdfDhtmlPage.prototype.hideGlassPane=function(a){AdfAssert.assert(a);AdfLogger.LOGGER.finest("Hide glasspane");var b=AdfAgent.AGENT,c=this.getGlassPane();b.setCursor(c,"auto");b.stopMouseEventCapture(a);var d=b.getPlatform()==AdfAgent.IE_PLATFORM?this._document.body:c;b.endDocumentKeyEventCapture(a,d,this._keyCaptureState);this._keyCaptureState=null;a=c.style;a.cursor="auto";a.visibility="hidden";a.height="1px";a.width="1px";b.forceCursorChange(this.getDomDocument())};
AdfDhtmlPage.prototype.getDnDContext=function(){var a=this._dndContext;if(a===void 0)this._dndContext=a=this.getDomWindow().AdfDhtmlDnDContext?new AdfDhtmlDnDContext:null;return a};AdfDhtmlPage.prototype.__clearDnDContext=function(){delete this._dndContext};AdfDhtmlPage.prototype.getGlassPane=function(){var a=this._glassPane;if(!a)this._glassPane=a=this._createGlassPane(this.getDomDocument());return a};
AdfDhtmlPage.prototype._createGlassPane=function(a){var b=a.createElement("div");b.className="AFBlockingGlassPane";var c=b.style;c.position="absolute";c.left="0px";c.top="0px";c.zIndex=AdfDhtmlZOrderManager.getMaxZIndex()+1;c.visibility="hidden";c.tabIndex=-1;c=AdfAgent.AGENT;c.disableUserSelect(b);a.body.appendChild(b);c.setOpacity(b,0);return b};
AdfDhtmlPage.prototype._positionGlassPane=function(a){var b=this._glassPane;if(b&&(b=b.style,a||b.visibility=="visible")){var a=this.getDomDocument().body,c=Math.max(a.offsetWidth,a.scrollWidth);b.height=Math.max(a.offsetHeight,a.scrollHeight)+"px";b.width=c+"px"}};
AdfDhtmlPage.prototype._positionBlockingGlassPane=function(a){this.getDomDocument();var b=this.getGlassPane(),c=AdfAgent.AGENT;if(b){var d=b.style;if(a||d.visibility=="visible"){var e=c.getDomWindow(),a=c.getWindowScrollHeight(e),c=c.getWindowScrollWidth(e);d.height=a+"px";d.width=c+"px";(d=this._uiMaskingFrame)&&this.moveMaskingFrame(b,d)}}};
AdfDhtmlPage.prototype._installBlockingHandler=function(a){var b=AdfAgent.AGENT,c=b.getPlatform()==AdfAgent.IE_PLATFORM,d=this.getGlassPane();d.onkeydown=AdfAgent.eatEventCallback;d.onkeyup=AdfAgent.eatEventCallback;d.onkeypress=AdfAgent.eatEventCallback;d.onmousedown=AdfAgent.eatEventCallback;d.onmouseup=AdfAgent.eatEventCallback;d.onmouseover=AdfAgent.eatEventCallback;d.onmouseout=AdfAgent.eatEventCallback;d.onclick=AdfAgent.eatEventCallback;b.disableBrowserContextMenu(d,!0);var e=this._uiMaskingFrame=
this.createMaskingFrame(d);AdfDomUtils.addCSSClassName(e,"AFBlockingMaskingFrame");var f=e.document;f!=null&&b.disableBrowserContextMenu(f,!0);c?AdfFocusUtils.focusElement(d):b.installKeyboardBlocker(a,!0);if(a=this.getActiveDomElement())this._activeIDBeforeBlocking=a.id;a=b.getDomWindow();b.addBubbleEventListener(a,"resize",this._positionBlockingGlassPaneCallback);b.setOpacity(d,AdfDhtmlPage._BLOCKING_OPACITY);b.setOpacity(e,AdfDhtmlPage._BLOCKING_OPACITY);b=d.style;this._positionBlockingGlassPane(!0);
b.visibility="visible"};
AdfDhtmlPage.prototype._removeBlockingHandler=function(a){var b=AdfAgent.AGENT,c=b.getPlatform()==AdfAgent.IE_PLATFORM;b.disableBrowserContextMenu(a,!1);var d=this._uiMaskingFrame;delete this._uiMaskingFrame;var e=d.document;e!=null&&b.disableBrowserContextMenu(e,!1);AdfDomUtils.removeCSSClassName(d,"AFBlockingMaskingFrame");this.removeMaskingFrame(d);d=this.getGlassPane();d.onkeydown=null;d.onkeyup=null;d.onkeypress=null;d=d.style;d.cursor="auto";d.visibility="hidden";d.height="0px";d.width="0px";
d=this._activeIDBeforeBlocking;delete this._activeIDBeforeBlocking;d&&(d=b.getElementById(d))&&AdfFocusUtils.focusElement(d);c||b.installKeyboardBlocker(a,!1);a=b.getDomWindow();b.removeBubbleEventListener(a,"resize",this._positionBlockingGlassPaneCallback)};
AdfDhtmlPage.prototype._blockUI=function(a){var b=AdfAgent.AGENT,c=this.getDomDocument();if(a&&!this._uiBlocked)this._installBlockingHandler(c),b.showBusyCursor(c,a),this._broadcastBusyStateEvent(!0),this._uiBlocked=!0;else if(!a&&this._uiBlocked)b.showBusyCursor(c,a),this._broadcastBusyStateEvent(!1),this._removeBlockingHandler(c),this._uiBlocked=!1};AdfDhtmlPage.prototype._isUIBlocked=function(){return this._uiBlocked};
AdfDhtmlPage.prototype.showPageProcessingIndicator=function(a){if(null==this._pageProcessingIndicator)this._pageProcessingIndicator=AdfDhtmlPageProcessingIndicator.getInstance();this._pageProcessingIndicator.display(a,this.getDomDocument());a?(AdfAgent.AGENT.setOpacity(this._uiBlockingDiv,50),this._uiBlockingDiv.style.backgroundColor=this._pageProcessingIndicator.getBackgroundColor()):(AdfAgent.AGENT.setOpacity(this._uiBlockingDiv,0),this._uiBlockingDiv.style.backgroundColor="")};
AdfDhtmlPage.prototype.isProcessingIndicatorDisplayed=function(){return null!=this._pageProcessingIndicator&&this._pageProcessingIndicator.isDisplayed()};
AdfDhtmlPage.prototype.requestStatusChanged=function(a){if(a.getStatus()==AdfDataTransferRequestEvent.STATUS_COMPLETE){var b=a.getContext();if(b){var c=b.busyCounts,d=this._busyCounts,e;for(e in c){var f=d[e]-c[e];AdfAssert.assert(f>=0);f==0?(delete d[e],(f=this.findComponent(e))&&f.getPeer().setBusy(f,!1)):d[e]=f}}if(a.getResponseStatusCode()==200){var g;a.getResponseHeader&&(g=a.getResponseHeader("Adf-Window-Id"));if(g)AdfPage.PAGE.getDomWindow().name=g;if(a.isRichResponse()){this.__perfTimings(!1,
!1,!0,"PPR response from server received");if((a=this._handleRichResponse(a.getResponseXML(),b))&&b&&b._noResponseExpected)this._partialRequestRedirect=!1;g&&!a&&AdfPage.PAGE._startGlobalActiveData();this.isUserActivityMonitoringOn()&&!a&&(prevActInfo=AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS),prevActInfo.setClientEndTime((new Date).getTime().toString()));g=null;if(b)g=b.__checkPointId;g&&AdfDhtmlPage._POSTBACK_CHECKPOINT.stop(g);this.__perfTimings(!1,!1,!0,"PPR response processing done");
this._haveOutstandingPPRRequest=!1;this._isUIBlocked()&&this._blockUI(!1)}else this._handleInvalidPprResponse(a.getResponseText())}else this._handleInvalidPprResponse(null)}};AdfDhtmlPage._keyEventCallback=function(a){AdfPage.PAGE._handleKey(a)};
AdfDhtmlPage.prototype.registerKeyStroke=function(a,b,c){AdfAssert.assertPrototype(a,AdfKeyStroke);AdfAssert.assertFunction(b);var d=null;if(c&&c.clientId)d=c.clientId;var e=a.toMarshalledString();if(e in this._keyStrokeToCallbackMap){var f=!0;d&&(e=this._keyStrokeToCallbackMap[e],e.multipleAllowed&&(f=!1,e.callbacks[d]=b,e.callbackContexts[d]=c,AdfLogger.LOGGER.finest("RP.registerKSAdditional, keystroke:callback:clientId ",a," : ",b," : ",d)));f&&AdfLogger.LOGGER.warning("Conflicting shortcut mapping: The keystroke ",
a," has already been registered on the RichPage.")}else d?(f={multipleAllowed:!0,callbacks:{},callbackContexts:{}},f.callbacks[d]=b,f.callbackContexts[d]=c,AdfLogger.LOGGER.finest("RP.registerKS, keystroke:callback:clientId ",a," : ",b," : ",d),this._keyStrokeToCallbackMap[e]=f):(AdfLogger.LOGGER.finest("RP.registerKS, keystroke:callback ",a," : ",b),this._keyStrokeToCallbackMap[e]=b,this._keyStrokeToCallbackContextMap[e]=c)};
AdfDhtmlPage.prototype.unregisterKeyStroke=function(a,b){AdfAssert.assertPrototype(a,AdfKeyStroke);var c=a.toMarshalledString();if(b){var d=this._keyStrokeToCallbackMap[c];d.callbacks&&d.callbacks.length<=1?delete this._keyStrokeToCallbackMap[c]:(delete d.callbacks[b],delete d.callbackContexts[b])}else delete this._keyStrokeToCallbackMap[c],delete this._keyStrokeToCallbackContextMap[c]};
AdfDhtmlPage.prototype._handleKey=function(a){var b=AdfAgent.AGENT,c=b.getKeyCode(a),d=a.shiftKey*AdfKeyStroke.SHIFT_MASK|a.ctrlKey*AdfKeyStroke.CTRL_MASK|a.altKey*AdfKeyStroke.ALT_MASK;a.metaKey&&(d|=AdfKeyStroke.META_MASK);var c=AdfKeyStroke.getKeyStroke(c,d),e=c.toMarshalledString(),d=this._keyStrokeToCallbackMap[e];if(d!=null){var f=e in AdfDhtmlPage._KEYSTROKE_OVERRIDES;if(f){var g=b.getEventTarget(a),h=b.getNodeName(g).toLowerCase();h!="textarea"&&(h=="input"?(f=g.type.toLowerCase(),f=f=="text"||
f=="password"):f=!1)}if(!f){e=this._keyStrokeToCallbackContextMap[e];if(d.multipleAllowed){var f=d.callbacks,g=d.callbackContexts,d=null,h=!1,k=0;for(clientId in f)k++;if(k>1){var l=this.getDomDocument(),m=l.activeElement;m||(m=this.getActiveDomElement());if(!m)AdfLogger.LOGGER.finest("No known activeElement available for _handleKey."),m=l.documentElement;l=Number.POSITIVE_INFINITY;for(clientId in f){var n=this.findComponent(clientId);if(n)if(n=AdfRichUIPeer.getDomElementForComponent(n))if(n=AdfDomUtils.getNodeDistance(n,
m),n==0){h=!0;d=f[clientId];e=g[clientId];break}else n<l&&(l=n,h=!0,d=f[clientId],e=g[clientId]);else AdfLogger.LOGGER.warning("Unable to locate domElement for clientId = "+clientId+" in _handleKey.");else AdfLogger.LOGGER.warning("Unable to locate component for clientId = "+clientId+" in _handleKey.")}h||AdfLogger.LOGGER.warning("Unable to locate a match for clientId = "+clientId+" in _handleKey.")}if(!h&&k==1)for(clientId in f)d=f[clientId],e=g[clientId]}d.call(e,c)!==!1&&b.eatEvent(a)}}};
AdfDhtmlPage.prototype._doFullPostback=function(a,b,c){this._resetUncommittedIds();if(a.target!=this._ACTIVE_FRAME_NAME&&a.target!="_new")this._inAppNavigationFlag=!0,this._warnUncommitted=!1,c&&this._blockUI(!0),this._waitingForDocumentUnload||this.scheduleTimer(this,this._resetPerformingFullSubmit,null,3E3);for(var d in b)this._setParameter(a,d,b[d]);AdfAgent.AGENT.autoCompleteForm(a);try{a.submit()}catch(e){AdfDomUtils.getMultiPartForm(a)!=null&&AdfInputFileUtils.addUploadErrorMessage(),AdfLogger.LOGGER.logErrorAsInfo(e,
"doFullPostback form.submit()")}a.action=a.action;for(d in b)c=this._getParameterElement(a,d),AdfAssert.assertDomElement(c),c.parentNode.removeChild(c)};
AdfDhtmlPage.prototype._doRichPostback=function(a,b,c,d,e,f){AdfAssert.assertDomElement(a,"FORM");AdfAssert.assertObject(b);d&&this._blockUI(!0);var d=AdfDhtmlPage._POSTBACK_CHECKPOINT.start(),g=AdfCollections.copyInto({},this._busyCounts);e||(e={});e.busyCounts=g;e.__checkPointId=d;e.retryParams=b;e.formId=a.id;var d=this.getDataTransferService(),g=null,h=a;a.encoding.toLowerCase()=="multipart/form-data"&&(g=AdfDomUtils.getMultiPartForm(a))&&(h=g);h=this._getPPRURL(h);g!=null?d.sendMultiPartRequest(e,
h,null,g,b,[this],null):(b=this._getPostbackContent(a,b,f),AdfAgent.AGENT.autoCompleteForm(a),d.sendRequest(e,h,c,b,[this]))};AdfDhtmlPage.prototype._getDefaultPostbackURL=function(){var a=this.getDomDocument(),b=null,c=a.forms[0];c&&(b=this._getPPRURL(c));if(!b)b=a.location.href;return b};AdfDhtmlPage.prototype._appendResponseId=function(a){var b=a,c=this.getResponseIdentifier();c!=null&&(b+=a.indexOf("?")<0?"?":"&",b+=AdfDhtmlPage._ECID,b+="=",b+=c);return b};
AdfDhtmlPage.prototype._getPPRURL=function(a){var b=AdfAgent.AGENT.getAttribute(a,AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO),a=b!=null?b:a.action;if(!a||a=="")a=this.getDomDocument(),a=a[AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO]?a[AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO]:a.location.href;!this.isPortlet()&&this.shouldTracePPRRequestId()&&(a=this._appendResponseId(a));return a};
AdfDhtmlPage.prototype._getPostbackContent=function(a,b,c){AdfAssert.assertDomElementOrNull(a,"FORM");AdfAssert.assertObjectOrNull(b);a=this._collectPostbackParams(a,c);AdfCollections.copyInto(a,b);return this._toUrlEncodedForm(a)};
AdfDhtmlPage.prototype._collectPostbackParams=function(a,b){var c={},d=this._getEditableEventTargetComponents(b);if(a!=null){var e=a.elements;if(e)for(var f=0;f<e.length;f++){var g=e[f];if(g.name&&!g.disabled&&this._isDirty(g,d))if(g.options){c[g.name]=[];for(var h=0;h<g.options.length;h++){var k=g.options[h];if(k.selected){var l=k.attributes.value;c[g.name].push(l!=null&&l.value!=null?l.value:k.text)}}}else h=g.name,k=g.value,this._isUncheckedInput(g)&&(AdfAssert.assert(this._isTrackingDirtyData()),
k=""),c[h]=this._mergeFormParamValues(c[h],k)}}return c};AdfDhtmlPage.prototype._getEditableEventTargetComponents=function(a){AdfAssert.assertArrayOrNull(a);var b=[];if(a!=null)for(var c=0;c<a.length;c++){var d=a[c];this._pushEditableComponent(b,d);var e=this._stripSubId(d);e!=d&&this._pushEditableComponent(b,e)}return b};AdfDhtmlPage.prototype._pushEditableComponent=function(a,b){var c=this.findComponent(b);c instanceof AdfUIEditableValue&&a.push(c)};
AdfDhtmlPage.prototype._mergeFormParamValues=function(a,b){if(a==null||a==""&&b!=null)return b;if(b==null||b=="")return a;var c=null;AdfCollections.isArray(a)?c=a:(c=[],c.push(a));c.push(b);return c};AdfDhtmlPage.prototype._toUrlEncodedForm=function(a){var b="",c;for(c in a){var d=a[c];if(AdfCollections.isArray(d))for(var e=0;e<d.length;e++)b=AdfDhtmlPage._appendUrlFormEncoded(b,c,d[e]);else d!=void 0&&(b=AdfDhtmlPage._appendUrlFormEncoded(b,c,d))}return b};
AdfDhtmlPage.prototype._isRichResponseDirty=function(){var a=this.getDomDocument().getElementById(AdfDhtmlPage._RICH_UPDATE_FLAG);if(a&&a.value=="dirty")return!0;return!1};AdfDhtmlPage.prototype._setRichResponseDirty=function(a){var b=this.getDomDocument().getElementById(AdfDhtmlPage._RICH_UPDATE_FLAG);if(b)b.value=a?"dirty":""};
AdfDhtmlPage.prototype._prepareForIncompleteImages=function(){for(var a=this.getDocument().getElementsByTagName("img"),b=a.length,c=0,d=0;d<b;d++){var e=a[d];if(!e.complete){var f=AdfAgent.AGENT.getComputedStyle(e),g=f.width,f=f.height;if(g=="0px"||g=="auto"||f=="0px"||f=="auto")AdfLogger.LOGGER.finer("An incompletly-loaded image was detected with src = ",e.src,e),c++,AdfDomUtils.addCSSClassName(e,AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME)}AdfLogger.LOGGER.getLevel(AdfLogger.FINEST)&&AdfLogger.LOGGER.finest("Image load details:",
e,e.src,", w=",e.width,", h=",e.height,", sW=",e.style.width,", sH=",e.style.height,", cmpW=",g,", cmpH=",f,e.complete?", COMPLETE":", INCOMPLETE",", className=",e.className)}if(c>0)AdfLogger.LOGGER.fine("Number of incomplete images: ",c),this._incompleteImageTimer!=null&&this.cancelTimer(this._incompleteImageTimer),this._incompleteImageTimerAttempts=1,this._incompleteImageTimer=this.scheduleTimer(this,this._attemptToRelayoutForNewlyCompleteImages,null,500)};
AdfDhtmlPage.prototype._attemptToRelayoutForNewlyCompleteImages=function(){this._incompleteImageTimer=null;var a=[];if(document.getElementsByClassName)a=document.getElementsByClassName(AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME);else for(var b=document.getElementsByTagName("img"),c=b.length,d=0;d<c;d++){var e=b[d];AdfDomUtils.containsCSSClassName(e,AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME)&&a.push(e)}for(c=b=0;c<a.length;c++)if(d=a[c],d.complete){AdfDomUtils.removeCSSClassName(d,AdfDhtmlPage._INCOMPLETE_IMAGE_CLASS_NAME);
e=AdfRichUIPeer.getFirstAncestorComponent(d);if(e!=null){this.__queueDescendantResizeNotifySource(e);var f=e.getPeer();f&&f.__preferredSizeChangeNotify&&f.__preferredSizeChangeNotify(e)}AdfLogger.LOGGER.finer("A previously incompletly-loaded image is now complete with src = ",d.src,", nearestClientComponent = ",e,", imgElement = ",d)}else b++;AdfLogger.LOGGER.fine("Number of remaining incomplete images (at attempt #",this._incompleteImageTimerAttempts,"): ",b);b>0&&this._incompleteImageTimerAttempts<
10?(this._incompleteImageTimerAttempts++,this._incompleteImageTimer=this.scheduleTimer(this,this._attemptToRelayoutForNewlyCompleteImages,null,500)):(b>0&&AdfLogger.LOGGER.fine("Gave up trying to wait for images to load."),this.__doDescendantResizeNotify())};
AdfDhtmlPage.prototype._handleRichResponse=function(a,b){var c=this._applyRichResponse(a.documentElement,!0,!1,!1,b);this._resetPendingStreamingIDs();c||(this.__doDescendantResizeNotify(),this.flushToAssistiveTechnology(),b&&b._responseAnnounced&&this.announceToAssistiveTechnology(this.getLookAndFeel().getTranslatedString("AFResponseCompleteStatus")));return c};AdfDhtmlPage.prototype._getFocusPath=function(){var a=this._activeDomNode,b=[];if(a!=null)for(;a;){var c=a.id;c&&(b[c]=b.push(a)-1);a=a.parentNode}return b};
AdfDhtmlPage.prototype._restoreFocusPath=function(a,b){AdfAssert.assertArray(a);AdfAssert.assertNumberOrNull(b);var c=a.length;b>=c&&(b=c-1);for(var d=AdfAgent.AGENT,e=0;e<=b;e++)if(c=d.getElementById(a[e].id),c!=null){d={};e=AdfDomUtils.getFirstElementMatch(c,null,AdfFocusUtils.isFocusable,d);e||(e=AdfDomUtils.getNextElementMatch(c,null,!0,AdfFocusUtils.isFocusable,d))||(e=AdfDomUtils.getPreviousElementMatch(c,null,AdfFocusUtils.isFocusable,d));e&&AdfFocusUtils.focusElement(e);break}};
AdfDhtmlPage.prototype._applyRichResponse=function(a,b,c,d,e){if(this._isTrackingDirtyData())this._trackErrors=!0;var f=this._richPostbackHasErrors=!1;try{var g,h=this.isScreenReaderMode();h&&(g={},AdfCollections.copyInto(g,this._activeComponents));var k=AdfAgent.AGENT,l=k.getNodeName(a),m;if(l=="content"){l=null;b&&this._handleRichResponseAction(a);var b=[],n=[],o=this._getFocusPath(),q=a.childNodes,p=q.length,s;if(e!=null)s=e._clientEventsSet;if(s&&s[AdfPollEvent.POLL_EVENT_TYPE])this._componentsUpdatedByPollEvent=
[];for(a=0;a<p;a++){var t=q[a],u=k.getNodeName(t);if(u=="fragment"){var v=this._handleRichResponseFragment(t,b,n,c,o,d);if(v.restoreFocusIndex!=null)this._restorePprFocusIndex=v.restoreFocusIndex;if(v.pprNavParams!=null)l=v.pprNavParams;v.pendingEditableSubtree&&(m||(m=[]),m.push(v.pendingEditableSubtree))}else u=="script"?this._handleRichResponseScript(t):u=="script-library"&&this._handleRichResponseLibrary(t)}k.getPlatform()==AdfAgent.IE_PLATFORM?this.scheduleTimer(this,this._prepareForIncompleteImages,
null,10):this._prepareForIncompleteImages();b.length>0&&(this._doResizeNotify(b),this._checkResizeNotifyDelayed());if(n.length>0){var w=this._clientListeners,y=w?w[AdfDomReplacedEvent.EVENT_TYPE]:null;y!=null&&AdfEventUtils.deliverEventToListeners(y,new AdfDomReplacedEvent(this,n))}if(l!=null){var A=AdfNavigationHistoryAgent.getInstance();A&&A.setCurrentPage(l.viewId,l.queryParams,e?e._loadId:null);this._navResetPage();this._restorePreviousUserActivityData()}this._restorePprFocusIndex!=void 0&&(this._restoreFocusPath(o,
this._restorePprFocusIndex),delete this._restorePprFocusIndex)}else if(l=="redirect"){var n=a.childNodes[0],z=n.textContent;if(!z)z=n.text;AdfAssert.assert(z,"Could not get redirect URL");f=!0;this._notifyOfUnload=this._warnUncommitted=!1;if(this.isUserActivityMonitoringOn()){var B=a.childNodes[1],C=B.textContent;if(!C)C=B.text;AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS).setContextId(C);AdfUserActivityInfo.saveToSessionStorage()}this.__perfTimings(!0,!0,!0,"redirect to ",z);var D=
this.findComponent(this._documentClientId);this._partialRequestRedirect=!0;(new AdfRedirectEvent(D,z,e?e._noNavigation:!1)).queue(!1)}else if(l=="script")this._handleRichResponseScript(a);else if(l=="error"){this._richPostbackHasErrors=!1;var E=k.getTextContent(a);E==null&&(E="Unknown error during PPR");alert(E);if("true"==a.getAttribute("redirect"))this._notifyOfUnload=this._warnUncommitted=!1,document.location.href=this._getDefaultPostbackURL()}else if(l!="noop")if(l=="retry"){var F=e.formId,G;
F&&(G=k.getElementById(F));G||(G=this.getDomDocument().forms[0]);this._doFullPostback(G,e.retryParams,!1,!0)}else l=="reload"?this.getDomWindow().location.reload(!0):AdfAssert.assert(!1,"invalid root node '"+l+"' in rich response");h&&this._announceActiveComponentsChanged(g);this._reattachInlineEditing(m)}finally{this._trackErrors=!1}return f};
AdfDhtmlPage.prototype._reattachInlineEditing=function(a){if(a)for(;0<a.length;){this._filterEditableSubtree(a[0],this._editableCallback,this._editableCallbackContext);break}};AdfDhtmlPage.prototype.addEventListener=function(a,b,c){this._clientListeners=AdfEventUtils.addEventListener(this._clientListeners,a,b,c)};AdfDhtmlPage.prototype.removeEventListener=function(a,b,c){this._clientListeners=AdfEventUtils.removeEventListener(this._clientListeners,a,b,c)};
AdfDhtmlPage.prototype.setDocumentClientId=function(a){this._documentClientId=a};AdfDhtmlPage.prototype.__getDocumentClientId=function(){return this._documentClientId};AdfDhtmlPage.prototype.doRedirect=function(a,b){AdfLogger.LOGGER.info("Redirecting to : ",a);var c=this.getDomWindow();c.adfpp_handleLocationChange!=void 0?c.adfpp_handleLocationChange(a):b?c.location.replace(a):c.location.href=a};
AdfDhtmlPage.prototype._announceActiveComponentsChanged=function(a){var b=!1,c;for(c in this._activeComponents)if(a[c])delete a[c];else{b=!0;break}AdfCollections.isEmpty(a)||(b=!0);b&&this._announceActiveComponents()};
AdfDhtmlPage.prototype.streamingResponseComplete=function(){this._resetPendingStreamingIDs();this.getDataTransferService().notifyStreamingRequestComplete();if(this.isUserActivityMonitoringOn()){var a=(new Date).getTime().toString();AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS).setClientEndTime(a);AdfUserActivityInfo.getInstance(AdfUserActivityInfo.SECONDARY).setClientEndTime(a);AdfUserActivityInfo.removeFromSessionStorageByType(AdfUserActivityInfo.PRIMARY);AdfUserActivityInfo.removeFromSessionStorageByType(AdfUserActivityInfo.SECONDARY)}this._addDelayedMessages(!0);
this._streamingStatus==AdfDhtmlPage._STREAMING_REQUEST_SENT?this._handleInvalidPprResponse(null):this._streamingStatus==AdfDhtmlPage._STREAMING_COMPLETE?this.scheduleTimer(this,this._startGlobalActiveData,null,500):(a=this.getLookAndFeel(),alert(a.getTranslatedString("af_document.UNKNOWN_STREAMING_ERROR")))};
AdfDhtmlPage.prototype.streamingResponseWritten=function(){this._streamingStatus=AdfDhtmlPage._STREAMING_COMPLETE;this.__perfTimings(!1,!1,!0,"streaming response processing done");this.isUserActivityMonitoringOn()&&AdfUserActivityInfo.setResponseReceivedTime(AdfUserActivityInfo.SECONDARY)};
AdfDhtmlPage.prototype.streamingResponseStarted=function(){this._streamingStatus=AdfDhtmlPage._STREAMING_STARTED;if(this._perfProfileEnabled||this._perfProfileTimingEnabled)AdfLogger.PROFILER_LOGGER.info("streaming request sent;",this.getDomWindow()._afrTimingStreamingRequestStart),this.__perfTimings(!1,!1,!0,"streaming response received. The ECID is: ",AdfDhtmlPage._ECID)};AdfDhtmlPage.prototype._resetPendingStreamingIDs=function(){this._pendingStreamingIDs={}};
AdfDhtmlPage.prototype.handleStreamingResponse=function(a,b,c){this._perfProfileEnabled&&this.__perfTimings(!1,!1,!1,"streaming response segment received");a=a.getElementById(b);AdfAssert.assert(a);this._applyRichResponse(a.firstChild,!1,c,!0,null);this._perfProfileEnabled&&this.__perfTimings(!1,!1,!1,"streaming response segment processed")};
AdfDhtmlPage.prototype.updateStreamingViewState=function(a,b){var c=a.getElementById(b);AdfAssert.assert(c);c=c.getElementsByTagName("input")[0];AdfAssert.assert(c);var d=this.getDomDocument().forms[0];AdfAssert.assertDomElement(d);d=d[AdfDhtmlPage._STATE_PARAM_NAME];AdfAssert.assertDomElement(d);d.parentNode.innerHTML="<input type='hidden' name='"+AdfDhtmlPage._STATE_PARAM_NAME+"' value='"+c.getAttribute("value")+"' />"};
AdfDhtmlPage.prototype._handleRichResponseAction=function(a){var b=a.getAttribute("action");if(b){var c=this.getDomDocument();c.forms[0].action=b}(a=AdfAgent.AGENT.getAttribute(a,AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO))&&AdfAgent.AGENT.setAttribute(c.forms[0],AdfDhtmlPage._CUSTOM_PPR_URL_EXPANDO,a)};
AdfDhtmlPage.prototype._handleRichResponseFragment=function(a,b,c,d,e,f){a=this._getFirstElementFromFragment(a,d);if(a==null)return AdfLogger.LOGGER.warning('Unable to locate content in partial page response fragment.  If you are adding a partial target programmatically, try setting clientComponent="true" on the partial target component.'),null;var d={restoreFocusIndex:null,pprNavParams:null,pendingEditableSubtree:null},g=a.getAttribute("id");AdfAssert.assert(g!=null,"null id in response fragment");
this._componentsUpdatedByPollEvent!=null&&this._componentsUpdatedByPollEvent.push(g);this.getDomDocument();var h=AdfAgent.AGENT,k=h.getElementById(g);if(k==null)AdfLogger.LOGGER.severe("unable to locate target node: "+g);else{if(a.getAttribute(AdfDhtmlPage._DOCUMENT_STYLE_HOLDER)=="true"){var l=this.getDomDocument().body,m=a.getAttribute("theme");l.setAttribute("theme",m?m:"");a.removeAttribute("theme");m=a.className;if(m!=l.className)l.className=m?m:"";a.className="";m=a.style.cssText;l.style.cssText=
m?m:"";a.style.cssText=""}var l=null,m=this.getDomDocument().forms[0].action,n=m.indexOf("?");n>=0&&(l=m.substring(n));n=e[g];g=(e=AdfRichUIPeer.getFirstAncestorComponent(k.parentNode))?e.getPeer():null;if(m=a.id==AdfDhtmlPage._NAVIGATION_WRAPPER_ID)this._resizeNotifyMap={},this._resizeNotifyTree={},this._descendantResizeNotifyList=[],this._serverQueue=new AdfServerEventQueue,this._partialTargets=null,this._autoPPRComponents={},this._activeComponents={};g!=null?(g.replaceDomElement(e,a,k),c.push(e.getClientId())):
this.__replaceDomElement(a,k);if(n!=null&&!m)d.restoreFocusIndex=n;c=null;e?(c=g.domReplaceNotify(e,a),this.__queueDescendantResizeNotifySource(e)):c=a;c&&b.push(c);m?(b=h.getAttribute(a,AdfDhtmlPage._NAVIGATION_VIEW_ROOT),f=h.getAttribute(a,AdfDhtmlPage._NAVIGATION_QUERY_PARAMS),d.pprNavParams={viewId:b,queryParams:f?f:l}):f||this._setRichResponseDirty(!0);if(b=this._editableSubtreeId){b=this._getEditableSubtrees(b,!0);for(f=0;f<b.length;f++)if(AdfDhtmlPopupWindow.isAncestorOrSelf(b[f],a)){d.pendingEditableSubtree=
a;break}}}return d};AdfDhtmlPage.prototype._restorePreviousUserActivityData=function(){if(this.isUserActivityMonitoringOn()){var a=null;if((a=AdfUserActivityInfo.getInstance(AdfUserActivityInfo.PREVIOUS))&&a.getContextId()!=null)AdfUserActivityInfo.restoreFromSessionStorage(),a.setClientEndTime((new Date).getTime().toString())}};
AdfDhtmlPage.prototype.__replaceDomElement=function(a,b){var c=AdfAgent.AGENT;this.removeComponentsInSubtree(b);var d=b.id==AdfDhtmlPage._NAVIGATION_WRAPPER_ID;d||c.elementsRemoved(b);b.parentNode.replaceChild(a,b);d&&c.allElementsRemoved();if(c.getPlatform()==AdfAgent.IE_PLATFORM)d=c.getElementById(AdfDhtmlPage._PARSER_DIV_ID),d.appendChild(b),d.innerHTML="";c.elementsAdded(a)};
AdfDhtmlPage.prototype._getFirstElementFromFragment=function(a,b){var c=a.childNodes,d=c.length;AdfAssert.assert(d>=1,"invalid fragment child count");if(d>1){for(var e=Array(d),f=0;f<d;f++){var g=c[f];AdfAssert.assert(g.nodeType==4,"invalid fragment content");AdfAssert.assert(g.data,"null fragment content");e.push(g.data)}c=e.join("")}else g=c[0],AdfAssert.assert(g.nodeType==4,"invalid fragment content"),AdfAssert.assert(g.data,"null fragment content"),c=g.data;b&&(c=c.replace(/__AFR_XML_ELEM/g,"xml"));
d=this.getDomDocument();e=null;f=AdfAgent.AGENT;e=f.getElementById(AdfDhtmlPage._PARSER_DIV_ID);if(!e)e=d.createElement("div"),e.style.display="none",e.id=AdfDhtmlPage._PARSER_DIV_ID,d.body.appendChild(e),f.elementsAdded(e);f.getPlatform()==AdfAgent.IE_PLATFORM?(e.innerHTML="<div>ie</div>"+c,e.removeChild(e.firstChild)):e.innerHTML=c;(c=AdfDhtmlPage._getFirstElementWithId(e))&&c.parentNode.removeChild(c);return c};
AdfDhtmlPage._getFirstElementWithId=function(a){for(var a=a.childNodes,b=a.length,c=0;c<b;c++){var d=a[c];if(d.nodeType==1){if(d.id)return d;return AdfDhtmlPage._getFirstElementWithId(d)}}return null};
AdfDhtmlPage.prototype._loadScript=function(a){var b=AdfPage.PAGE._loadedLibraries;AdfAssert.assert(b!=null,"Unexpected loadedLibraries: "+b);if(!b[a]){b[a]=!0;b=new AdfXMLRequest;b.setSynchronous(!0);try{b.send(a,null)}catch(c){this._loadScriptFailed(a,c)}if(b.getStatus()==200){var d=AdfAgent.AGENT;try{d.execScript(this.getDomWindow(),b.getResponseText())}catch(e){throw this._logAsGlobalError(e),AdfLogger.LOGGER.severe("Error: "+e.message+"\nWhile executing script: "+a),e;}}b.cleanup();delete b}};
AdfDhtmlPage.prototype._loadScriptFailed=function(a,b){if(a.indexOf("http:")==0||a.indexOf("https:")==0){var c=this.getFailedConnectionText();c!=null&&alert(c+" (source="+a+")");AdfLogger.LOGGER.warning("Failed to load script from "+a+".  This might be due to cross-origin rewriting of script resource uris.")}throw b;};AdfDhtmlPage.prototype._createStyle=function(a){return AdfAgent.AGENT.createStyle(a)};
AdfDhtmlPage.prototype._loadCss=function(a){var b=this._loadedCss;AdfAssert.assert(b!=null,"Unexpected loadedCss ",b);var c=AdfDomUtils.getFirstDescendentElement(AdfAgent.AGENT.getDomDocument().documentElement,"HEAD");if(b[a])for(var b=c.getElementsByTagName("LINK"),d=b.length-1;d>=0;--d){var e=b[d];if(e.getAttribute("href")==a)return e}else b[a]=!0;b=document.createElement("link");b.setAttribute("type","text/css");b.setAttribute("rel","stylesheet");b.setAttribute("href",a);c.appendChild(b);return b};
AdfDhtmlPage.prototype._forcePreloadOfAllImages=function(){for(var a=document.getElementsByTagName("IMG"),b=0;b<a.length;b++)(new Image(1,1)).src=a[b].getAttribute("src")};AdfDhtmlPage.prototype._handleRichResponseScript=function(a){var b=a.getAttribute("src");if(b)this._loadScript(b);else{b=AdfAgent.AGENT;a=b.getTextContent(a);try{b.execScript(this.getDomWindow(),a)}catch(c){AdfLogger.LOGGER.severe("Error: "+c+"\nWhile handling rich response script: "+a),this._logAsGlobalError(c)}}};
AdfDhtmlPage.prototype._handleRichResponseLibrary=function(a){this._loadScript(AdfAgent.AGENT.getTextContent(a))};AdfDhtmlPage.prototype._doResizeNotify=function(a){for(var b=0;b<a.length;b++)this.doResizeNotifyDom(a[b],!0)};AdfDhtmlPage.prototype._notifyWindowOpened=function(a){this._notifyWindowEvent(!0,this._expectedWindowId,null,a)};AdfDhtmlPage.prototype._notifyWindowUnregistered=function(a,b){this._notifyWindowEvent(!1,a,b,!1)};
AdfDhtmlPage.prototype.needsWindowUnload=function(){this._notifyOfUnload=!0};
AdfDhtmlPage.prototype._notifyWindowUnloaded=function(){if(this._notifyOfUnload){this._notifyOfUnload=!1;var a=this.getDomWindow().name;if(a){var b=null,c=null,d=this.getDomDocument().forms[0];if(d){var c=this._getPPRURL(d),b=null,e=this._getAndClearDeltas(!1);e&&(b={"oracle.adf.view.rich.DELTAS":e});b=this._getPostbackContent(d,b)}else c=this._getDefaultPostbackURL();d=new AdfXMLRequest;d.setSynchronous(!0);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.setRequestHeader("Adf-Window-Unloaded",
!0);d.setRequestHeader("Adf-Window-Id",a);this._notifyOfUnloadUrl&&d.setRequestHeader("Adf-Window-Url",this._notifyOfUnloadUrl);d.send(c,b);d.cleanup();delete d}}};
AdfDhtmlPage.prototype._notifyWindowEvent=function(a,b,c,d){AdfAssert.assertBoolean(a);AdfAssert.assertString(b);AdfAssert.assertStringOrNull(c);var e=this._windowEventHeaderMap;if(a){if(b==null||b=="")b="null";e={"Adf-Window-Opened":"true","Adf-Window-Id":b};d&&(e["Adf-IsDialog"]="true")}else e==null?e={"Adf-Window-Unregistered":"true","Adf-Window-Unregistered-Id":b,"Adf-Page-Unregistered-Id":c}:(a=e["Adf-Page-Unregistered-Id"]+":"+c,e["Adf-Window-Unregistered-Id"]=e["Adf-Window-Unregistered-Id"]+
":"+b,e["Adf-Page-Unregistered-Id"]=a);this._windowEventHeaderMap=e;this.__queueEventTimerIfNeeded()};
AdfDhtmlPage.prototype.__notifyWindowCloseImmediately=function(a,b){if(this._inAppNavigationFlag==!1){var c=new AdfXMLRequest;c.setSynchronous(!1);a?(c.setRequestHeader("Adf-Window-Closed","true"),c.setRequestHeader("Adf-Dialog-Return-Id",b)):(c.setRequestHeader("Adf-Window-Unregistered","true"),c.setRequestHeader("Adf-Window-Unregistered-Id",this._getWindowId()),c.setRequestHeader("Adf-Page-Unregistered-Id",this._getPageId()));var d=this._getDefaultPostbackURL();c.send(d,"windowClosed")}};
AdfDhtmlPage._doResizeNotify=function(a,b,c){if(a){var d=a.component;if(d){var e=AdfRichUIPeer.getDomElementForComponent(d),f=e.clientWidth,e=e.clientHeight,g=a.clientWidth,h=a.clientHeight;if(f==0||e==0||f==g&&e==h&&!b){if(a.clientWidth=f,a.clientHeight=e,!c)return}else a.clientWidth=f,a.clientHeight=e,d.resizeNotify(g,h,f,e)}if(a=a.children){b=a.length;for(d=0;d<b;d++)AdfDhtmlPage._doResizeNotify(a[d],!1,c)}}};
AdfDhtmlPage.prototype._checkResizeNotifyDelayed=function(){var a=this._checkResizeNotifyTimer;a?this.rescheduleTimer(a,500):this._checkResizeNotifyTimer=this.scheduleTimer(this,this._checkResizeNotifyCallback,null,500)};AdfDhtmlPage.prototype._checkResizeNotifyCallback=function(){this._checkResizeNotifyTimer=null;this.__perfTimings(!1,!0,!1,"_checkResizeNotifyCallback","(start)");AdfDhtmlPage._doResizeNotify(this._resizeNotifyTree,!1,!0);this.__perfTimings(!1,!1,!1,"_checkResizeNotifyCallback","(end)")};
AdfDhtmlPage._appendUrlFormEncoded=function(a,b,c){a.length>0&&(a+="&");return a+b+"="+encodeURIComponent(c).replace(/\'/g,"%27").replace(/%20/g,"+")};
AdfDhtmlPage.prototype._setSelectedEditingComponents=function(a){AdfAssert.assertArrayOrNull(a);var b=this.getSelectedEditingComponents();if(a!=b){var c;if(b!=null)for(var d=b.length,c=0;c<d;c++)AdfDomUtils.removeCSSClassName(AdfRichUIPeer.getDomContentElementForComponent(b[c]),"p_AFInlineSelected");var d=a?a.length:0,e;if(d){e=[];for(c=0;c<d;c++)e.push(a[c].getClientId())}else e=null;this._selectedEditingComponents=e;if(d)for(c=0;c<d;c++)AdfDomUtils.addCSSClassName(AdfRichUIPeer.getDomContentElementForComponent(a[c]),
"p_AFInlineSelected");(c=this.getEditedComponent())&&AdfCollections.indexOf(a,c)==-1&&this.setEditedComponent(null);AdfEventUtils.firePropertyChangeEvent(this._propertyChangeListeners,this,AdfPage.SELECTED_EDITING_COMPONENTS_PROPERTY,b,a)}};AdfDhtmlPage.prototype._isAncestorComponentOrSelf=function(a,b){return a===b?!0:this._isAncestorComponent(a,b)};
AdfDhtmlPage.prototype._isAncestorComponent=function(a,b){AdfAssert.assertPrototype(a,AdfUIComponent);AdfAssert.assertPrototype(b,AdfUIComponent);for(var c=AdfRichUIPeer.getDomContentElementForComponent(a),d=AdfRichUIPeer.getDomNodeForComponent(b).parentNode;d;){if(d===c)return!0;d=d.parentNode}return!1};
AdfDhtmlPage.prototype._intersectSelectionWithEditableSubtree=function(a,b){AdfAssert.assertPrototypeOrNull(a,AdfUIComponent);AdfAssert.assertArrayOrNull(b);if(a==null)return null;return this._intersectSelectionWithEditableSubtreeDom(a.getPeer().getDomNode(),b)};
AdfDhtmlPage.prototype._intersectSelectionWithEditableSubtreeDom=function(a,b){if(a==null)return null;AdfAssert.assertDomNode(a);AdfAssert.assertArrayOrNull(b);var c=b!=null?b.length:0;if(c==0)return null;for(var d=[],e=0;e<c;e++){var f=b[e],g=f.getPeer();g.bind(f);g=g.getDomNode();AdfDhtmlPopupWindow.isAncestorOrSelf(a,g)&&d.push(f)}d.length==c&&(d=b);return d};
AdfDhtmlPage.prototype._isComponentInlineSelectable=function(a){return AdfDomUtils.containsCSSClassName(a,AdfDhtmlPage._EDITABLE_STYLE)||AdfDomUtils.containsCSSClassName(a,AdfDhtmlPage._SELECTABLE_STYLE)};
AdfDhtmlPage.prototype._inlineSelectionListener=function(a){var b=AdfAgent.AGENT,c=a.type,d=!0,e=c==="mousemove";if(e||c=="mouseover"||c=="mousedown"||c=="mouseout"){if(e||c=="mousedown")if(d=!b.isChromeEvent(a),!d)return;if(!e){for(var e=b.getEventTarget(a),e=AdfRichUIPeer.getFirstAncestorComponent(e),f=this.getEditableSubtree(),g;e!=null;)if(g=AdfRichUIPeer.getDomContentElementForComponent(e),this._isComponentInlineSelectable(g))break;else e=e!=f?e.getParent():null;if(e&&(c=="mouseover"||c=="mouseout")){var f=
b.getPlatform()==AdfAgent.IE_PLATFORM,h=AdfPage.PAGE.getLocaleContext().isRightToLeft();if(!f||!h)if(f=AdfRichUIPeer.HOVER_TARGET_STYLECLASS,c=="mouseover"){if(c=this._hoverComponentId,e=e.getClientId(),c!==e)c&&this._removeStyleFromComponent(c,f),this._hoverComponentId=e,AdfDomUtils.addCSSClassName(g,f)}else{if(c=="mouseout"&&(c=this._hoverComponentId))this._removeStyleFromComponent(c,f),this._hoverComponentId=null}else AdfLogger.LOGGER.info("Due to a bug in IE, skinning's hover-target pseudo class not supported on IE in right to left mode.")}else if(c==
"mousedown"){c=this._editableCallback;f=this._editableCallbackContext;if(!this._getFilterResult(e,c,f)){g=g.previousSibling;for(e=null;g;){h=g.nodeType;if(h==8){if((h=this._getComponentFromComment(g))&&this._getFilterResult(h,c,f)){e=h;break}}else if(h==1)break;g=g.previousSibling}}e&&this.setEditedComponent(e,a)}}}e=this._inlineEditor;e!=null&&e.handleEvent(a);d?b.eatEvent(a):b.stopPropagation(a)};
AdfDhtmlPage.prototype._removeStyleFromComponent=function(a,b){var c=this.findComponent(a);return c?(c=AdfRichUIPeer.getDomContentElementForComponent(c),AdfDomUtils.removeCSSClassName(c,b)):!1};AdfDhtmlPage._inlineSelectionStub=function(a){AdfPage.PAGE._inlineSelectionListener(a)};AdfDhtmlPage.prototype.setDefaultMessageHandlerComponentId=function(a,b){if(a!=null)this._defaultMessageKey=a;this._messageSlaveKey=b};AdfDhtmlPage.prototype.getDefaultMessageHandlerComponentId=function(){return this._defaultMessageKey};
AdfDhtmlPage.prototype.getMessageHandlerSlaveComponentId=function(){return this._messageSlaveKey};
AdfDhtmlPage.prototype.addMessage=function(a,b,c){a=this._resolveMessageComponentId(a,!0);if(this.findComponent(a)==null){for(var d in this._pendingStreamingIDs)if(a.indexOf(d)==0){this._delayMessageForComponent(a,b,c);AdfLogger.LOGGER.info("A message for client id '"+a+"' is being added as delayed messages");return}AdfAssert.DEBUG&&AdfAssert.assert(!1,"A message for client id '"+a+"' is being added. No client component with that id can be found. ")}d=this._messages[a];if(!d)d=[],d.sorted=[],d.maxType=
0,d.compId=a,d.title=c,this._messages[a]=d;c=AdfFacesMessage.getTypeFromMessage(b);if(this._trackErrors&&c>=AdfFacesMessage.TYPE_ERROR)this._richPostbackHasErrors=!0;d.sorted[c]||(d.sorted[c]=[]);d.push(b);d.sorted[c].push(b);if(c>d.maxType)d.maxType=c;b=this._global_max_msg_type;if(!b||c>b)c==null?delete this._global_max_msg_type:this._global_max_msg_type=c;this._notifyComponent(a,d)};
AdfDhtmlPage.prototype.showMessages=function(a){var a=this._resolveMessageComponentId(a,!0),b=this.getAllMessages()[a],a=this.findComponent(a);if(a!=null){var c=a.getPeer();c.bind(a);b!=null?c.messageShow(a,b.maxType,b):c.messageShow(a)}};AdfDhtmlPage.prototype.getMessages=function(a){a=this._resolveMessageComponentId(a,!0);return this._messages[a]};
AdfDhtmlPage.prototype.getAllMessages=function(){var a=this._messages,b={};for(messageId in a){var c=this.findComponent(messageId);if(c==null)AdfLogger.LOGGER.info("AdfDhtmlPage.getAllMessages: ignoring messages for non-existing component: ",c);else{var d=AdfRichUIPeer.getDomElementForComponent(c);AdfDomUtils.isInVisibleSubtree(d)?b[messageId]=a[messageId]:AdfLogger.LOGGER.info("AdfDhtmlPage.getAllMessages: ignoring messages for hidden component: ",c)}}return b};
AdfDhtmlPage.prototype.getClientIdsWithMessages=function(a){var b=[],c=this._messages,d=this._defaultMessageKey,e=AdfAgent.AGENT,f;a!=null&&(f=(f=AdfPage.PAGE.findComponent(a))&&f instanceof AdfRichPopup?AdfDhtmlPopupPeer.getContentDom(f):e.getElementById(a));for(var g in c)!f&&g==d?b.push(null):(e=this.findComponent(g),e!=null&&(e=AdfRichUIPeer.getDomElementForComponent(e),AdfDomUtils.isInVisibleSubtree(e)&&(f==null||a==g||AdfDomUtils.isAncestor(f,e))&&b.push(g)));return b};
AdfDhtmlPage.prototype.__setGlobalMessagesResetStrategy=function(a){this._globalMessagesResetStrategy=a};AdfDhtmlPage.prototype.clearMessages=function(a){a=this._resolveMessageComponentId(a,!1);this._messages[a]!=null&&(delete this._messages[a],delete this._global_max_msg_type,this._notifyComponent(a,null));this._clearDelayedMessages(a)};
AdfDhtmlPage.prototype.clearAllMessages=function(){var a=[],b;for(b in this._messages)a.push(b);this._messages={};delete this._global_max_msg_type;for(var c in a)this._notifyComponent(a[c],null);this._clearAllDelayedMessages()};AdfDhtmlPage.prototype.hasMessages=function(a){return this.getMessages(a)!=null};
AdfDhtmlPage.prototype.clearSubtreeMessages=function(a){var b=this.getClientIdsWithMessages();if(b){var c=AdfAgent.AGENT,d=AdfPage.PAGE.findComponent(a);if(d=d&&d instanceof AdfRichPopup?AdfDhtmlPopupPeer.getContentDom(d):c.getElementById(a))for(var e=0;e<b.length;e++){var f=b[e];if(f!=null){var g=c.getElementById(f);(!g||a==f||AdfDomUtils.isAncestor(d,g))&&this.clearMessages(f)}}}};
AdfDhtmlPage.prototype._resolveMessageComponentId=function(a,b){if(!b)return a==null?this.getDefaultMessageHandlerComponentId():a;if(a!=null){var c=this.findComponent(a);if(c!=null&&c instanceof AdfUIEditableValue)return a}return this._defaultMessageKey};AdfDhtmlPage.prototype._getMaxType=function(){var a=this._global_max_msg_type;if(!a){for(var b in this._messages){var c=this._messages[b];if(c!=null&&(a==null||c.maxType>a))a=c.maxType}if(a!=null)this._global_max_msg_type=a}return a};
AdfDhtmlPage.prototype._notifyComponent=function(a,b){if(a!=this._defaultMessageKey){var c=AdfAgent.AGENT.getElementById(AdfPage._FOR_CONTAINER_PREFIX+a);if(c!=null&&!this.isScreenReaderMode())b==null?AdfDomUtils.removeAllNodes(c):(b.overridden=!0,AdfDomUtils.removeAllNodes(c),AdfMessageUtils.appendComponentMessageInlineDom(c,b));c=this.findComponent(a);if(c!=null){var d=c.getPeer();d.bind(c);b!=null?d.messageNotify(c,b.maxType,b):d.messageNotify(c);d=!c.dontPropagateDescendantMessageChanges();for(c=
c.getParent();c&&d;)d=c.getPeer(),d.bind(c),d.descendantMessageChanged(c),d=!c.dontPropagateDescendantMessageChanges(),c=c.getParent()}}c=this.findComponent(this._defaultMessageKey);c!=null&&(d=c.getPeer(),d.bind(c),d.messageNotify(c,this._getMaxType(),b))};
AdfDhtmlPage.prototype._addDelayedMessages=function(a){var b=this._delayedMessages,c=!1,d;for(d in b)if(this.findComponent(d)!=null){for(var e=b[d],f=e.length,g=0;g<f;g++){var h=e[g],c=h.pop(),h=h.pop();this.addMessage(d,h,c);c=!0}this._clearDelayedMessages(d)}a&&c&&this.showMessages()};AdfDhtmlPage.prototype._delayMessageForComponent=function(a,b,c){var d=this._delayedMessages[a];d||(d=[],this._delayedMessages[a]=d);a=[];a.push(b);a.push(c);d.push(a)};
AdfDhtmlPage.prototype._clearDelayedMessages=function(a){this._delayedMessages[a]!=null&&delete this._delayedMessages[a]};AdfDhtmlPage.prototype._clearAllDelayedMessages=function(){this._delayedMessages={}};AdfDhtmlPage.prototype.isActiveDataSupported=function(){return!AdfCollections.isEmpty(this._activeComponents)};
AdfDhtmlPage.prototype.updateAutoPPRComponents=function(a){this._setPageId(a);for(var b=this._autoPPRComponents,c=arguments.length,d=this._stopADSClientIds,e=1;e<c;e++){var f=arguments[e];AdfAssert.assertString(f);f in d&&(delete d[f],AdfCollections.removeArrayValue(d,f));b[f]=!0}};AdfDhtmlPage.prototype.initializeActiveForm=function(a,b){AdfAssert.assertBoolean(a);this._ACTIVE_FORM_URL=a?b+"/adwwls/wls.ads":"adw.jspx"};
AdfDhtmlPage.prototype.updateActiveDataComponents=function(a,b,c){AdfAssert.assertString(a);this._setMasterWindowId(a);this._setMasterPageId(b);this._setPageId(c);var d=arguments.length;AdfAssert.assert(d%2==1,"An equal number of clientId and changeCount parameters are required");for(var e=this._activeComponents,f=3;f<d;f++){var g=arguments[f];AdfAssert.assertString(g);f++;var h=arguments[f];AdfAssert.assertNumber(h);var k=!(g in e);e[g]={};e[g].changeCount=h;k&&(AdfLogger.LOGGER.fine("Register active data on:",
g),this._updateStartActiveDataStateChange(g))}};
AdfDhtmlPage.prototype._activeDataHotKeyhandler=function(){var a=!1,b={},c;for(c in this._activeComponents)if(this._activeComponents[c].dirty)a=!0,b[c]=this._activeComponents[c].lastUpdateTime;var d=AdfPage.PAGE.getLookAndFeel();if(a){a="";for(c in b){var e=this.findComponent(c),f=(new Date).getTime()-b[c];f<0&&(f=0);var g=Math.floor(f/36E5);f-=g*36E5;var h=Math.floor(f/6E4);f-=h*6E4;f/=1E3;var k="\n "+d.getTranslatedString("AFActiveDataEventTime");a+=TrFastMessageFormatUtils.format(k,e.getAccessibleName(),
g==0?"0":g.toString(),h==0?"0":h.toString(),f==0?"0":f.toString())}a+="\n";b=d.getTranslatedString("AFActiveDataConfirmRequest",a);confirm(b)&&this.getDomWindow().location.reload()}else alert(d.getTranslatedString("AFActiveDataNoChange"))};AdfDhtmlPage.prototype._announceActiveComponents=function(){this.scheduleTimer(this,this._announceActiveComponentsByAlert,null,100)};
AdfDhtmlPage.prototype._announceActiveComponentsByAlert=function(){var a=AdfPage.PAGE.getLookAndFeel();if(AdfCollections.isEmpty(this._activeComponents))a=a.getTranslatedString("AFActiveDataNoActiveComponent");else{var b="",c;for(c in this._activeComponents){var d=this.findComponent(c).getAccessibleName();d==null&&(d=c,AdfLogger.LOGGER.severe("No shortDesc exists for the component with clientId: ",c));b+="\n "+d}b+="\n";a=a.getTranslatedString("AFActiveDataHotKeyInfo");a=TrFastMessageFormatUtils.format(a,
b,AdfDhtmlPage._ACTIVE_DATA_HOT_KEY_TEXT)}alert(a)};AdfDhtmlPage.prototype._startGlobalActiveData=function(){this._canReceiveActiveDataCount++;this._canReceiveActiveDataCount==1&&(!this._admInitialized&&this._getMasterWindowId()!=null&&this._initActivePage(),this._updateDeliveryTimer())};AdfDhtmlPage.prototype._stopGlobalActiveData=function(){this._canReceiveActiveDataCount--};AdfDhtmlPage.prototype.stopActiveData=function(){};AdfDhtmlPage.prototype.startActiveData=function(){};
AdfDhtmlPage.prototype._registerWindowWithADSMaster=function(a){AdfAssert.assert(a);this._windowNameToWindow[a.name]=a};
AdfDhtmlPage.prototype._initializeADSIFrame=function(){var a=this._ACTIVE_FRAME_NAME,b=this.getDomWindow(),a=b.frames[a];this.getDomDocument();var c=this._ACTIVE_FORM_URL;c+="?action="+this._ESTABLISH_CHANNEL_ACTION+"&windowId="+this._windowId+"&pageId="+this._pageId+"&replaceMasterWindowId="+this._replaceMasterWindowId+"&replaceMasterPageId="+this._replaceMasterPageId;AdfLogger.LOGGER.fine("Connecting for master window:",this._windowId," in window:",b.name);this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTING);
a.location.replace(c)};
AdfDhtmlPage.prototype._processPushData=function(a,b,c,d,e,f){AdfAssert.assertString(a);AdfAssert.assert(b!==void 0);AdfAssert.assertNumber(c);AdfAssert.assertBoolean(f);AdfAssert.assertNumberOrNull(e);var g=this.findComponent(a),h=!1;g?(d&&AdfLogger.LOGGER.fine("Event received beyond the configured threshold for component:",a),d=this._activeComponents[a].changeCount,d===void 0?AdfLogger.LOGGER.severe("Active data for unregistered component:",a):c>d?(this.isScreenReaderMode()?(this._activeComponents[a].dirty=
!0,this._activeComponents[a].lastUpdateTime=(new Date).getTime()):h=g.processPushData(b,c),e!==void 0&&(b=(new Date).getTime(),e%500==0&&AdfLogger.LOGGER.info("ADS: GENERAL: component finished processing event : "," windowId:",this._windowId," pageId:",this._pageId," clientId:",a," eventId:",c," client time:",b," event number:",e),f&&AdfLogger.LOGGER.info("ADS: component finished processing event : "," windowId:",this._windowId," pageId:",this._pageId," clientId:",a," eventId:",c," client time:",
b)),this._activeComponents[a].changeCount=c):AdfLogger.LOGGER.fine("Old active data for",a," declined")):AdfLogger.LOGGER.fine("No active component:",a," Deregestering component");return h};
AdfDhtmlPage.prototype.__processActiveDataEvent=function(a,b,c,d,e,f,g,h){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assertString(c);AdfAssert.assertObject(d);AdfAssert.assertNumber(e);AdfAssert.assertNumber(f);AdfAssert.assertNumber(h);AdfAssert.assertNumberOrNull(g);this._lastActiveDataActivityTime=(new Date).getTime();g!==void 0&&(g%500==0&&AdfLogger.LOGGER.info("ADS: GENERAL: active data manager receives event : "," windowId:",a," pageId:",b," clientId:",c," eventId:",e," event generation time:",
f," client time:",this._lastActiveDataActivityTime," event number:",g),h&&AdfLogger.LOGGER.info("ADS: active data manager receives event : "," windowId:",a," pageId:",b," clientId:",c," eventId:",e," event generation time:",f," client time:",this._lastActiveDataActivityTime));if((a=this._getTargetPage(a))&&a._getPageId()==b)b=this._getMilliSecondsBehind(f)>this._latencyThreshold,g!==void 0?a._processPushData(c,d,e,b,g,h==1):a._processPushData(c,d,e,b)};
AdfDhtmlPage.prototype._getTargetPage=function(a){AdfAssert.assertString(a);if(a==this._windowId)return this;var b=null,c=this._windowNameToWindow;c!=null&&(b=c[a]);c=null;if(this._testAdfPageExistence(b))try{c=b.AdfPage.PAGE}catch(d){AdfLogger.LOGGER.fine("Could not access active window:",a)}return c};
AdfDhtmlPage.prototype._refreshPushComponent=function(a){AdfAssert.assertString(a);var b=this.findComponent(a);return b?(this.addPartialTargets(b),!0):(this._stopActiveData(a),AdfLogger.LOGGER.info("No active component:",a),!1)};AdfDhtmlPage.prototype._refreshAllPushComponents=function(){var a=this._activeComponents,b;for(b in a)this._refreshPushComponent(b)};
AdfDhtmlPage.prototype._notifyADSConnectionStateChange=function(a){AdfAssert.assert(this._masterWindowId==this._windowId,"_notifyADSConnectionStateChange should not be called on a non-master window");var b=void 0,c=this._getRegistryMap(),d;for(d in c)if(b=c[d],this._testAdfPageExistence(b))try{b.AdfPage.PAGE._broadcastADSConnectionStateChange(a)}catch(e){AdfLogger.LOGGER.logError(e,AdfLogger.WARNING,"Error broadcasting ADS connection state to window ",d)}};
AdfDhtmlPage.prototype._stopActiveData=function(a){AdfAssert.assertString(a);delete this._activeComponents[a];this._updateStopActiveDataStateChange(a)};AdfDhtmlPage.prototype._stopAutoPPR=function(a){AdfAssert.assertString(a);delete this._autoPPRComponents[a];AdfLogger.LOGGER.fine("Stop autoPPR active data on ",a);this._updateStopActiveDataStateChange(a,null)};
AdfDhtmlPage.prototype._updateStopActiveDataStateChange=function(a){var b=this._startADSClientIds;a in b?(delete b[a],this._startADSClientIdCount--):(b=this._stopADSClientIds,a in b||(AdfLogger.LOGGER.fine("Queue ADS stop on clientID:",a),b[a]=!0,b.push(a),this._updateDeliveryTimer()))};
AdfDhtmlPage.prototype._updateStartActiveDataStateChange=function(a){var b=this._startADSClientIds,c=this._stopADSClientIds;c.hasOwnProperty(a)?(delete c[a],AdfCollections.removeArrayValue(c,a)):(b[a]=!0,this._startADSClientIdCount++,AdfLogger.LOGGER.fine("Request start of active data on ",a," startRefCount:",this._canReceiveActiveDataCount),this._canReceiveActiveDataCount>0&&this._updateDeliveryTimer())};
AdfDhtmlPage.prototype._setBodyCursorForActivePage=function(){if(AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM){var a=this.getDomDocument(),b=this.getResourceURL("/afr/default_arrow_black.cur");AdfAgent.AGENT.getOS()==AdfAgent.WINDOWS_OS&&(b=this.getResourceURL("/afr/default_arrow_white.cur"));a.body.style.cursor="url('"+b+"'), progress"}};
AdfDhtmlPage.prototype._initActivePage=function(){var a=this.getDomWindow();AdfAssert.assert(a.AdfDhtmlActiveDataSupport,"AdfActiveDataService JavaScript feature not loaded. Please make sure it is not blocked by ad block software.");this._ads=new AdfDhtmlActiveDataSupport;var b=this._getMasterWindowId(),c=this._getMasterPageId(),d=this._getPageId(),e=null,e=a.name?a.name:this._expectedWindowId;if(!this._admInitialized){this._setBodyCursorForActivePage();this._admInitialized=!0;this._initAdm();var f=
this._wrapMasterWindowId(b);if(b==e){AdfLogger.LOGGER.info("self is master window: ",b);if(this._windowNameToWindow==null)this._windowNameToWindow={};a.name=f;this._setWindowId(e);this._setMasterWindowId(b);this._setReplaceMasterWindowId(b);this._setPageId(d);this._setMasterPageId(c);this._setReplaceMasterPageId(c);this._setMasterWindowRef(a);this._registerWindowWithADSMaster(a);this._initializeADSIFrame()}else if(a.name==f)this._claimMaster(b,c);else{AdfLogger.LOGGER.info("non-master window, needs to register with: ",
b);a.name=e;var f=null,g=this._getADSMasterWindow(b);g!=null?(f=g.AdfPage.PAGE,f._registerWindowWithADSMaster(a),this._setWindowId(e),this._setMasterWindowId(b),this._setReplaceMasterWindowId(b),this._setPageId(d),this._setMasterPageId(c),this._setReplaceMasterPageId(c),this._setMasterWindowRef(g)):(this._setWindowId(a.name),this._setPageId(d),this._claimMaster(b,c))}}};
AdfDhtmlPage.prototype._initAdm=function(){AdfLogger.LOGGER.fine("Initialize active data manager");this._replaceMasterPageId=this._masterPageId=this._pageId=this._replaceMasterWindowId=this._masterWindowRef=this._masterWindowId=this._windowId=void 0;this._ESTABLISH_CHANNEL_ACTION="establishChannel";this._RECONNECT_ACTION="reconnect";this._POLL_EVENTS_ACTION="pollEvents";this._ACTIVE_FRAME_NAME="afr::PushIframe";this._ACTIVE_FORM_NAME="_activeDataForm";this._ACTIVE_WINDOW_REGISTRY_MAP=this._windowNameToWindow};
AdfDhtmlPage.prototype._getADSMasterWindow=function(a){AdfAssert.assertString(a);var b=this.getDomWindow().open("",a,"height=1,width=1,top=0,left=0,status=no,toolbar=no,menubar=no,location=no");if(!this._testAdfPageExistence(b)||b.AdfPage.PAGE._getMasterWindowId()!=a){AdfLogger.LOGGER.warning("can't get the master window for: ",a);try{var c=b.location;(c==null||c=="about:blank"||c=="about:Tabs")&&b.close()}catch(d){}b=null}return b};
AdfDhtmlPage.prototype._getRegistryMap=function(){if(this._windowNameToWindow==null)this._windowNameToWindow={};return this._windowNameToWindow};AdfDhtmlPage.prototype._getWindowId=function(){return this._windowId};AdfDhtmlPage.prototype._setWindowId=function(a){this._windowId=a};AdfDhtmlPage.prototype._getPageId=function(){return this._pageId};AdfDhtmlPage.prototype._setPageId=function(a){this._pageId=a};AdfDhtmlPage.prototype._setMasterWindowId=function(a){this._masterWindowId=a};
AdfDhtmlPage.prototype._getMasterWindowId=function(){return this._masterWindowId};AdfDhtmlPage.prototype._getMasterPageId=function(){return this._masterPageId};AdfDhtmlPage.prototype._setMasterPageId=function(a){this._masterPageId=a};AdfDhtmlPage.prototype._setMasterWindowRef=function(a){this._masterWindowRef=a};AdfDhtmlPage.prototype._setReplaceMasterWindowId=function(a){this._replaceMasterWindowId=a};AdfDhtmlPage.prototype._setReplaceMasterPageId=function(a){this._replaceMasterPageId=a};
AdfDhtmlPage.prototype._getActiveFrame=function(){return this.getDomWindow().frames[this._ACTIVE_FRAME_NAME]};AdfDhtmlPage.prototype._getClientStateMap=function(){return this._activeComponents};
AdfDhtmlPage.prototype._handleBeforeUnload=function(a){if(!this.isPerformingFullSubmit()||this._waitingForDocumentUnload){var b=!1,c=void 0,d=AdfDhtmlRichDialogService.hasModalDialogsOpen();if(this._warnUncommitted||this._checkDirtyDataComponents()||d){if(!this._dataDirty&&!this._hasLocalUncommitted&&this.getDomWindow().AdfDhtmlInputBasePeer!=void 0){var e=null,f=this.getActiveComponent();f&&(e=f.getPeer());e&&e instanceof AdfDhtmlInputBasePeer&&e.__simulateBlur(f)}if(this._dataDirty||this._hasLocalUncommitted||
this._checkDirtyDataComponents()||d)b=!0,c=this.getLookAndFeel().getTranslatedString(!d?"af_document.MSG_UNCOMMITTED_DATA":"af_document.MSG_DEPENDENT_DIALOGS"),a.returnValue=c}this._beforeUnloadDelayed=!1;if(b)return this._beforeUnloadDelayed=!0,c;else!this._pageExpired&&!this.isPortlet()&&!this._isPropertyDeltaSyncDisabled()&&this._deliverQueuedServerEvents(!0,!0),this._onBeforeUnload()}};
AdfDhtmlPage.prototype._onBeforeUnload=function(){this._notifyWindowUnloaded();this._unloading=!0;var a=this._getMasterWindowId();a&&(a==this._getWindowId()&&this._handlingFailover!=!0&&this._handleADSChannelMigration(),this.__notifyWindowCloseImmediately(!1,""));this.isUserActivityMonitoringOn()&&this._partialRequestRedirect&&AdfUserActivityInfo.saveToSessionStorage()};
AdfDhtmlPage.prototype._handleADSChannelMigration=function(){try{var a=this._adsConnectionCheckTimer;if(a){try{this.cancelTimer(a)}catch(b){AdfLogger.LOGGER.logErrorAsInfo(b,"Error clearing connection check timer")}this._adsConnectionCheckTimer=null}var c=this._pollingTimer;if(c){try{this.cancelTimer(c)}catch(d){AdfLogger.LOGGER.logErrorAsInfo(d,"Error clearing polling timer")}this._pollingTimer=null}var e=this._getRegistryMap(),f=this._findYoungestWindow(e);if(f==null)AdfLogger.LOGGER.fine("Could not find candidate window to migrate to");
else{var g=f.AdfPage.PAGE,h=g._getRegistryMap();AdfCollections.copyInto(h,e);f.name=this._wrapMasterWindowId(g._getWindowId());g._setReplaceMasterWindowId(this._getWindowId());g._setReplaceMasterPageId(this._getPageId());g._setMasterWindowId(g._getWindowId());g._setMasterPageId(g._getPageId());g._getRegistryMap();var k=g.createCallback(g._createADSChannel);f.setTimeout(k,50)}}catch(l){AdfLogger.LOGGER.info("Can not migrate the active channel to other windows")}};
AdfDhtmlPage.prototype._createADSChannel=function(a){this._makeADSChannelRequest(!0,a)};
AdfDhtmlPage.prototype.__registerWithNewMaster=function(a,b){AdfLogger.LOGGER.info("register with new master ",a);this._setMasterWindowId(a);this._setMasterPageId(b);try{var c=this._getADSMasterWindow(a);if(c!=null){this._setMasterWindowRef(c);var d=c.AdfPage.PAGE;if(d!=null){d._registerWindowWithADSMaster(this.getDomWindow());var e=this._getRegistryMap(),f=d._getRegistryMap();AdfCollections.copyInto(f,e)}}else AdfLogger.LOGGER.fine("can't find the master page "+a),this._claimMaster(a,b);this._pushChannelState!=
AdfDhtmlPage.PushChannelStates.CONNECTED&&d._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED);this._startGlobalActiveData()}catch(g){AdfLogger.LOGGER.info("ADS register with new master failed")}this._windowNameToWindow=null};AdfDhtmlPage.prototype._findYoungestWindow=function(a){var b=void 0,c=void 0,d=this.getDomWindow(),e;for(e in a)b=a[e],b!=d&&this._testAdfPageExistence(b)&&(b.AdfPage.PAGE.isHAMigrated()||(c=a[e]));return c};
AdfDhtmlPage.prototype._createADSChannelParameterMap=function(a){var b=void 0;if(this._replaceMasterWindowId==null)this._replaceMasterWindowId=this._masterWindowId;b=void 0;b=a!=!0?this._ESTABLISH_CHANNEL_ACTION:this._RECONNECT_ACTION;return b={action:b,windowId:this._windowId,replaceMasterWindowId:this._replaceMasterWindowId,pageId:this._pageId,replaceMasterPageId:this._replaceMasterPageId}};
AdfDhtmlPage.prototype._createADSClientStateMap=function(a){var b={};if(a){var a=this._getRegistryMap(),c;for(c in a){var d=a[c];try{if(this._testAdfPageExistence(d)){var e=d.AdfPage.PAGE,f=e._getPageId();b[c+":"+f]=e._getClientStateMap()}}catch(g){AdfLogger.LOGGER.logErrorAsInfo(g,"Could not access active page:"+c)}}}else{c=this.getDomWindow();try{this._testAdfPageExistence(c)&&(b[this._getWindowId()]=this._getClientStateMap())}catch(h){AdfLogger.LOGGER.logErrorAsInfo(h,"Could not access active page:"+
c.name)}}return b};AdfDhtmlPage.prototype._makeADSChannelRequest=function(a,b){var c=this._createADSChannelParameterMap(b);this.getDomWindow();this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.RECONNECTING);this._sendADSChannelRequest(c,{})};
AdfDhtmlPage.prototype._claimMaster=function(a,b){AdfAssert.assertString(a);AdfAssert.assertString(b);var c=this._getWindowId(),d=this._getPageId();if(this._windowNameToWindow==null)this._windowNameToWindow={};this._setMasterWindowId(c);this._setReplaceMasterWindowId(a);this._setMasterPageId(d);this._setReplaceMasterPageId(b);c=this.getDomWindow();this._setMasterWindowRef(c);this._registerWindowWithADSMaster(c);this._createADSChannel()};
AdfDhtmlPage.prototype._wrapMasterWindowId=function(a){return a.replace(/\//g,"S").replace(/-/g,"M").replace(/\./g,"D")};AdfDhtmlPage.prototype._testAdfPageExistence=function(a){var b=null;try{b=a.AdfPage.PAGE}catch(c){AdfLogger.LOGGER.logErrorAsInfo(c,"Could not access active window")}return b!=null?!0:!1};AdfDhtmlPage.PushChannelStates={CONNECTED:0,CONNECTING:1,DISCONNECTED:2,RECONNECTING:3};
AdfDhtmlPage._DEFAULT_ACTIVEDATA_CONFIG={restartInterval:15,maxReconnectionRetries:10,reconnectWaitTime:1E4,latencyThreshold:1E4,transport:"STREAMING",pollingInterval:5E3,keepAliveInterval:1E4};
AdfDhtmlPage.prototype.__initLongPolling=function(){var a=this.__getUserInactivityTimeoutHelper();if(a&&a.hasTimedOut()){if(!this._longPollingInitTimer)this._longPollingInitTimer=this.scheduleTimer(this,this.__initLongPolling,null,300);return 300}if(this._longPollingInitTimer)this.cancelTimer(this._longPollingInitTimer),this._longPollingInitTimer=null;this._sendADSChannelRequest({action:this._POLL_EVENTS_ACTION,windowId:this._getWindowId(),pageId:this._getPageId()},null);this.__setConnected()};
AdfDhtmlPage.prototype.__setConfiguration=function(a){try{this._transport=a.transport,this._pollingInterval=a.pollingInterval,this._maxReconnectionRetries=a.maxReconnectionRetries,this._reconnectWaitTime=a.reconnectWaitTime,this._latencyThreshold=a.latencyThreshold,this._restartInterval=a.restartInterval,this._keepAliveInterval=a.keepAliveInterval}catch(b){AdfLogger.LOGGER.warning("Exception occurred while setting configuration. Name: "+b.name+", Message: "+b.message)}};
AdfDhtmlPage.prototype.__refreshPushComponent=function(a,b,c){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assertString(c);this._lastActiveDataActivityTime=(new Date).getTime();var b=null,d=this._windowNameToWindow;d!=null&&(b=d[a]);if(this._testAdfPageExistence(b))try{b.AdfPage.PAGE._refreshPushComponent(c)}catch(e){AdfLogger.LOGGER.fine("can't access the window ",a)}else AdfLogger.LOGGER.info("No window found for refreshing component: windowId = ",a)};
AdfDhtmlPage.prototype._sendADSChannelRequest=function(a,b){var c=this._ACTIVE_FRAME_NAME,c=this.getDomWindow().frames[c],d="",e;for(e in a)d+="&"+e+"="+a[e];var e=1,f;for(f in b){var g=b[f];if(!AdfCollections.isEmpty(g))for(var h in d+="&pageKey"+e+"="+f,g){var k="componentIndex"+e;d+="&componentId"+e+"="+h;d+="&"+k+"="+g[h].changeCount}e+=1}f=d.indexOf("&");d.length>0&&f==0&&(d=d.substring(1));d=this._ACTIVE_FORM_URL+"?"+d;this._transport=="STREAMING"?(d.length>2E3&&this._handleAllFailovers([]),
c.location.replace(d)):this._pollingRequest=this.getDataTransferService(!1,!0).sendPollingRequest(d,[this._ads])};AdfDhtmlPage.prototype.__setServerTimestamp=function(a){this._serverTimeDifference=AdfDhtmlPage._getTimeDifference(a);this._perfProfileEnabled&&AdfLogger.PROFILER_LOGGER.info("ADS: Server time difference: ",this._serverTimeDifference,";;")};AdfDhtmlPage._getTimeDifference=function(a){if(a==null)return 0;return new Date-new Date(a)};
AdfDhtmlPage.prototype._getMilliSecondsBehind=function(a){return AdfDhtmlPage._getTimeDifference(a)-this._serverTimeDifference};AdfDhtmlPage.prototype.__recordActiveDataActivity=function(){var a=(new Date).getTime();this._lastActiveDataActivityTime=a;AdfLogger.LOGGER.finer(a,": got keep alive")};
AdfDhtmlPage.prototype._handleDisconnect=function(){AdfLogger.LOGGER.finer("ADS Channel Disconnected");this._reconnectRetries=0;this._isWindowClosing?AdfLogger.LOGGER.finer("Closing window ... will not try to reconnect"):(this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.RECONNECTING),this.scheduleTimer(this,this._reconnect,null,this._reconnectWaitTime))};
AdfDhtmlPage.prototype.__setConnected=function(){AdfLogger.LOGGER.finer("ADS Channel Connected");this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED);if(this._transport=="POLLING")this._pollSucceeded=!0;this._lastActiveDataActivityTime=this._reconnectRetries=0;var a=this._getPageId();this._setMasterPageId(a);this._setReplaceMasterPageId(a);a=this._getWindowId();this._setMasterWindowId(a);this._setReplaceMasterWindowId(a);this._transport=="POLLING"?this._startPolling():(this.getDomWindow(),
this._prepareAdsConnectionTimer());this.__perfTimings(!1,!1,!1,"ADS channel connected")};
AdfDhtmlPage.prototype.__stopADS=function(){AdfLogger.LOGGER.finer("ADS stopped due to user inactivity timeout.");if(this._transport=="LONG_POLLING"){if(this._pollingRequest)try{this._pollingRequest.abort(),delete this._pollingRequest,this._pollingRequest=null}catch(a){this._pollingRequest=null,AdfLogger.LOGGER.fine("Failed to abort Long-Polling request due to error: ",a.message)}}else if(this._transport=="STREAMING"){var b=this._ACTIVE_FRAME_NAME,c=this.getDomWindow();if((b=c.frames[b])&&b.frameElement)b.frameElement.src=
"";AdfLogger.LOGGER.fine("Terminate the push channel for master window:",this._getWindowId()," in window:",c.name)}};AdfDhtmlPage.prototype._prepareAdsConnectionTimer=function(){this._adsConnectionCheckTimer&&this.cancelTimer(this._adsConnectionCheckTimer);this._adsConnectionCheckTimer=this.scheduleTimer(this,this._checkAdsConnection,null,this._latencyThreshold+this._keepAliveInterval)};
AdfDhtmlPage.prototype._checkAdsConnection=function(){var a=this.__getUserInactivityTimeoutHelper();if(a&&a.hasTimedOut())return 300;var a=this._latencyThreshold,b=this._keepAliveInterval;this._pushChannelState==AdfDhtmlPage.PushChannelStates.CONNECTED&&AdfDhtmlPage._getTimeDifference(this._lastActiveDataActivityTime)>a+b&&this._handleDisconnect();return a+b};
AdfDhtmlPage.prototype._pollForEvents=function(){var a=this.__getUserInactivityTimeoutHelper();if(!a||!a.hasTimedOut()){var a={action:this._POLL_EVENTS_ACTION,windowId:this._getWindowId(),pageId:this._getPageId()},b=this._createADSClientStateMap(!0);this._lastPollTime=(new Date).getTime();this._notifyADSConnectionStateChange(this._pollSucceeded?AdfDhtmlPage.PushChannelStates.CONNECTING:AdfDhtmlPage.PushChannelStates.RECONNECTING);this._pollSucceeded=!1;this._sendADSChannelRequest(a,b)}};
AdfDhtmlPage.prototype._reconnect=function(){this._isWindowClosing?this._reconnectRetries=0:(AdfLogger.LOGGER.fine("Reconnect called ",this._reconnectRetries+1," time(s)"),this._pushChannelState!=AdfDhtmlPage.PushChannelStates.CONNECTED&&(this._reconnectRetries<this._maxReconnectionRetries?(this._reconnectRetries++,AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM&&this._reconnectRetries>3&&this.getDomWindow().stop(),this._createADSChannel(!0),this.scheduleTimer(this,this._reconnect,null,this._reconnectWaitTime)):
(AdfLogger.LOGGER.warning("Cannot connect. Exceeded number of retries for reconnection"),this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.DISCONNECTED))))};AdfDhtmlPage.prototype.getADSConnectionState=function(){return this._pushChannelState};AdfDhtmlPage.prototype.addADSConnectionStateListener=function(a,b){AdfAssert.assertFunction(a);AdfAssert.assertObjectOrNull(b);var c=this._adsConnectionStateListeners;if(!c)this._adsConnectionStateListeners=c=[];c.push(a,b)};
AdfDhtmlPage.prototype.removeADSConnectionStateListener=function(a,b){AdfAssert.assertFunction(a);AdfAssert.assertObjectOrNull(b);var c=this._adsConnectionStateListeners;AdfAssert.assert(c,"adsConnectionStateListeners array must exist");for(var d=c.length,e=0;e<d;e++){var f=c[e];e++;f==a&&c[e]===b&&c.splice(e-1,2)}if(c.length==0)this._adsConnectionStateListeners=null};
AdfDhtmlPage.prototype._broadcastADSConnectionStateChange=function(a){var b=this._pushChannelState;if(b==a)AdfLogger.LOGGER.finest("broadcastADSConnectionStateChange called without a change in state");else{this._pushChannelState=a;var c=this._adsConnectionStateListeners;if(c){var d=c.length;if(d>0){a=new AdfPropertyChangeEvent(this,"adsConnectionState",b,a);for(b=0;b<d;b++){var e=c[b];b++;var f=c[b];try{f!=null?e.call(f,a):e(a)}catch(g){AdfLogger.LOGGER.logError(g,AdfLogger.WARNING,"Error broadcasting ADS connection state")}}}}}};
AdfDhtmlPage.prototype._startPolling=function(){if((0!=(this.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_FORCE_PPR)||0!=(this.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_ON))&&AdfCollections.isEmpty(this._getClientStateMap()))this._pollingTimer=this.scheduleTimer(this,this._startPolling,null,this._pollingInterval);else{if(!this._pollSucceeded&&(this._reconnectRetries++,this._reconnectRetries>this._maxReconnectionRetries)){AdfLogger.LOGGER.warning("Cannot connect. Exceeded number of retries for reconnection");
this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.DISCONNECTED);return}this._notifyADSConnectionStateChange(AdfDhtmlPage.PushChannelStates.CONNECTED);var a=new Date,b=this._pollingInterval;this._lastPollTime!=null&&(b=a.getTime()-this._lastPollTime);var a=AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM,c=this._pollingInterval-b<=200;if(b>=this._pollingInterval||a&&c){if(this._pollingTimer!=null){try{clearTimeout(this._pollingTimer)}catch(d){}this._pollingTimer=null}this._pollForEvents();
this._pollingTimer=this.scheduleTimer(this,this._startPolling,null,this._pollingInterval)}else this._pollingTimer==null?(AdfLogger.LOGGER.finer("no timer exists; scheduling timer for ",b),this._pollingTimer=setTimeout(this._startPolling,b)):AdfLogger.LOGGER.finer("timer exists; doing nothing because diff = ",b," is less than ",this._pollingInterval)}};
AdfDhtmlPage.prototype._fixupLinkOnClick=function(a){for(delete this._notifyOfUnloadUrl;a!=null;){if(a.nodeName=="A")break;a=a.parentNode}if(a!=null){var b=a.href;if(b!=null&&(a=a.getAttribute("href"),!(a&&a.indexOf("#")==0)))this._notifyOfUnloadUrl=b}};AdfDhtmlPage.prototype.setStreamingDisabled=function(a){this._streamingDisabled=a};AdfDhtmlPage.prototype.isStreamingDisabled=function(){return this._streamingDisabled};
AdfDhtmlPage.prototype.sendStreamingRequest=function(a){var b=this.getDomDocument().forms[0];AdfAssert.assert(b,"No form found;  cannot stream data");var c=this._getPPRURL(b),d={};this._addPendingStreamingIDs(a,d);AdfDhtmlPage._addStateParameter(b,d);this._streamingStatus=AdfDhtmlPage._STREAMING_REQUEST_SENT;this._stopGlobalActiveData();this.isUserActivityMonitoringOn()&&(AdfUserActivityInfo.getInstance(AdfUserActivityInfo.SECONDARY).setClientStartTime((new Date).getTime().toString()),AdfUserActivityInfo.saveToSessionStorageByType(AdfUserActivityInfo.SECONDARY));
this.getDataTransferService().sendStreamingRequest(c,d);if(this._perfProfileEnabled||this._perfProfileTimingEnabled)this.getDomWindow()._afrTimingStreamingRequestStart=(new Date).getTime()};AdfDhtmlPage._addStateParameter=function(a,b){var c=AdfDhtmlPage._STATE_PARAM_NAME,d=a[c];AdfAssert.assert(d,"No view state token for postback");b[c]=d.value};
AdfDhtmlPage.prototype.getLazyFetchURI=function(a){AdfAssert.assertString(a,"invalid Id for the lazy fetch URI");var b=this.getDomDocument().forms[0];AdfAssert.assert(b,"No form found;  cannot perform lazy fetch");var c=b.action;c+=c.indexOf("?")==-1?"?unique=":"&unique=";c+=(new Date).getTime();var d=AdfDhtmlPage._STATE_PARAM_NAME;c+="&"+d+"=";b=b[d];AdfAssert.assert(b,"No view state token for lazy fetch");c+=b.value;c+="&"+AdfDhtmlPage._LAZY_FETCH_ID_PARAM+"="+a;return c};
AdfDhtmlPage.prototype.isStreamingRequestPending=function(a){return this._pendingStreamingIDs[a]};AdfDhtmlPage.prototype._addPendingStreamingIDs=function(a,b){for(var c="",d=[],e=[],f=a.split(","),g=0;g<f.length;g++){var h=f[g],k=this.getDomDocument().getElementById(h);AdfDomUtils.isInVisibleSubtree(k)?(this._pendingStreamingIDs[h]=!0,d.push(h)):e.push(h)}d.length>0&&(c=d.join(","));b[AdfDhtmlPage._STREAMING_IDS_PARAM]=c;e.length>0&&(b[AdfDhtmlPage._REMOVED_STREAMING_IDS_PARAM]=e.join(","))};
AdfDhtmlPage._getCookie=function(a,b){if(a.cookie.length>0){var c=a.cookie.indexOf(b+"=");if(c!=-1){var d=a.cookie.indexOf(";",c);if(d==-1)d=a.cookie.length;return a.cookie.substring(c+b.length+1,d)}}return null};AdfDhtmlPage._setCookie=function(a,b,c,d,e){AdfAssert.assertNumeric(d);var f="";d&&(f=new Date,f.setTime(f.getTime()+d),f="expires="+f.toGMTString()+";");a.cookie=b+"="+c+";"+f+(e?"path="+e+";":"path=/;")};AdfDhtmlPage._eraseCookie=function(a,b){this.setCookie(a,b,"",-99999)};
AdfDhtmlPage.prototype._dtsStateChanged=function(){var a=this.getDataTransferService().getDTSState()!=AdfDataTransferService.STATE_READY;if(this._serverBusy!=a)this._serverBusy=a,AdfAgent.AGENT.showBusyCursor(this.getDomDocument(),a),this._broadcastBusyStateEvent(a);a||this._deliverQueuedServerEvents()};AdfDhtmlPage.prototype.setLastFocusedElement=function(a){this._lastFocusedElement=a};AdfDhtmlPage.prototype.getLastFocusedElement=function(){return this._lastFocusedElement};
AdfDhtmlPage.prototype.setPPRNavigationOptions=function(a){this._pprNavOptions=a};AdfDhtmlPage.prototype.getPPRNavigationOptions=function(){return this._pprNavOptions!=void 0?this._pprNavOptions:0};AdfDhtmlPage.prototype._collectLoadedLibraries=function(){for(var a={},b=this.getDocument().getElementsByTagName("script"),c=0;c<b.length;c++){var d=b[c].getAttribute("src");d&&(a[d]=!0)}return a};
AdfDhtmlPage.prototype._collectCss=function(){for(var a={},b=document.getElementsByTagName("link"),c=0,d=b.length;c<d;++c){var e=b[c].getAttribute("href");e&&(a[e]=!0)}return a};AdfDhtmlPage.prototype.flushToAssistiveTechnology=function(){var a=AdfAgent.AGENT.getElementById("afr::ATFlush");if(a)a.value=a.value=="1"?"0":"1"};
AdfDhtmlPage.prototype.announceToAssistiveTechnology=function(a,b){var c=AdfAgent.AGENT.getElementById("afr::ATStatus");if(c&&!(b&&a==this._lastStatusMessage)){this._lastStatusMessage=c.innerHTML=a;var c=this._clearStatusMessageTimer,d=500;AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&(d=1750);c?this.rescheduleTimer(c,d):this._clearStatusMessageTimer=this.scheduleTimer(this,this._clearStatusRegion,null,d)}};
AdfDhtmlPage.prototype._clearStatusRegion=function(){var a=AdfAgent.AGENT.getElementById("afr::ATStatus");if(a)a.innerHTML="",this.flushToAssistiveTechnology();this._clearStatusMessageTimer=null};AdfDhtmlPage.prototype.setDataDirty=function(a){this._dataDirty=a};AdfDhtmlPage.prototype.registerDirtyDataComponent=function(a,b){this._dirtyDataComponents[a.getClientId()]=b};
AdfDhtmlPage.prototype._checkDirtyDataComponents=function(){var a=!1,b;for(b in this._dirtyDataComponents)if(this._dirtyDataComponents[b]=="always"){var c=this.findComponent(b);c!=null&&(c=c.getPeer(),c!=null&&c.isDataDirty()&&(a=!0))}return a};AdfDhtmlPage.prototype.setProcessedRoots=function(a,b){this._removeUncommittedIds(a,b)};
AdfDhtmlPage.prototype.confirmNavigation=function(a,b){this.getLookAndFeel();var c=this._displayUncommittedDataWarning(),d={};d["oracle.adfinternal.view.faces.rich.navigationToken"]=a;d["oracle.adfinternal.view.faces.rich.confirmNavigation"]=c;this._sendRichPayload(d,{_noNavigation:!b})};
AdfDhtmlPage.prototype._removeUncommittedIds=function(a,b){if(!this._richPostbackHasErrors&&this._hasLocalUncommitted){if(a.length==0)if(b)a=[""];else{this._resetUncommittedIds();return}this._hasLocalUncommitted=!1;var c=this._uncommittedIds;this._uncommittedIds={};var d=AdfAgent.AGENT,e;for(e in c){var f=!1;if(!b||this._isImmediateEditableValueComponent(e)){for(var g=0;g<a.length&&!f;g++)e.indexOf(a[g])==0&&(f=!0);if(!f)if(g=d.getElementById(e))for(g=g.parentNode;g&&!f;){for(var h=g.id,k=0;!f&&h&&
k<a.length;k++)g.id==a[k]&&(f=!0);g=g.parentNode}else f=!0}if(!f)this._hasLocalUncommitted=this._uncommittedIds[e]=!0}}};AdfDhtmlPage.prototype._isImmediateEditableValueComponent=function(a){a=this.findComponent(a);return a!=null&&a instanceof AdfUIEditableValue&&a.getImmediate()};AdfDhtmlPage.prototype._navResetPage=function(){AdfDhtmlRichDialogService.getInstance().cancelAll();this._pageProperties={};this._setRichResponseDirty(!1)};
AdfDhtmlPage.prototype.removePageResources=function(){var a=AdfDomUtils.getFirstDescendentElement(AdfAgent.AGENT.getDomDocument().documentElement,"HEAD"),b=function(a,b){for(var e=b.getElementsByTagName(a),f=e.length-1;f>=0;--f){var g=e[f];g.getAttribute("afrres")=="true"&&b.removeChild(g)}};b("LINK",a);b("STYLE",a)};
AdfDhtmlPage.prototype._handleInvalidPprResponse=function(a){if(a){var b=AdfDhtmlPage._extractInstructionXML(a,"error");if(b!=null){this._handleRichResponse(b,null);return}a=AdfDhtmlPage._extractInstructionXML(a,"redirect");if(a!=null){this._handleRichResponse(a,null);return}}AdfAssert.DEBUG?AdfLogger.LOGGER.severe("Unexpected non-rich response"):AdfLogger.LOGGER.warning("Unexpected non-rich response");this._unloading||this.getDomWindow().location.reload(!0)};
AdfDhtmlPage._extractInstructionXML=function(a,b){var c=a.length;if(c<=1)return null;if(a.charAt(c-1)!=">")return null;var d=null,e="</"+b,f=e.length;c>f+1&&e==a.substr(c-f-1,f)&&(c=a.lastIndexOf("<?xml"),c>=0&&(d=AdfAgent.AGENT.parseXML(a.substring(c))));return d};AdfDhtmlPage.prototype.__failover=function(a){this._handlingFailover=!0;this._handleAllFailovers(a)};AdfDhtmlPage.prototype._handleFailover=function(){this.__setHAMigrated(!1);this.getDomWindow().location.reload(!0)};
AdfDhtmlPage.prototype._handleAllFailovers=function(a){var b=this._getRegistryMap(),c=void 0,d=this.getDomWindow(),e=void 0;AdfCollections.isArray(a)||(c=a,a=[],a=a.concat(c));for(var f in b)if(AdfCollections.indexOf(a,f)==-1)if(c=b[f],c!=d){if(this._testAdfPageExistence(c))c=c.AdfPage.PAGE,c.isHAMigrated()||c._handleFailover()}else e=!0;e&&this._testAdfPageExistence(d)&&d.AdfPage.PAGE._handleFailover()};
AdfDhtmlPage.prototype.__setHAMigrated=function(a){AdfAssert.assertBoolean(a);this._haMigrated=a};AdfDhtmlPage.prototype.isHAMigrated=function(){return this._haMigrated};AdfDhtmlPage.prototype.__initUncommittedDataWarningForDocument=function(a){this._warnUncommitted=a;this._resetUncommittedIds()};AdfDhtmlPage.prototype.__enableDirtyPostbackPayloads=function(){this._dirtyPostbackPayloads=!0;this._resetUncommittedIds()};
AdfDhtmlPage.prototype._isTrackingDirtyData=function(){return this._dirtyPostbackPayloads||this._warnUncommitted};AdfDhtmlPage.prototype._isDirty=function(a,b){if(this._dirtyPostbackPayloads){var c=this._mapInputElementToComponent(a);return c==null||c.getProperty("_afrFullPost")!=null||!(c instanceof AdfUIEditableValue)||!c.isConvertible()||!c.getValid()||this._uncommittedIds[c.getClientId()]==!0||this._isInputValueDirty(c,a)||AdfCollections.indexOf(b,c)>-1}else return!this._isUncheckedInput(a)};
AdfDhtmlPage.prototype._isInputValueDirty=function(a,b){var c=a.getPeer();if(c&&c.__isInputValueDirty)return c.__isInputValueDirty(b);return!1};AdfDhtmlPage.prototype.__markDirty=function(a){this._uncommittedIds[a]=!0};AdfDhtmlPage.prototype._mapInputElementToComponent=function(a){var b=AdfRichUIPeer.getFirstAncestorComponent(a);if(!b)return null;var c=b.getClientId();return c==this._stripSubId(a.name)||c==this._stripSubId(a.id)?b:null};
AdfDhtmlPage.prototype._stripSubId=function(a){var b=a==null?-1:a.lastIndexOf("::");return b>-1?a.substr(0,b):a};AdfDhtmlPage.prototype._isUncheckedInput=function(a){return(a.type=="checkbox"||a.type=="radio")&&!a.checked};AdfDhtmlPage.prototype._resetUncommittedIds=function(){this._hasLocalUncommitted=!1;this._uncommittedIds={}};AdfDhtmlPage.prototype._reloadPage=function(){var a=this.getDomWindow(),b=a.location.href;b+=b.indexOf("?")==-1?"?":"&";b+="_afr.ts=";b+=(new Date).getTime();a.location.replace(b)};
AdfDhtmlPage.prototype.__handleCachedPageForNewWindow=function(){if(AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&!window.name){var a=this.getDomWindow().location.href,b=null,c=a.indexOf("?");c>0&&(b=a.substring(c));if(b&&b.match(/_afr.ts=\d*$/))AdfLogger.LOGGER.warning("Two or more opened browser windows share same name and same ADF states!");else return this._reloadPage(),!0}return!1};
AdfDhtmlPage.prototype.__initializeSessionTimeoutTimer=function(a,b,c){var d=AdfCollections.isEmpty(this._getClientStateMap()),e=this.__getUserInactivityTimeoutHelper();if(d||e&&e.hasTimedOut()){if(!this._sessionTimeoutHelper)this._sessionTimeoutHelper=new AdfSessionTimeoutHelper;this._sessionTimeoutHelper.__initializeSessionTimeoutTimer(a,b,c)}else this._sessionTimeoutHelper&&this._sessionTimeoutHelper.__cancelSessionTimeoutTimer()};AdfDhtmlPage.prototype.__getSessionTimeoutHelper=function(){return this._sessionTimeoutHelper};
AdfDhtmlPage.prototype.__initUserInactivityTimeout=function(a){var b=this.__getUserInactivityTimeoutHelper();b&&b.initializeTimeout(a)};AdfDhtmlPage.prototype.__getUserInactivityTimeoutHelper=function(){var a=this._userInactivityTimeoutHelper;if(!a){var b=this.getDomWindow().AdfUserInactivityTimeoutHelper;if(b)this._userInactivityTimeoutHelper=a=new b}return a};AdfDhtmlPage.prototype.getComponentIdsUpdatedByPollEvent=function(){return this._componentsUpdatedByPollEvent};
AdfDhtmlPage.prototype.__confirm=function(a,b,c,d,e){AdfAssert.assertString(a,"confirm title");AdfAssert.assertString(b,"confirm message");AdfAssert.assertFunction(c,"confirm callback");d&&AdfAssert.assertNumber(d,"confirm timeout");var f=this.findComponent(this._documentClientId),g=f.getPeer();g.bind(f);return g.__showAlertConfirm(e,a,b,c,d)};
AdfDhtmlPage.prototype.__alert=function(a,b,c){AdfAssert.assertString(a,"alert title");AdfAssert.assertString(b,"alert message");AdfAssert.assertFunction(c,"alert callback");var d=this.findComponent(this._documentClientId),e=d.getPeer();e.bind(d);return e.__showAlertConfirm(!0,a,b,c)};AdfDhtmlPage.prototype._displayUncommittedDataWarning=function(){return confirm(this.getLookAndFeel().getTranslatedString("af_document.MSG_CONFIRM_NAVIGATION"))};
AdfDhtmlPage.prototype._logAsGlobalError=function(a){window.onerror!=void 0&&this._handleGlobalError(a.message,a.fileName,a.lineNumber)};
AdfDhtmlPage.prototype._handleGlobalError=function(a,b,c){if(!this._savedErrors)this._savedErrors=[];var d=!1;a=="setting a property that has only a getter"&&b==""&&c==0&&(d=!0);AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM&&a!=void 0&&(b==""&&c==0&&a.match(/Permission denied for </)&&a.match(/> to call method Location.toString on </)?d=!0:b!=""&&a.match(/Permission denied to get property Location.toString/)&&(d=!0));if(d)return!1;this._savedErrors.push({msg:a,url:b,line:c});return!1};
AdfDhtmlPage.prototype._throwSavedErrors=function(){if(this._savedErrors&&this._savedErrors.length>0){for(var a="Javascript error(s): ",b=0;b<this._savedErrors.length;b++){b>0&&(a+=";");var c=this._savedErrors[b];a+=c.msg;c.url&&(a+=" in "+c.url);c.line!==void 0&&c.line!==null&&(a+=":"+c.line)}throw a;}};AdfDhtmlPage.prototype._isPropertyDeltaSyncDisabled=function(){return"true"==this.getLookAndFeel().getSkinProperty(".AFWorkaround-tr-disable-property-delta-sync")};
function AdfServerEventQueue(){this.Init()}AdfObject.createSubclass(AdfServerEventQueue);AdfServerEventQueue.prototype.Init=function(){AdfServerEventQueue.superclass.Init.call(this);this._serverEventQueue=[];this._noResponseEventQueue=[];this._discreteEventQueue=[]};
AdfServerEventQueue.prototype.push=function(a){if(a.isResponseExpected())if(a.isDeliveryDiscrete())this._discreteEventQueue.push(a);else{var b=a.getMaxTimeBeforePropagation(),c=b<0?-1:(new Date).getTime()+b;b>0&&AdfPage.PAGE.__queueEventTimerIfNeeded(b);this._serverEventQueue.push({event:a,targetTime:c})}else this._noResponseEventQueue.push(a)};
AdfServerEventQueue.prototype.hasEventsToDeliver=function(){if(this._noResponseEventQueue.length>0||this._discreteEventQueue.length>0)return!0;return this._getMinimumTimeoutForDelivery()==0};
AdfServerEventQueue.prototype.popEvents=function(a,b){var c=this._serverEventQueue.length;if(c>0){for(var d=Array(c),e=0;e<c;e++)d[e]=this._serverEventQueue[e].event;this._serverEventQueue=[];return d}else if(!a)if(this._discreteEventQueue.length)return[this._discreteEventQueue.pop()];else if(this._noResponseEventQueue.length>0&&!b)return[this._noResponseEventQueue.pop()];return[]};AdfServerEventQueue.prototype.getWaitingTimeout=function(){return this._getMinimumTimeoutForDelivery()};
AdfServerEventQueue.prototype._getMinimumTimeoutForDelivery=function(){var a=-1,b=this._serverEventQueue.length;if(b>0)for(var c=(new Date).getTime(),d=0;d<b;d++){var e=this._serverEventQueue[d].targetTime;e>=0&&(e-=c,a=a<0?e:Math.min(a,e),a=Math.max(0,a))}return a};AdfServerEventQueue.prototype.validate=function(){AdfServerEventQueue._scrubEvents(this._serverEventQueue,!0);AdfServerEventQueue._scrubEvents(this._noResponseEventQueue);AdfServerEventQueue._scrubEvents(this._discreteEventQueue)};
AdfServerEventQueue._scrubEvents=function(a,b){for(var c=AdfPage.PAGE,d=0;d<a.length;d++){var e=a[d];if(b)e=e.event;var f=e.getSource();f.getPeer()||((f=c.findComponent(f.getClientId()))?e.setSource(f):a.splice(d--,1))}};
function AdfDhtmlRichDialogService(){this.Init()}AdfObject.createSubclass(AdfDhtmlRichDialogService);AdfDhtmlRichDialogService.getInstance=function(){if(this._theInstance==null)this._theInstance=new AdfDhtmlRichDialogService;return this._theInstance};AdfDhtmlRichDialogService.dialogExists=function(a){return AdfDhtmlRichDialogService._getDialogStateToken(a)?!0:!1};
AdfDhtmlRichDialogService.prototype.launchWindow=function(a,b,c,d){AdfAssert.assertString(a);AdfAssert.assertString(b);AdfAssert.assertObject(c);AdfAssert.assertStringOrNull(d);var e=AdfPage.PAGE;try{AdfDhtmlRichDialogService._setBusy(!0);var f=AdfDhtmlRichDialogService._generateRtnId(),g=AdfDhtmlRichDialogService._normalizeLaunchSourceId(d),h=c.windowModalityType&&c.windowModalityType==AdfDhtmlRichDialogService._WINDOW_MODALITY_TYPE_APPLICATION_MODAL?!0:!1,d={launchSourceId:g,modal:h,windowName:b,
rtnId:f};AdfDhtmlRichDialogService._setDialogStateToken(f,d);h&&AdfDhtmlRichDialogService._showModalGlass();var k=AdfDhtmlRichDialogService._openWindow(a,b,c,f);d.childWindow=k;AdfDhtmlRichDialogService._setDialogStateToken(f,d);e.scheduleTimer(e,AdfDhtmlRichDialogService._setWindowFocus,f,100)}finally{AdfDhtmlRichDialogService._setBusy(!1)}};
AdfDhtmlRichDialogService.prototype.launchInline=function(a){AdfAssert.assertString(a);var b=AdfPage.PAGE;try{AdfDhtmlRichDialogService._setBusy(!0);var c=b.findComponent(a);AdfAssert.assertPrototype(c,AdfRichPopup);c.addEventListener(AdfPopupOpenedEvent.POPUP_OPENED_EVENT_TYPE,AdfDhtmlRichDialogService._popupOpenedHandler);c.addEventListener(AdfPopupClosedEvent.POPUP_CLOSED_EVENT_TYPE,AdfDhtmlRichDialogService._popupClosedHandler);c.getPeer().bind(c);var d=c.getProperty("_rtnId"),e=c.getProperty("_launchId"),
f=c.getProperty("_inlineFrameId"),g=c.getProperty("_isCancellationDisabled"),h=AdfDhtmlRichDialogService._normalizeLaunchSourceId(e);AdfDhtmlRichDialogService._setDialogStateToken(d,{launchSourceId:h,popupId:a,frameName:f,rtnId:d});a={};h&&(a[AdfRichPopup.HINT_LAUNCH_ID]=h);g&&(a[AdfDhtmlPopupWindow.HINT_CLOSE_ON_ESCAPE]=!1);c.show(a)}finally{AdfDhtmlRichDialogService._setBusy(!1)}};
AdfDhtmlRichDialogService.prototype.returnFrom=function(a){var b=AdfDhtmlRichDialogService._getDialogStateToken(a);if(b)try{AdfDhtmlRichDialogService._setBusy(!0);if(b.popupId)AdfDhtmlRichDialogService._hidePopup(b),AdfDhtmlRichDialogService._queueReturnEvent(b);else{if(!AdfDhtmlRichDialogService._closeWindow(b)){b.isReturnFromPending=!0;return}AdfDhtmlRichDialogService._queueReturnEvent(b);AdfDhtmlRichDialogService._notifyWindowClosed(a);b.modal&&AdfDhtmlRichDialogService._hideModalGlass()}AdfDhtmlRichDialogService._removeDialogStateToken(a)}finally{AdfDhtmlRichDialogService._setBusy(!1)}else AdfLogger.LOGGER.warning("dialog state missing or already returned for rtnId:",
a)};
AdfDhtmlRichDialogService.prototype.checkForWindowCanceled=function(a){AdfAssert.assertNumeric(a);var b=AdfDhtmlRichDialogService._getDialogStateToken(a);if(b)try{if(AdfDhtmlRichDialogService._setBusy(!0),b.childWindow.closed)b.modal&&AdfDhtmlRichDialogService._hideModalGlass(),b.isReturnFromPending&&AdfDhtmlRichDialogService._queueReturnEvent(b),AdfDhtmlRichDialogService._removeDialogStateToken(a),AdfDhtmlRichDialogService._notifyWindowClosed(a);else{var c=AdfPage.PAGE;c.scheduleTimer(c,AdfDhtmlRichDialogService.getInstance().checkForWindowCanceled,a,
100)}}finally{AdfDhtmlRichDialogService._setBusy(!1)}};AdfDhtmlRichDialogService._setBusy=function(a){AdfDhtmlRichDialogService.getInstance().Busy=a};AdfDhtmlRichDialogService.isBusy=function(){if(AdfDhtmlRichDialogService.getInstance().Busy)return!0;var a=AdfDhtmlRichDialogService.getInstance().StateMap;if(a)for(rtnId in a){var b=a[rtnId];if(b&&b.isReturnFromPending)return!0}return!1};
AdfDhtmlRichDialogService.prototype.cancelAll=function(){var a=AdfDhtmlRichDialogService.getInstance().StateMap;if(a)for(rtnId in a)AdfDhtmlRichDialogService._cancel(rtnId)};AdfDhtmlRichDialogService.prototype.__visitWindows=function(a){var b=AdfDhtmlRichDialogService.getInstance().StateMap;if(b)for(rtnId in b){var c=b[rtnId];c&&a(c)}};AdfDhtmlRichDialogService._setWindowFocus=function(a){AdfAssert.assertNumeric(a);(a=AdfDhtmlRichDialogService._getDialogStateToken(a))&&a.childWindow.focus()};
AdfDhtmlRichDialogService._cancel=function(a){AdfAssert.assertNumeric(a);var b=AdfDhtmlRichDialogService._getDialogStateToken(a);b&&(b.popupId?AdfDhtmlRichDialogService._cancelPopup(b):(AdfDhtmlRichDialogService._closeWindow(b),b.modal&&AdfDhtmlRichDialogService._hideModalGlass()),AdfDhtmlRichDialogService._removeDialogStateToken(a),AdfDhtmlRichDialogService._notifyWindowClosed(a))};
AdfDhtmlRichDialogService._queueReturnEvent=function(a){AdfAssert.assertObject(a);if(a=a.launchSourceId)if(a=AdfPage.PAGE.findComponent(a))(new AdfReturnEvent(a)).queue(),a.focus()};
AdfDhtmlRichDialogService._normalizeLaunchSourceId=function(a){if(!a||a.length==0)return null;var b=AdfPage.PAGE;if(!b.findComponent(a)){var c=a.lastIndexOf(":");if(c!=-1){var d=a.lastIndexOf(":",c-1);if(d!=-1){var d=a.substring(0,d),e=b.findComponent(d);if(e&&window.AdfUICollection&&e instanceof AdfUICollection&&(c=a.substring(c),c=d.concat(c),b.findComponent(c)))return c}}}return a};AdfDhtmlRichDialogService._generateRtnId=function(){return(new Date).getTime()};
AdfDhtmlRichDialogService._closeWindow=function(a){AdfAssert.assertObject(a);a=a.childWindow;a.close();return a.closed};AdfDhtmlRichDialogService._hidePopup=function(a){a=a.popupId;AdfAssert.assertString(a);a=AdfPage.PAGE.findComponent(a);AdfAssert.assertPrototype(a,AdfRichPopup);a&&(AdfDhtmlRichDialogService.__unloadDocument(a),a.hide())};
AdfDhtmlRichDialogService._cancelPopup=function(a){a=a.popupId;AdfAssert.assertString(a);a=AdfPage.PAGE.findComponent(a);AdfAssert.assertPrototype(a,AdfRichPopup);a&&(AdfDhtmlRichDialogService.__unloadDocument(a),a.cancel())};AdfDhtmlRichDialogService.__unloadDocument=function(a){AdfAssert.assertPrototype(a,AdfRichPopup);var b=AdfPage.PAGE,a=a.getProperty("_inlineFrameId"),b=b.findComponent(a),a=b.getPeer();a.bind(b);b=a.__getIframe();AdfAssert.assertDomElement(b,"IFRAME");b.setAttribute("src","about:blank")};
AdfDhtmlRichDialogService._getOpenDialogCount=function(){var a=0,b=AdfDhtmlRichDialogService.getInstance().StateMap;if(b)for(rtnId in b)a++;return a};AdfDhtmlRichDialogService._setDialogStateToken=function(a,b){var c=""+a,d=AdfDhtmlRichDialogService.getInstance().StateMap;if(!d)d={},AdfDhtmlRichDialogService.getInstance().StateMap=d;d[c]=b};AdfDhtmlRichDialogService._getDialogStateToken=function(a){var b=AdfDhtmlRichDialogService.getInstance().StateMap;if(!b)return null;return b[""+a]};
AdfDhtmlRichDialogService._removeDialogStateToken=function(a){var b=AdfDhtmlRichDialogService.getInstance().StateMap;b&&delete b[""+a]};AdfDhtmlRichDialogService._openWindow=function(a,b,c,d){var e=AdfPage.PAGE.getDomWindow();AdfCollections.union(AdfDhtmlRichDialogService._WINDOW_DEFAULT_FEATURES_MAP,c,c);c=AdfDhtmlRichDialogService._buildFeatureString(c);a=AdfDhtmlRichDialogService._encodeURL(a,d);b=e.open(a,b,c);try{b.opener=e}catch(f){AdfLogger.LOGGER.logErrorAsWarning(f," error setting opener of child window.")}return b};
AdfDhtmlRichDialogService._buildFeatureString=function(a){var b="",c;for(c in a)b.length>0&&(b+=","),b+=c+"="+a[c];return b};AdfDhtmlRichDialogService._encodeURL=function(a,b){AdfAssert.assertString(a);AdfAssert.assertNumeric(b);return a+"&_rtrnId="+b};AdfDhtmlRichDialogService._showModalGlass=function(){var a=AdfPage.PAGE,b=a.getModalityManager(),c=a.getZOrderManager(),a=a.getDomDocument().createElement("div");c.addElementToLayer(a,AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW);b.pushModal(a);c.removeElement(a)};
AdfDhtmlRichDialogService._hideModalGlass=function(){AdfPage.PAGE.getModalityManager().popModal()};AdfDhtmlRichDialogService.hasModalDialogsOpen=function(){var a=AdfDhtmlRichDialogService.getInstance().StateMap;if(a){var b=AdfPage.PAGE;for(rtnId in a){var c=a[rtnId];if(c&&c.modal)return!0;else if(c.popupId&&(c=b.findComponent(c.popupId),c.getPeer().bind(c),c=c.getProperty("_panelWindowId"),AdfAssert.assertString(c),c=b.findComponent(c),AdfAssert.assertPrototype(c,AdfRichPanelWindow),c.getModal()))return!0}}return!1};
AdfDhtmlRichDialogService._popupOpenedHandler=function(a){var b=AdfAgent.AGENT,c=AdfPage.PAGE,a=a.getSource(),d=a.getPeer();d.bind(a);var d=d.getDomElement(),e=a.getProperty("_panelWindowId"),f=a.getProperty("_inlineFrameId"),g=c.findComponent(f),h=g.getPeer();h.bind(g);g=h.__getIframe();AdfAssert.assertDomElement(g,"IFRAME");h=a.getProperty("_rtnId");b.setExpandoProperty(g,"_panelWindowId",e);b.setExpandoProperty(d,"_inlineFrameId",f);b.setExpandoProperty(g,"_rtnId",h);b.addBubbleEventListener(g,
"load",AdfDhtmlRichDialogService._iframeLoadHandler);b=a.getProperty("_dialogURL");g.src=b;0!=(c.getPPRNavigationOptions()&AdfDhtmlPage.PPR_NAVIGATION_ON)&&AdfDhtmlRichDialogService._checkForIframeTitleChangeWithPPRNavOn(h)};
AdfDhtmlRichDialogService._popupClosedHandler=function(a){var b=AdfAgent.AGENT,a=a.getSource(),c=a.getPeer();c.bind(a);c=c.getDomElement();c=b.getExpandoProperty(c,"_inlineFrameId");a=a.getProperty("_rtnId");c=AdfPage.PAGE.findComponent(c);AdfAssert.assertPrototype(c,AdfRichInlineFrame);var d=c.getPeer();d.bind(c);c=d.__getIframe();AdfAssert.assertDomElement(c,"IFRAME");b.removeBubbleEventListener(c,"load",AdfDhtmlRichDialogService._iframeLoadHandler);AdfDhtmlRichDialogService._removeDialogStateToken(a);
AdfDhtmlRichDialogService._notifyWindowClosed(a)};AdfDhtmlRichDialogService._iframeLoadHandler=function(a){var b=AdfAgent.AGENT,c=AdfPage.PAGE,d=b.getEventTarget(a);if(!d)d=a.currentTarget;AdfAssert.assertDomElement(d,"IFRAME");a=b.getExpandoProperty(d,"_panelWindowId");AdfAssert.assertString(a);c=c.findComponent(a);AdfAssert.assertPrototype(c,AdfRichPanelWindow);(d=d.contentWindow.document.title)&&c.setTitle(d)};
AdfDhtmlRichDialogService._checkForIframeTitleChangeWithPPRNavOn=function(a){AdfAssert.assertNumeric(a);var b=AdfDhtmlRichDialogService._getDialogStateToken(a);if(b){var c=AdfPage.PAGE,b=b.popupId;AdfAssert.assertString(b);if(b=c.findComponent(b)){AdfAssert.assertPrototype(b,AdfRichPopup);var d=b.getPeer();d.bind(b);d=d.getDomElement();b=AdfAgent.AGENT;d=b.getExpandoProperty(d,"_inlineFrameId");d=AdfPage.PAGE.findComponent(d);AdfAssert.assertPrototype(d,AdfRichInlineFrame);var e=d.getPeer();e.bind(d);
d=e.__getIframe();AdfAssert.assertDomElement(d,"IFRAME");b=b.getExpandoProperty(d,"_panelWindowId");AdfAssert.assertString(b);b=c.findComponent(b);AdfAssert.assertPrototype(b,AdfRichPanelWindow);(d=d.contentWindow.document.title)&&b.setTitle(d);c.scheduleTimer(c,AdfDhtmlRichDialogService._checkForIframeTitleChangeWithPPRNavOn,a,3E3)}}};AdfDhtmlRichDialogService._notifyWindowClosed=function(a){AdfPage.PAGE.__notifyWindowCloseImmediately(!0,a)};
AdfDhtmlRichDialogService._WINDOW_MODALITY_TYPE_APPLICATION_MODAL="applicationModal";AdfDhtmlRichDialogService._WINDOW_DEFAULT_FEATURES_MAP={alwayslowered:1,alwaysraised:1,channelmode:0,copyhistory:0,dependent:1,directories:0,fullscreen:0,hotkeys:1,location:0,menubar:0,resizable:1,scrollbars:1,status:1,titlebar:1,toolbar:1,"z-lock":1};
function AdfRichInlineEditor(){}AdfObject.createSubclass(AdfRichInlineEditor);AdfRichInlineEditor.FILTER_UNSELECTABLE=0;AdfRichInlineEditor.FILTER_SELECTABLE=1;AdfRichInlineEditor.FILTER_EDITABLE=2;AdfRichInlineEditor.prototype.Init=function(){AdfRichInlineEditor.superclass.Init.call(this);this._component=null};AdfRichInlineEditor.prototype.preEdit=function(a){var b=this._component,c=!1;try{this._component=a,c=this.PreEdit()}finally{this._component=b}return c};
AdfRichInlineEditor.prototype.startEdit=function(a){AdfAssert.assertPrototype(a,AdfUIComponent);AdfAssert.assert(this._component==null,"start called on an already started inline editor");this._component=a};AdfRichInlineEditor.prototype.getEditedComponent=function(){return this._component};AdfRichInlineEditor.prototype.getEditedProperty=function(){AdfAssert.failedInAbstractFunction()};AdfRichInlineEditor.prototype.handleEvent=function(){};
AdfRichInlineEditor.prototype.stopEdit=function(){this._component=null};AdfRichInlineEditor.prototype.GetEditedPeer=function(){var a=this._component,b=a.getPeer();b.bind(a);return b};AdfRichInlineEditor.prototype.PreEdit=function(){AdfAssert.failedInAbstractFunction()};