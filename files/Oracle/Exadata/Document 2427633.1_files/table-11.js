function AdfTableDataFetchEvent(a,b,c,d,e){this.Init(a,b,c,d,e)}AdfObject.createSubclass(AdfTableDataFetchEvent,AdfComponentEvent);AdfTableDataFetchEvent.FETCH_EVENT_TYPE="fetch";AdfTableDataFetchEvent.prototype.Init=function(a,b,c,d,e){AdfTableDataFetchEvent.superclass.Init.call(this,a,AdfTableDataFetchEvent.FETCH_EVENT_TYPE);this._id=b;this._index=d;this._clientKey=e;this._subtype=c;this._renderOnly=!1;this.setRoot(a)};
AdfTableDataFetchEvent.prototype.setClientTokens=function(a){this._clientTokens=a};AdfTableDataFetchEvent.prototype.setOldClientKey=function(a){this._oldClientKey=a};AdfTableDataFetchEvent.prototype.setColumnClientId=function(a){this._columnClientId=a};AdfTableDataFetchEvent.prototype.setOldColumnClientId=function(a){this._oldColumnClientId=a};AdfTableDataFetchEvent.prototype.setFillRows=function(a){this._fillRows=a};
AdfTableDataFetchEvent.prototype.setLastClientKey=function(a){this._lastClientKey=a};AdfTableDataFetchEvent.prototype.setActivatePreviousCell=function(){this._activatePreviousCell=!0};AdfTableDataFetchEvent.prototype.setRenderOnly=function(a){this._renderOnly=a};
AdfTableDataFetchEvent.prototype.AddMarshalledProperties=function(a){AdfTableDataFetchEvent.superclass.AddMarshalledProperties.call(this,a);a.id=this._id;a.subtype=this._subtype;if(this._index!=void 0)a.index=this._index;if(this._clientKey)a.clientKey=this._clientKey;if(this._clientTokens)a.clientTokens=this._clientTokens;if(this._oldClientKey)a.oldClientKey=this._oldClientKey;this._renderOnly&&(a.renderOnly=!0);if(this._fillRows)a.fillRows=this._fillRows;if(this._lastClientKey)a.lastClientKey=this._lastClientKey;
if(this._columnClientId)a.columnClientId=this._columnClientId;if(this._oldColumnClientId)a.oldColumnClientId=this._oldColumnClientId;if(this._activatePreviousCell)a.activatePreviousCell=this._activatePreviousCell};AdfTableDataFetchEvent.prototype.getClearMessages=function(){return!1};AdfTableDataFetchEvent.prototype.propagatesToServer=function(){return!0};
AdfTableDataFetchEvent.prototype.isValidationNeeded=function(){if(this._subtype==AdfTableDataFetchEvent.INITIAL_SUBTYPE||this._subtype==AdfTableDataFetchEvent.EXPAND_SUBTYPE||this._subtype==AdfTableDataFetchEvent.COLLAPSE_SUBTYPE)return!1;return!0};AdfTableDataFetchEvent.INITIAL_SUBTYPE=0;AdfTableDataFetchEvent.BEFORE_KEY_SUBTYPE=1;AdfTableDataFetchEvent.AFTER_KEY_SUBTYPE=2;AdfTableDataFetchEvent.FROM_INDEX_SUBTYPE=3;AdfTableDataFetchEvent.UP_TO_INDEX_SUBTYPE=4;
AdfTableDataFetchEvent.EXPAND_SUBTYPE=5;AdfTableDataFetchEvent.COLLAPSE_SUBTYPE=6;AdfTableDataFetchEvent.CLICK_EDIT_ACTIVE_ROW=7;
function AdfRangeChangeEvent(a,b,c,d,e){this.Init(a,b,c,d,e)}AdfObject.createSubclass(AdfRangeChangeEvent,AdfComponentEvent);AdfRangeChangeEvent.prototype.Init=function(a,b,c,d,e){AdfAssert.assertPrototype(a,AdfUIComponent);this._oldStart=b;this._oldEnd=c;this._newStart=d;this._newEnd=e;this.setRoot(a);this.setPartial(!0);AdfRangeChangeEvent.superclass.Init.call(this,a,"rangeChange")};
AdfRangeChangeEvent.prototype.AddMarshalledProperties=function(a){a.oldStart=this._oldStart;a.oldEnd=this._oldEnd;a.newStart=this._newStart;a.newEnd=this._newEnd};AdfRangeChangeEvent.prototype.propagatesToServer=function(){return!0};AdfRangeChangeEvent.prototype.isValidationNeeded=function(){return!0};AdfRangeChangeEvent.prototype.isImmediate=function(){return this.getSource().getImmediate()};AdfRangeChangeEvent.queue=function(a,b,c,d,e){(new AdfRangeChangeEvent(a,b,c,d,e)).queue(!0)};
function AdfTableShowColumnsEvent(a,b,c){this.Init(a,b,c)}AdfObject.createSubclass(AdfTableShowColumnsEvent,AdfComponentEvent);AdfTableShowColumnsEvent.SHOW_COLUMN_EVENT_TYPE="showColumns";AdfTableShowColumnsEvent.prototype.Init=function(a,b,c){AdfTableShowColumnsEvent.superclass.Init.call(this,a,AdfTableShowColumnsEvent.SHOW_COLUMN_EVENT_TYPE);this._columnIds=b;this._showType=c;this.setPartial(!0);this.setRoot(a)};AdfTableShowColumnsEvent.prototype.getShowType=function(){return this._showType};
AdfTableShowColumnsEvent.prototype.setTargetColumnId=function(a){this._targetColumnId=a};AdfTableShowColumnsEvent.prototype.setAfterTarget=function(a){this._afterTarget=a};AdfTableShowColumnsEvent.prototype.AddMarshalledProperties=function(a){AdfTableShowColumnsEvent.superclass.AddMarshalledProperties.call(this,a);if(this._columnIds)a.columnIds=this._columnIds;a.showType=this._showType;if(this._targetColumnId)a.targetColumnId=this._targetColumnId;if(this._afterTarget)a.afterTarget=this._afterTarget};
AdfTableShowColumnsEvent.prototype.propagatesToServer=function(){return!0};AdfTableShowColumnsEvent.prototype.isValidationNeeded=function(){return!0};
AdfUIComponents.createComponentClass("AdfRichTable",{componentType:"oracle.adf.RichTable",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"columnSelection",type:"String","default":"none"},{name:"horizontalGridVisible",type:"Boolean","default":!0},{name:"verticalGridVisible",type:"Boolean","default":!0},{name:"emptyText",type:"String","default":"No data to display."},
{name:"columnBandingInterval",type:"Number","default":0},{name:"rowBandingInterval",type:"Number","default":1},{name:"summary",type:"String"},{name:"clearTokenCacheOnPPR",type:"Boolean","default":!0},{name:"freezeDirection",type:"String","default":"start"},{name:"selectionEventDelay",type:"String","default":"disabled"},{name:"bodyContextMenuId",type:"String"},{name:"columnStretching",type:"String","default":"none"},{name:"columnResizing",type:"String","default":"enabled"},{name:"contextMenuId",type:"String"},
{name:"displayRow",type:"String","default":"first"},"displayRowKey",{name:"disableColumnReordering",type:"Boolean","default":!1},{name:"width",type:"String"},{name:"scrollTop",type:"Number","default":0},{name:"scrollLeft",type:"Number","default":0},"scrollTopRowKey",{name:"contentDelivery",type:"String","default":"whenAvailable"},{name:"fetchSize",type:"Number","default":25},"activeRowKey",{name:"rowSelection",type:"String","default":"none"},{name:"contextMenuSelect",type:"Boolean","default":!0},
{name:"editingMode",type:"String","default":"editAll"},{name:"autoHeightRows",type:"Number","default":-1},{name:"blockRowNavigationOnError",type:"String","default":"auto"},{name:"scrollPolicy",type:"String","default":"auto"},{name:"persist",type:"Array"},{name:"dontPersist",type:"Array"},{name:"allDetailsEnabled",type:"Boolean","default":!1},{name:"filterVisible",type:"Boolean","default":!1},"columnSelectionListener"],eventNames:["columnSelection"],namingContainer:!0,superclass:AdfUITable2});
AdfRichTable.prototype.getAccessibleName=function(){return this.getShortDesc()};AdfRichTable.prototype.scrollColumnIntoView=function(a){this.getPeer().scrollColumnIntoView(a)};AdfRichTable.prototype.getRowIndex=function(a){return this.getPeer().getRowIndex(a)};AdfRichTable.prototype.getRowKey=function(a){return this.getPeer().getRowKey(a)};AdfRichTable.prototype.isEmpty=function(){return this.getRowKey(this.getFirst())==null};
AdfRichTable.prototype.scrollToRowIndex=function(a,b){this.getPeer().scrollToRowIndex(a,b)};
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlTableBasePeer",!1);
AdfDhtmlTableBasePeer.InitSubclass=function(){AdfRichUIPeer.addDomEventHandlers(this,AdfDhtmlLookAndFeel.SCROLL_EVENT_TYPE,AdfDhtmlLookAndFeel.KEY_DOWN_EVENT_TYPE,AdfDhtmlLookAndFeel.MOUSE_MOVE_EVENT_TYPE);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfComponentEvent.FOCUS_EVENT_TYPE,AdfComponentEvent.BLUR_EVENT_TYPE,AdfUIInputEvent.DOUBLE_CLICK_EVENT_TYPE,
AdfComponentEvent.CONTEXT_MENU_EVENT_TYPE,AdfValueChangeEvent.VALUE_CHANGE_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,"selectedRowKeys","disclosedRowKeys","scrollTop","scrollLeft","activeRowKey");AdfRichUIPeer.addSuppressedPPRAttributes(this,"first");AdfRichUIPeer.addSuppressedPPRAttributes(this,"rows");AdfRichUIPeer.addSuppressedPPRAttributes(this,"scrollTop");AdfRichUIPeer.addSuppressedPPRAttributes(this,"scrollLeft");AdfRichUIPeer.addSuppressedPPRAttributes(this,"scrollTopRowKey");AdfRichUIPeer.addSuppressedPPRAttributes(this,
"activeRowKey");this._SEL_UPDATE_ALL_SELECT=0;this._SEL_UPDATE_ALL_UNSELECT=1;this._SEL_UPDATE_ALL_UPDATE=2;this.SCROLL_SUCCEEDED=0;this.SCROLL_INDEX_NOT_FOUND=1;this.SCROLL_CANCELLED=2;this.MISSING_AFTER=1;this.MISSING_BEFORE=2;this.NO_BLOCKS=4;this.VIEWPORT_SATISFIED=0;this.NO_SCROLL=-1;this.DW_SUB_ID="dataW";this._ROW_KEY="_afrRK";this._ROW_HEADER="_afrRH";this._LEAF_COLUMN="_afrLeaf";this._ROOT_COLUMN="_afrRoot";this._FILTER_COLUMN="_afrFilterCol";this._PANEL_COLLECTION_ID="_afrPCId";this._SELECT_ALL=
"_afrSelAll";this._COL_COUNT="_afrColCount";this._FILTERABLE="_afrFilterable";this.__SORT_INDICATOR="afrSI";this._SORT_ASCENDING="_afrSortAsc";this._SORT_DESCENDING="_afrSortDesc";this._SORTED_TYPE="_afrSorted";this._SORTED_ASCENDING="1";this._SORTED_DESCENDING="2";this._SUPPORTS_HOVER="_afrHoverable";this.SELECTALL_KEY_PROPERTY="afrSelectAll";this._SELECTED_CLASS="p_AFSelected";this._INACTIVE_CLASS="p_AFInactive";this._DROP_TARGET_CLASS="p_AFDropTarget";this._HIGHLIGHTED_CLASS="p_AFHighlighted";
this._FOCUSED_CLASS="p_AFFocused";this._AUTOSCROLL_MARGIN=40;this._HSCROLLER=0;this._VSCROLLER=1;this._SELECTION_SINGLE="single";this._SELECTION_MULTIPLE="multiple";this._SELECTION_MULTIPLE_NOSELECTALL="multipleNoSelectAll";this._SELECTION_NONE="none";this._EDIT_MODE_CLICKTOEDIT="clickToEdit";this._MAXIMUM_ROW_REVEAL=8;this._SELECT_PAGE_UP=1;this._SELECT_PAGE_DOWN=2;this._SELECT_ARROW_UP=3;this._SELECT_ARROW_DOWN=4;this._FOCUS_RH_ARROW_UP=5;this._FOCUS_RH_ARROW_DOWN=6;this._FOCUS_ROW_ARROW_UP=7;this._FOCUS_ROW_ARROW_DOWN=
8;this._ROW_HEADER_FOCUS_TYPE=0;this._COLUMN_HEADER_FOCUS_TYPE=1;this._TABLE_BODY_FOCUS_TYPE=2;this._SELECT_ALL_FOCUS_TYPE=3;this._FETCH_MORE_CANVAS_SPACE=25;this._INPUT_REGEXP=/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/;this._TWINKLE_ON_STYLE_CLASS="p_AFTwinkleOn";this._TWINKLE_OFF_STYLE_CLASS="p_AFTwinkleOff";AdfDhtmlTableBasePeer._TWINKLE_TIMER_ID_ATTR="__afrTwinkleTimer";this._ICON_STYLE_EXPANDED="af|table::disclosed-icon-style";this._ICON_STYLE_COLLAPSED="af|table::undisclosed-icon-style";this._ICON_EXPANDED=
"af|table::disclosed-icon";this._ICON_COLLAPSED="af|table::undisclosed-icon";this._EXPANDED_NODE_KEY="af_table.TIP_EXPANDED_NODE";this._COLLAPSED_NODE_KEY="af_table.TIP_COLLAPSED_NODE";this._DETAIL_COLUMN_MARKER="_afrDetCol";this._DETAIL_ROW_MARKER="_afrDetRow";this._HAS_DETAIL_MARKER="_hasDetail";this.NEEDS_REFRESH_ATTRIBUTE="_afrNdsRfr";this.UNDO_FETCH_ATTRIBUTE="_afrUndFch";this.NO_RESIZE_MARKER="_noRsz";this._AUTO_HEIGHT_ROWS="_afrAutoHR";this._CSS_HEIGHT_LIMIT=5E5;this._NAVBAR_FIRST="nb_fr";
this._NAVBAR_PREVIOUS="nb_pv";this._NAVBAR_NEXT="nb_nx";this._NAVBAR_LAST="nb_ls";this._NAVBAR_PAGE="nb_pg";this._NAVBAR_PAGE_CNT="nb_cnt_pg";this._NAVBAR_PAGE_INPUT="nb_in_pg";this._NAVBAR_RANGE_TEXT="nb_rng";this._DEFAULT_MAX_CACHED_ROWS_FOR_TOUCH=300;this._MAX_CACHED_ROWS_FOR_TOUCH="_afrMaxTouchRows";this._DATAWRAPPER="dbw";this._SCROLLBAR_BEHAVIOR="_afrScrollBarBehavior";this._SCROLLBAR_BEHAVIOR_OVERLAY="overlay"};
AdfDhtmlTableBasePeer.prototype.InitDomElement=function(a,b){var c=AdfPage.PAGE,d=AdfAgent.AGENT;AdfDhtmlTableBasePeer.superclass.InitDomElement.call(this,a,b);AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlTableBasePeer,b,AdfDhtmlLookAndFeel.MOUSE_MOVE_EVENT_TYPE);AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlTableBasePeer,b,AdfDhtmlLookAndFeel.KEY_DOWN_EVENT_TYPE);this._autoHeightRows=d.getIntAttribute(b,AdfDhtmlTableBasePeer._AUTO_HEIGHT_ROWS,0);var e=this.GetDatabody(b);this._colCount=
e?d.getIntAttribute(e,AdfDhtmlTableBasePeer._COL_COUNT,0):0;this._colSelEventSelectedColIds={};this._colSelEventUnselectedColIds={};this._supportsFocusRowNavigation=this.SupportsFocusRowNavigation(a);this._contextMenuSelect=a.getContextMenuSelect();if(!a.getColumnResizing||a.getColumnResizing()=="enabled")this._colResizeDragCallback=this.createCallback(this._handleColResizeDrag),this._colResizeDropCallback=this.createCallback(this._handleColResizeDrop);if(a.getColumnStretching)if(this._columnStretching=
e=a.getColumnStretching(),e=="blank")this._stretchedColumnId="_afrBlankColumn";else if(e.indexOf("column:")==0)this._stretchedColumnId=e.substring(7);this._editableTableReadOnlyMode=!1;this._hoverHighlightRow=this._isRowSelectionEnabled(a)&&c.getLookAndFeel().getSkinProperty("af|table-tr-hover-highlight-row")!="false";this._activeDataCount=-1;this._fetchId=0;this._lastColWidth=this._lastColWidthOverride=this._unavailableRowIndex=-1;this._associatedId=a.getProperty("_afrMasterId");if(this._associatedId==
null)this._associatedId=a.getProperty("_afrSlaveId");this._focusManager={};this._streamingDisabled=c.isStreamingDisabled();this._isTouch=d.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE;this._maxCachedRowsForTouch=a.getProperty(AdfDhtmlTableBasePeer._MAX_CACHED_ROWS_FOR_TOUCH)!=null?a.getProperty(AdfDhtmlTableBasePeer._MAX_CACHED_ROWS_FOR_TOUCH):AdfDhtmlTableBasePeer._DEFAULT_MAX_CACHED_ROWS_FOR_TOUCH;this._scrollbarBehavior=d.getOS()==AdfAgent.MAC_OS?null:a.getProperty(AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR);
this._hShiftDatabody="0px"};AdfDhtmlTableBasePeer.prototype.TruncateClientId=function(a,b,c,d){b=c.split(":");a=a.getClientId();a=AdfStrings.count(a,":")+1;(b=b[a])&&(isNaN(b)||d.push(a))};AdfDhtmlTableBasePeer.prototype.ComponentRemoved=function(a){AdfDhtmlTableBasePeer.superclass.ComponentRemoved.call(this,a)};AdfDhtmlTableBasePeer.prototype.needsChildVisibilityChanges=function(){return!0};
AdfDhtmlTableBasePeer.prototype.ChildVisibilityChanged=function(){AdfPage.PAGE.addPartialTargets(this.getComponent());return!0};AdfDhtmlTableBasePeer.prototype.SupportsFocusRowNavigation=function(){return!1};AdfDhtmlTableBasePeer.prototype.needsResizeNotify=function(){return!0};
AdfDhtmlTableBasePeer.prototype.GetPanelCollectionPeer=function(){if(!this._pcPeer){var a=null,a=CSCOCall_getAttribute(this.getDomElement(),"getAttribute",AdfDhtmlTableBasePeer._PANEL_COLLECTION_ID);if(a!=null&&(a=AdfPage.PAGE.findComponent(a)))this._pcPeer=a.getPeer()}return this._pcPeer};AdfDhtmlTableBasePeer.prototype.GetPanelCollectionComponent=function(){if(!this._pcComponent){var a=CSCOCall_getAttribute(this.getDomElement(),"getAttribute",AdfDhtmlTableBasePeer._PANEL_COLLECTION_ID);if(a!=null)this._pcComponent=AdfPage.PAGE.findComponent(a)}return this._pcComponent};
AdfDhtmlTableBasePeer.prototype._allRowsAvailableOnClient=function(a,b){var c=!1;if(b>0)var c=a[0],d=a[b-1],d=d.startRow+d.numRows,e=this.GetRowCount(),c=e>0&&c.startRow==0&&d==e;return c};
AdfDhtmlTableBasePeer.prototype.ResizeNotify=function(a,b,c,d){delete this._cachedFirstVisibleRowKeyAndRow;if(this._virtInitialized){a=AdfAgent.AGENT;b=this.GetDatabody();this._setScrollerHeight(d,this._cachedCHHeight,this._cachedCFHeight,this._cachedNBHeight);this._setScrollerWidth(c,this._frozenWidth);this.SizeDatabody(b,c,d);a=this.__getScrollLeft();(this._currentScrollTop!=this._getScrollTop()||this._currentScrollLeft!=a)&&this.scrollToPos(this._currentScrollLeft,this._currentScrollTop);this._stretchTheColumns();
this._syncDataBodyHeights();if(!this._isPaged&&this._rowCount==-1&&this._canvasHeight<d-this._cachedCHHeight-this._cachedCFHeight)this._canvasHeight=d-this._cachedCHHeight-this._cachedCFHeight+AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE,this._setFakeCanvasHeight(this._canvasHeight);this._fillViewPort(b,b.offsetHeight,!1)}else if(this._isImmediateContentDelivery(this.getComponent())||this._isInlineDataAvailable(this.getComponent())){b=this.GetDatabody();a=null;if(b){this._unavailableRowIndex=this._getUnavailableRowIndex(b);
for(var b=b.childNodes,e=b.length-1;e>=0;e--)if("TABLE"==b[e].tagName){a=b[e];break}}this._fixOuterHeight();this._initColumnHeader();this._initColumnFooter();this._initNavBar();a!=null&&a.rows.length>0?(this._initVirtualization(a,!0),this._processClickToEditRequestTimerId=AdfPage.PAGE.scheduleTimer(this,this._processClickToEditRequest,!1,10)):(this.IsEmpty=!0,this.getDomElement().style.overflow="auto",this.AdjustAutoHeight(),this._updatePCState());this._stretchTheColumns();if(this.IsEmpty){if(a=this.__getColumnHeader())if(b=
this.getDomElement(),a.style.border="0px",e=a.offsetWidth,e<=b.clientWidth)b.style.overflow="hidden";if(e=this._getColumnFooter())if(b=this.getDomElement(),e.style.border="0px",e.offsetWidth<=b.clientWidth)b.style.overflow="hidden";(a||e)&&this.AdjustAutoHeight()}}else if(this._firstBlockRequested)!this._headerless&&this.IsEmpty&&this._stretchTheColumns(),this.IsEmpty&&this._autoHeightRows>0&&(!this._hasSingleScroller()||this._isPaged)&&this.AdjustAutoHeight();else{a=AdfAgent.getAgent();b=this.getDomElement();
this.IsEmpty=a=CSCOCall_getAttribute(a,"getAttribute",b,"_afrEmpty",!1);if(!a)this._firstBlockRequested=!0,b=this.getComponent(),(this._streamingDisabled||!AdfPage.PAGE.isStreamingRequestPending(b.getClientId()))&&this._queueFetchEvent(!0,AdfTableDataFetchEvent.INITIAL_SUBTYPE,-1),AdfDhtmlTableBasePeer.SetCursor(this.GetDatabody(),"wait");this._initColumnHeader();this._initColumnFooter();this._initNavBar();a||this.DisplayStatus(AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_table.LABEL_FETCHING"),!0);if(a){this.getDomElement().style.overflow=
"auto";this._stretchTheColumns();if(a=this.__getColumnHeader())if(b=this.getDomElement(),a.style.border="0px",e=a.offsetWidth,e<=b.clientWidth)b.style.overflow="hidden";this._updatePCState()}}this._hasNavBar&&this._resizeNavBar(c,d)};
AdfDhtmlTableBasePeer.prototype._initColumnHeader=function(){var a=AdfAgent.getAgent(),b=a.getIntAttribute(this.getDomElement(),"_lastFrozen",-1),a=a.getIntAttribute(this.getDomElement(),"_firstFrozen",-1);this._lastFrozen=b;this._firstFrozen=a;if(b=this.__getColumnHeader()){if(this._autoHeightRows>0&&this._hasFrozenColumn()&&!this._columnHeaderUnwrapped){var c=AdfDhtmlTableBasePeer.FindFirstChildByTagName(b,"TABLE"),d=c.rows[0],e=a=null;this._freezeColumnsToEnd()?(a=AdfDhtmlTableBasePeer.FindFirstChildByTagName(d.cells[1],
"TABLE"),e=AdfDhtmlTableBasePeer.FindFirstChildByTagName(d.cells[0],"DIV")):(a=AdfDhtmlTableBasePeer.FindFirstChildByTagName(d.cells[0],"TABLE"),e=AdfDhtmlTableBasePeer.FindFirstChildByTagName(d.cells[1],"DIV"));CSCOCall_removeChild(a.parentNode,"removeChild",a);CSCOCall_removeChild(e.parentNode,"removeChild",e);CSCOCall_removeChild(b,"removeChild",c);this._freezeColumnsToEnd()?CSCOPut_cssText(e.style,"overflow:hidden;position:absolute;top:0px;"):(c=a.style.width,d="left:",AdfDhtmlTableBasePeer._isRTL()&&(d="right:"), CSCOPut_cssText(e.style,"overflow:hidden;position:absolute;top:0px;"+
d+c));this._freezeColumnsToEnd()?(CSCOCall_appendChild(b,"appendChild",e), CSCOCall_appendChild(b,"appendChild",a)):(CSCOCall_appendChild(b,"appendChild",a), CSCOCall_appendChild(b,"appendChild",e));this._columnHeaderUnwrapped=!0}this._synchronizeColumnRowHeights(b,"t","d2","t2");this._cachedCHHeight=b.offsetHeight;if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM&&AdfAgent.AGENT.getVersion()<8){if((c=AdfDhtmlTableBasePeer.__getChildBySubId(b,"t"))&&c.rows.length)c.rows[0].style.position="absolute";if(b=AdfDhtmlTableBasePeer.__getChildBySubId(b,"d2")){if((c=AdfDhtmlTableBasePeer.__getChildBySubId(b,
"t2"))&&c.rows.length)c.rows[0].style.position="absolute";if(AdfDhtmlTableBasePeer._isRTL())c.style.right="0px"}}}else this._headerless=!0,this._cachedCHHeight=0};AdfDhtmlTableBasePeer.prototype._hasFrozenColumn=function(){return this._lastFrozen>=0||this._firstFrozen>=0};AdfDhtmlTableBasePeer.prototype._freezeColumnsToStart=function(){return this._lastFrozen>=0};AdfDhtmlTableBasePeer.prototype._freezeColumnsToEnd=function(){return this._firstFrozen>=0};
AdfDhtmlTableBasePeer.prototype._areAllColumnsFrozen=function(a){return this._lastFrozen>=0&&a==this._lastFrozen+1||this._firstFrozen==0};AdfDhtmlTableBasePeer.prototype._isColumnFrozen=function(a){return this._lastFrozen>=0&&a<=this._lastFrozen||this._firstFrozen>=0&&a>=this._firstFrozen};AdfDhtmlTableBasePeer.prototype._hasSingleScroller=function(){return this._footerless&&!this._freezeColumnsToEnd()};
AdfDhtmlTableBasePeer.prototype._initColumnFooter=function(){AdfAgent.getAgent();var a=this._getColumnFooter();a?(this._synchronizeColumnRowHeights(a,"ft","fd2","ft2"),this._cachedCFHeight=a.offsetHeight):(this._footerless=!0,this._cachedCFHeight=0)};
AdfDhtmlTableBasePeer.prototype._initNavBar=function(){var a=this._getNavigationBar();if(a){this._hasNavBar=!0;this._cachedNBHeight=a.offsetHeight;var b=AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(this.getComponent().getClientId(),"nb_cnt"));this._cachedNBWidth=b.offsetWidth;this._isPaged=!0;this.RegisterFirstPropertyChange();if(this.getComponent().getProperty("_afrSlaveId")!=null||this.getComponent().getProperty("_afrMasterId")!=null)a.firstChild.style.display="none",a.style.height=0,
this._cachedNBHeight=a.offsetHeight,this._cachedNBWidth=b.offsetWidth}else this._cachedNBWidth=this._cachedNBHeight=0;this._nbarMin=!1};
AdfDhtmlTableBasePeer.prototype.__fixPanelCollectionDimensions=function(a){if(this._autoHeightRows){var b=this.getDomElement(),c=this.GetPanelCollectionPeer(),d=c.getDomElement(),e=c.getDomElement(),f=this.GetPanelCollectionComponent(),g=AdfAgent.getAgent(),h=g.getPlatform()==AdfAgent.WEBKIT_PLATFORM;if(c&&f){var k=f.getClientId(),f=g.getElementById(AdfRichUIPeer.CreateSubId(k,c.__getAutoHeightTopFacetId())),k=g.getElementById(AdfRichUIPeer.CreateSubId(k,c.__getAutoHeightBottomFacetId())),f=f?f.offsetHeight:
0,k=k?k.offsetHeight:0;if(c.isDetached())d=b.parentNode.parentNode,c=b.style,!a&& CSCOCall_getAttribute(e,"getAttribute","_afrPreDetachW")==null&&(CSCOCall_setAttribute(e,"setAttribute","_afrPreDetachW",c.width), CSCOCall_setAttribute(e,"setAttribute","_afrPreDetachH",c.height)),h?(e=g.getComputedStyle(b),b.style.width=d.clientWidth-parseInt(e.borderLeftWidth)-parseInt(e.borderRightWidth)+"px"):g.setOuterWidth(b,d.clientWidth),g.setOuterHeight(b,d.clientHeight-f-k);else{g=CSCOCall_getAttribute(e,"getAttribute","_afrPreDetachH");if(g!=void 0)b.style.height=g,b.style.width="",e.removeAttribute("_afrPreDetachW"),
e.removeAttribute("_afrPreDetachH");d.style.height=b.offsetHeight+f+k+"px"}}}};AdfDhtmlTableBasePeer.prototype._isContainerStretched=function(){var a=this.getDomElement().style;return a.position=="absolute"&&a.top&&a.top.length>0&&a.bottom&&a.bottom.length>0};
AdfDhtmlTableBasePeer.prototype._isPCContainerStretched=function(){var a=!1;this.getDomElement();var b=this.GetPanelCollectionPeer();if(b)a=b.getDomElement().style,a=a.position=="absolute"&&a.top&&a.top.length>0&&a.bottom&&a.bottom.length>0;return a};AdfDhtmlTableBasePeer.prototype.isHeightAutoSized=function(){return this._autoHeightRows>0};
AdfDhtmlTableBasePeer.prototype._fixOuterHeight=function(){var a=!1;if(this._autoHeightRows>0){var b=AdfAgent.AGENT,c=this.getDomElement(),d=c.style;if(d.height=="auto"&&!this._isContainerStretched()){if(b.getPlatform()==AdfAgent.IE_PLATFORM&&b.getVersion()<8&&c.scrollWidth<=c.offsetWidth)d.height=c.clientHeight+"px",a=!0;a||(b.setOuterHeight(c,c.offsetHeight),a=!0)}d.overflowX="";d.overflowY=""}return a};AdfDhtmlTableBasePeer.prototype.BeginHandleDataBlocks=function(){};
AdfDhtmlTableBasePeer.prototype.ReplaceDomElement=function(a,b){var c=a.id;if(c.indexOf(AdfDhtmlTableBasePeer.DW_SUB_ID)>0){var c=AdfAgent.AGENT,d=this.GetDatabody();this.BeginHandleDataBlocks();var e=AdfDhtmlTableBasePeer._findFirstLevelChildrenByTagName(a,"TABLE");this._unavailableRowIndex=this._getUnavailableRowIndex(a);var f=!1;if(this._virtInitialized){e.length==0&&(f=!0);var g=c.getIntAttribute(a,"_fetchId",-1),h=this._pendingFetch;if(h!=void 0&&this._pendingId==g){g=this._pendingRenderOnly;
this.CancelPendingFetch();this._cleanUpDataFetchElement(b);if(c.getBooleanAttribute(a,AdfDhtmlTableBasePeer.NEEDS_REFRESH_ATTRIBUTE,!1)){AdfPage.PAGE.addPartialTargets(this.getComponent());return}if(c.getBooleanAttribute(a,AdfDhtmlTableBasePeer.UNDO_FETCH_ATTRIBUTE,!1)){h==AdfTableDataFetchEvent.FROM_INDEX_SUBTYPE||h==AdfTableDataFetchEvent.UP_TO_INDEX_SUBTYPE||h==AdfTableDataFetchEvent.AFTER_KEY_SUBTYPE||h==AdfTableDataFetchEvent.BEFORE_KEY_SUBTYPE?this._undoScroll():h==AdfTableDataFetchEvent.EXPAND_SUBTYPE||
h==AdfTableDataFetchEvent.COLLAPSE_SUBTYPE?this._restoreSavedDisclosureState():h==AdfTableDataFetchEvent.CLICK_EDIT_ACTIVE_ROW&&this._restoreActiveRowKey();AdfDhtmlTableBasePeer.SetCursor(d,"");this._hideStatus();return}delete this._cachedFirstVisibleRowKeyAndRow;this._savedDisclosedState=void 0;for(var k=0;k<e.length;k++){CSCOCall_removeChild(a,"removeChild",e[k]);if(!this._pruneKeyCache)this._pruneKeyCache=CSCOCall_getAttribute(c,"getAttribute",e[k],"_pruneKeyCache",null);var l=c.getIntAttribute(e[k],"_adsCounter",-1),m=!1;k==0&&this._applyBufferedADSEvents(l,
!0);m=this._handleDataCallback(e[k],h,g,e.length-k-1);if(k==e.length-1&&(this._applyBufferedADSEvents(l,!1),this._resetActiveMessageBuffer(),this._activeDataCount<l))this._activeDataCount=l;m||this._addInvalidDataBlockToFetchElement(b,e[k]);c.elementsAdded(e[k])}this._fillViewPort(d,d.offsetHeight,!1);this.FetchCompleted()}else this._handleIrrelaventFetchBlocks(a,b,e)}else this._firstBlockRequested||(this._initColumnHeader(),this._initColumnFooter(),this._initNavBar()),this.CancelPendingFetch(),e.length>
0&&e[0].rows.length>0?(this._initVirtualization(e[0],!1),c.elementsAdded(e[0]),this._processClickToEditRequestTimerId=AdfPage.PAGE.scheduleTimer(this,this._processClickToEditRequest,!1,10),this.AdjustAutoHeight()):f=!0;f&&(this._handleEmptyTextBlock(a,d),this.AdjustAutoHeight())}else if(c.indexOf("nbar")>0){if(c=this._getNavigationBar())c.parentNode.replaceChild(a,c),AdfAgent.AGENT.elementsAdded(a)}else AdfDhtmlTableBasePeer.superclass.ReplaceDomElement.call(this,a,b)};
AdfDhtmlTableBasePeer.prototype._handleEmptyTextBlock=function(a,b){if(this._virtInitialized)AdfLogger.LOGGER.severe("Empty data block received:"+id);else{for(var c=a.childNodes,d=c.length,e=0;e<d;e++){var f=c[0];CSCOCall_removeChild(a,"removeChild",f);CSCOCall_appendChild(b,"appendChild",f)}this._updatePCState();this._hideStatus();this.getDomElement().style.overflow="auto";this.IsEmpty=!0;this._stretchTheColumns();if(c=this.__getColumnHeader())if(c.style.border="0px",d=this.getDomElement(),c.offsetWidth<=d.clientWidth)d.style.overflow="hidden";
AdfDhtmlTableBasePeer.SetCursor(b,"")}};AdfDhtmlTableBasePeer.prototype._handleIrrelaventFetchBlocks=function(a,b,c){var d=AdfAgent.AGENT;this._cleanUpDataFetchElement(b);for(var e=0;e<c.length;e++) CSCOCall_removeChild(a,"removeChild",c[e]),this._addInvalidDataBlockToFetchElement(b,c[e]),d.elementsAdded(c[e])};
AdfDhtmlTableBasePeer.prototype._addInvalidDataBlockToFetchElement=function(a,b){for(var c=b.rows,d=c.length,e=null,f=0;f<d;f++){var g=c[f],h=CSCOCall_getAttribute(g,"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY);h!=null&&this.FindRowByKey(h)!=null&&(e||(e=[]),e.push(g))}if(e!=null){d=e.length;for(f=0;f<d;f++) CSCOCall_removeChild(e[f].parentNode,"removeChild",e[f])} CSCOCall_appendChild(a,"appendChild",b)};AdfDhtmlTableBasePeer.prototype._cleanUpDataFetchElement=function(a){for(;a.firstChild!=null;){var b=a.firstChild;this.UnregisterNode(b);CSCOCall_removeChild(a,"removeChild",b)}};
AdfDhtmlTableBasePeer.prototype.DomReplaceNotify=function(a){if(a.id.indexOf(AdfDhtmlTableBasePeer.DW_SUB_ID)>0)return null;return a};AdfDhtmlTableBasePeer.prototype._getUnavailableRowIndex=function(a){var b=-1,c=AdfAgent.AGENT;if(a){var d=AdfDhtmlTableBasePeer.__getChildBySubId(a,"unAvail");d&&(b=c.getIntAttribute(d,"_unavailableRowIndex",-1), CSCOCall_removeChild(a,"removeChild",d))}return b};
AdfDhtmlTableBasePeer.prototype._queueExpandFetchEvent=function(){var a=this._queueFetchEvent(!1,AdfTableDataFetchEvent.EXPAND_SUBTYPE);AdfDhtmlTableBasePeer.SetCursor(this.GetDatabody(),"wait");if(this._pruneKeyCache)a.setClientTokens(this._collectClientTokens(this._pruneKeyCache)),this._pruneKeyCache=null};AdfDhtmlTableBasePeer.prototype._queueCollapseFetchEvent=function(){this._queueFetchEvent(!1,AdfTableDataFetchEvent.COLLAPSE_SUBTYPE);AdfDhtmlTableBasePeer.SetCursor(this.GetDatabody(),"wait")};
AdfDhtmlTableBasePeer.prototype.BlockInserted=function(){};AdfDhtmlTableBasePeer.prototype.BlockDeleted=function(){};
AdfDhtmlTableBasePeer.prototype.DeleteBlock=function(a,b,c,d,e){for(var f=this.GetDatabody(),g=f.childNodes,h=0,k=0,l=0,m=g.length-1;m>=0&&l<b;m--){var n=g[m];h+=n.cachedHeight;var o=Math.max(a,n.startRow),q=Math.min(a+b-1,n.startRow+n.numRows-1),p=0,s=0,t=null;if(o==n.startRow&&q==n.startRow+n.numRows-1)s=n.cachedHeight,t=n,p=n.numRows,e&&(e.push(n),e.totalHeight+=n.offsetHeight);else{for(;q>=o;q--){var u=q-n.startRow;if(u==0){AdfAssert.assert(n.rows!=null&&n.rows[0]!=null,"Unable to copy cell widths when the block contains no rows!");
for(var v=n.rows[0].cells,w=n.rows[1].cells,y=0;y<w.length;y++)w[y].style.width=v[y].style.width}e&&(e.push(n.rows[u]),e.totalHeight+=n.offsetHeight);this.UnregisterNode(n.rows[u]);n.deleteRow(u);p++}if(p>0)o=n.offsetHeight,s=n.cachedHeight-o,n.cachedHeight=o,n.numRows=n.rows.length;k+=n.cachedHeight}if(p>0){for(n=m+1;n<g.length;n++)o=g[n],o.startPos-=s,o.startRow-=p;t&&(this.UnregisterNode(t), CSCOCall_removeChild(f,"removeChild",t))}l+=p}a=l==c?k-h:-this._averageRowHeight*c;this._knownRowCount-=c;this._rowCount!=-1&&(this._rowCount-=
c);this._knownRowCount>0&&(missing=this._isViewportSatisfied(f,f.offsetHeight),missing&AdfDhtmlTableBasePeer.MISSING_AFTER&&this._addBelow(f,f.offsetHeight,!1));this._adjustCanvasHeight(a,f);d==0&&(this._stretchTheColumns(),this._checkForScrollableLastBlockInViewport(f),this.BlockDeleted())};AdfDhtmlTableBasePeer.prototype.FetchCompleted=function(){};AdfDhtmlTableBasePeer.prototype.GetAssociatedComponent=function(){return this._associatedPeer!=null?this._associatedPeer.getComponent():null};
AdfDhtmlTableBasePeer.prototype._updateInitialARK=function(a){var b=this.getComponent();if(a=CSCOCall_getAttribute(a,"getAttribute","_initARK")){this._ignoreActiveRowKeyChange=!0;try{CSCOCall_setProperty(b,"setProperty","_afrActiveRowKey",a,!1,AdfUIComponent.PROPAGATE_NEVER), CSCOCall_setProperty(b,"setProperty","activeRowKey",a,!1,AdfUIComponent.PROPAGATE_NEVER)}finally{this._ignoreActiveRowKeyChange=!1}}};
AdfDhtmlTableBasePeer.prototype._updateComponentSelectionState=function(a){var b=this.getComponent();if(a=CSCOCall_getAttribute(a,"getAttribute","_selState"))eval(CSCO_WebVPN["process"]("js","var st="+a+";")), CSCOCall_setProperty(b,"setProperty","selectedRowKeys",st,!1,AdfUIComponent.PROPAGATE_NEVER)};AdfDhtmlTableBasePeer.prototype._updateComponentDisclosureState=function(a){var b=this.getComponent();if(a=CSCOCall_getAttribute(a,"getAttribute","_discState"))eval(CSCO_WebVPN["process"]("js","var st="+a+";")), CSCOCall_setProperty(b,"setProperty","disclosedRowKeys",st,!1,AdfUIComponent.PROPAGATE_NEVER)};
AdfDhtmlTableBasePeer.prototype._initVirtualization=function(a,b){try{this._hideStatus();this._virtInitialized=!0;var c=AdfAgent.AGENT,d=c.getIntAttribute(a,"_startRow",0),e=AdfDhtmlTableBasePeer._getBlockRowCount(a),f=this.getComponent(),g=this.GetDatabody(),h=c.getIntAttribute(a,"_rowCount",-1),k=this._isPaged,l=this._getEstimatedRowCount(a);l>=0&&(e=l,h=-1);if(this._unavailableRowIndex==0)h=-1;else if(this._unavailableRowIndex>0)h=this._unavailableRowIndex;var m=this._knownRowCount=this._rowCount=
h,n=0;if(m==-1)this._knownRowCount=m=e;this._updateComponentSelectionState(a);this._updateInitialARK(a);var o=this.getDomElement();c.setScrollLeft(o,0);var q=o.clientWidth,p=o.clientHeight,s=c.getIntAttribute(a,"_frWidth",0);this._frozenWidth=s;var t=c.getIntAttribute(a,"_totalWidth",-1);this._totalWidth=t;this._unfrozenWidth=t-s;this._hasDetailStamp=CSCOCall_getAttribute(c,"getAttribute",a,AdfDhtmlTableBasePeer._HAS_DETAIL_MARKER,!1);if(!b){for(var u=g.childNodes,v=u.length-1;v>=0;v--) CSCOCall_removeChild(g,"removeChild",u[v]);CSCOCall_appendChild(g,"appendChild",a);
q=o.clientWidth;p=o.clientHeight}var w=a.offsetHeight,y=AdfDhtmlTableBasePeer._getBlockRowCount(a);a.cachedHeight=w;var A=Math.round(w/y);this._averageRowHeight=A;var z,z=!k&&m>e?A*m:h==-1&&!k&&w<p-this._cachedCHHeight-this._cachedCFHeight-this._cachedNBHeight?p-this._cachedCHHeight-this._cachedCFHeight-this._cachedNBHeight:w;h==-1&&!k&&(l>0&&(z+=A*l),z+=AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE);a.style.position="relative";g.scrollTop=0;a.startRow=d;a.numRows=y;a.startPos=!k&&d>0?n=A*d:0;var B=
this._createAndInitializeScroller(o,q,p,z,s,a),C=c.getPlatform();C==AdfAgent.IE_PLATFORM&&c.getVersion()>8||C==AdfAgent.GECKO_PLATFORM&&c.getVersion()>=17?g.addEventListener("wheel",AdfDhtmlTableBasePeer._handleMouseWheel,!0):g.onmousewheel=AdfDhtmlTableBasePeer._handleMouseWheel;C!=AdfAgent.IE_PLATFORM&&g.addEventListener("DOMMouseScroll",AdfDhtmlTableBasePeer._handleMouseWheel,!0);g.onscroll=this.createCallback(this._handleDataBodyScroll);this._innerTableScrollCallback=this.createCallback(this._handleInnerTableScroll);
this._registerInnerScrollCallback(a);if(!this._headerless){var D=this.__getColumnHeader();if(this._hasFrozenColumn()){if(!this._areAllColumnsFrozen(this._colCount)){var E=AdfDhtmlTableBasePeer.__getChildBySubId(D,"d2");E.onscroll=this._innerTableScrollCallback}}else D.onscroll=this._innerTableScrollCallback}if(!this._footerless){var F=this._getColumnFooter();if(this._hasFrozenColumn()){if(!this._areAllColumnsFrozen(this._colCount))E=AdfDhtmlTableBasePeer.__getChildBySubId(F,"fd2"),E.onscroll=this._innerTableScrollCallback}else F.onscroll=
this._innerTableScrollCallback}g.onselectstart=this.createCallback(this._handleDataBodySelectStart);var G=this.SizeDatabody(g,q,p);g.style.zIndex=1;n=this._computeInitialScrollTop(f,a,d,z,G,w);this._initScrollLeftTop(B,n);this._restoreScrollPosition();this._synchronizeRowHeights(a);this._stretchTheColumns();if(this.isHeightAutoSized()&&(this.AdjustAutoHeight(),this._currentScrollTop=n=this._computeInitialScrollTop(f,a,d,z,g.offsetHeight,w),n>0))this._hasSingleScroller()&&!k?B.scrollTop=n:B[0].scrollTop=
B[1].scrollTop=n;this._fillViewPort(g,g.offsetHeight,!1);this._syncDataBodyHeights()}finally{this._updatePCState(),this.UpdateRange(!0)}};AdfDhtmlTableBasePeer.prototype._computeInitialScrollTop=function(a,b,c,d,e,f){if(this._isPaged)return 0;var g=0;c>0&&(g=Math.min(b.startPos,d-e),g=Math.max(0,g));if("last"==a.getDisplayRow()&&e<d)g=d-e,b.startPos=d-f;return g};
AdfDhtmlTableBasePeer.prototype._syncDataBodyHeights=function(){var a=this.getComponent(),b=a.getProperty("_afrMasterId"),c=a.getProperty("_afrSlaveId");if((b||c)&&this._hasSingleScroller()){a=a.getParent().findComponent(this._associatedId);AdfAssert.assert(a!=null,"There is no associated table");var d=a.getPeer(),a=this.GetDatabody(),b=d.GetDatabody(),c=this.GetScroller(),d=d.GetScroller();if(c&&d){var e=c.firstChild,f=d.firstChild;if(e&&f){var g=c.style.overflowX=="auto"&&c.offsetHeight>c.clientHeight,
h=d.style.overflowX=="auto"&&d.offsetHeight>d.clientHeight,k=parseInt(a.style.height),l=parseInt(b.style.height);if(!isNaN(k)&&!isNaN(l))h&&!g?(a.style.height=l+"px",c.style.height=d.style.height,c.style.overflowX="scroll",e.style.height=f.style.height):g&&!h?(b.style.height=k+"px",d.style.height=c.style.height,d.style.overflowX="scroll",f.style.height=e.style.height):d.style.overflowX=="auto"?(c.style.overflowX="auto",a.style.height=l+"px",c.style.height=d.style.height,e.style.height=f.style.height):
(d.style.overflowX="auto",b.style.height=k+"px",d.style.height=c.style.height,f.style.height=e.style.height)}}}};
AdfDhtmlTableBasePeer.prototype._createAndInitializeScroller=function(a,b,c,d,e,f){var g=AdfAgent.AGENT,h=null;if(this._hasSingleScroller()&&!this._isPaged&&!this._freezeColumnsToEnd()){var g=AdfAgent.AGENT,k=this.getDomDocument();AdfPage.PAGE.isAttachmentMode()&&(h=this.GetScroller())&&h.parentNode&& CSCOCall_removeChild(h.parentNode,"removeChild",h);h=CSCOCall_createElement(k,"createElement","div");h.tabIndex=-1;h.id=a.id+"::scroller";var l=h.style;l.position="absolute";this._isTouch&&g.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&(CSCOCall_setProperty(l,"setProperty","-webkit-overflow-scrolling",
"touch"), CSCOCall_setProperty(l,"setProperty","-webkit-transform","translateZ(0px)"));if(this._associatedId!=null){var m=this.getComponent();m.getProperty("_afrSlaveId")!=null?(l.overflowX="auto",l.overflowY="hidden"):l.overflow="auto";m=m.getParent().findComponent(this._associatedId);AdfAssert.assert(m!=null,"There is no associated table");this._associatedPeer=m.getPeer();m=m.getPeer();if(m!=null&&m._associatedPeer!=this)m._associatedPeer=this}else this._freezeColumnsToEnd()?(l.overflowX="auto",l.overflowY="hidden"):l.overflow=
"auto";l.zIndex=0;l.width=Math.max(b-e,0)+"px";l.top=this._cachedCHHeight+"px";l.height=Math.max(c-this._cachedCHHeight,0)+"px";AdfDhtmlTableBasePeer._isRTL()?this._freezeColumnsToEnd()?l.right="0px":l.left="0px":this._freezeColumnsToEnd()?l.left="0px":l.right="0px";k=CSCOCall_createElement(k,"createElement","div");l=g.getIntAttribute(f,"_totalWidth",-1);if(l==-1)l=f.offsetWidth;if(g.getPlatform()==AdfAgent.IE_PLATFORM)k.style.position="absolute";k.style.width=l-e+"px";this._canvasHeight=d;d>AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT?
(k.style.height=AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT+"px",this._canvasHeightLimited=!0):(k.style.height=d+"px",this._canvasHeightLimited=!1);k.style.visibility="hidden";CSCOCall_appendChild(h,"appendChild",k);CSCOCall_appendChild(a,"appendChild",h);g.elementsAdded(h)}else h=this._createAndInitializeColumnFooterScroller(a,b,c,d,e,f);if(this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY)d=this.GetDatabody(),e=g.getComputedStyle(a),f=CSCOCall_createElement(this.getDomDocument(),"createElement","div"), CSCOCall_setAttribute(f,"setAttribute","id",AdfRichUIPeer.CreateSubId(a.id,
AdfDhtmlTableBasePeer._DATAWRAPPER)),k=f.style,this._cachedScrollerWidthAddl=a.offsetWidth-b,this._cachedScrollerHeightAddl=a.offsetHeight-c,k.height=a.offsetHeight-this._cachedCHHeight-this._cachedCFHeight+"px",k.width=a.offsetWidth+"px",k.backgroundColor=e.backgroundColor,k.overflowX="hidden",k.overflowY="hidden",k.position="relative",k.zIndex=1, CSCOCall_insertBefore(a,"insertBefore",f,d), CSCOCall_appendChild(f,"appendChild",d),g.elementsAdded(f),this._databodyWrapped=this._scrollbarHidden=!0;return h};
AdfDhtmlTableBasePeer.prototype._initScrollLeftTop=function(a,b){this._currentScrollTop=b;if(this._hasSingleScroller()&&!this._isPaged){if(b>0)a.scrollTop=b;this._currentScrollLeft=AdfDhtmlTableBasePeer._isRTL()?AdfAgent.AGENT.getScrollLeft(a):0;AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlTableBasePeer,a,AdfDhtmlLookAndFeel.SCROLL_EVENT_TYPE)}else{if(b>0)a[0].scrollTop=a[1].scrollTop=b;this._currentScrollLeft=AdfDhtmlTableBasePeer._isRTL()?AdfAgent.AGENT.getScrollLeft(a[0]):0;AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlTableBasePeer,
a[0],AdfDhtmlLookAndFeel.SCROLL_EVENT_TYPE);AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlTableBasePeer,a[1],AdfDhtmlLookAndFeel.SCROLL_EVENT_TYPE)}};
AdfDhtmlTableBasePeer.prototype._createAndInitializeColumnFooterScroller=function(a,b,c,d,e,f){var g=[],h=AdfAgent.AGENT;if(AdfPage.PAGE.isAttachmentMode()){if(g=this.GetScroller()){var k=g[AdfDhtmlTableBasePeer._VSCROLLER],g=g[AdfDhtmlTableBasePeer._HSCROLLER];k&&k.parentNode&& CSCOCall_removeChild(k.parentNode,"removeChild",k);g&&g.parentNode&& CSCOCall_removeChild(g.parentNode,"removeChild",g)}g=[]}var l=this.getDomDocument();hscroller=CSCOCall_createElement(l,"createElement","div");vscroller=CSCOCall_createElement(l,"createElement","div");hscroller.id=a.id+"::hscroller";vscroller.id=a.id+
"::vscroller";hscroller.tabIndex=-1;vscroller.tabIndex=-1;var m=hscroller.style,k=vscroller.style;m.position=k.position="absolute";if(this._associatedId!=null){var n=this.getComponent();k.overflowY=n.getProperty("_afrSlaveId")!=null?"hidden":"auto";k.overflowX="hidden";m.overflowY="hidden";m.overflowX="auto";n=n.findComponent(this._associatedId);AdfAssert.assert(n!=null,"There is no associated table");this._associatedPeer=n.getPeer();n=n.getPeer();if(n!=null&&n._associatedPeer!=this)n._associatedPeer=
this}else k.overflowY="auto",k.overflowX="hidden",m.overflowY="hidden",m.overflowX="auto",this._isTouch&&h.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&(CSCOCall_setProperty(k,"setProperty","-webkit-overflow-scrolling","touch"), CSCOCall_setProperty(k,"setProperty","-webkit-transform","translateZ(0px)"), CSCOCall_setProperty(m,"setProperty","-webkit-overflow-scrolling","touch"), CSCOCall_setProperty(m,"setProperty","-webkit-transform","translateZ(0px)"));m.zIndex=k.zIndex=0;k.width=Math.max(b-e,0)+"px";k.top=this._cachedCHHeight+"px";k.height=Math.max(c-this._cachedCHHeight-this._cachedCFHeight-
this._cachedNBHeight,0)+"px";AdfDhtmlTableBasePeer._isRTL()?(this._freezeColumnsToEnd()?m.right="0px":m.left="0px",k.left="0px"):(this._freezeColumnsToEnd()?m.left="0px":m.right="0px",k.right="0px");var n=CSCOCall_createElement(l,"createElement","div"),l=CSCOCall_createElement(l,"createElement","div"),o=h.getIntAttribute(f,"_totalWidth",-1);if(o==-1)o=f.offsetWidth;if(h.getPlatform()==AdfAgent.IE_PLATFORM)n.style.position=l.style.position="absolute";n.style.width=l.style.width=o-e+"px";this._canvasHeight=d;n.style.height=l.style.height=d+"px";CSCOCall_appendChild(hscroller,"appendChild",n);
 CSCOCall_appendChild(vscroller,"appendChild",l);CSCOCall_appendChild(a,"appendChild",vscroller);h.elementsAdded(vscroller);m.top=this._cachedCHHeight+"px";m.height=Math.max(c-this._cachedCHHeight,0)+"px";d=vscroller.offsetWidth-vscroller.clientWidth;AdfDhtmlTableBasePeer._isRTL()?m.left=d+"px":m.right=d+"px";m.width=Math.max(b-e-d,0)+"px";this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(m.width+=d);CSCOCall_appendChild(a,"appendChild",hscroller);h.elementsAdded(hscroller);a=hscroller.offsetHeight-hscroller.clientHeight;k.height=Math.max(c-
this._cachedCHHeight-this._cachedCFHeight-this._cachedNBHeight-a,0)+"px";this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(k.height+=a);g[AdfDhtmlTableBasePeer._HSCROLLER]=hscroller;g[AdfDhtmlTableBasePeer._VSCROLLER]=vscroller;return g};
AdfDhtmlTableBasePeer.prototype._updatePCState=function(){var a=CSCOCall_getAttribute(this.getDomElement(),"getAttribute",AdfDhtmlTableBasePeer._PANEL_COLLECTION_ID);if(a!=null){a=this._pcPeer=AdfPage.PAGE.findComponent(a).getPeer();with(new CSCO_Environment(CSCO_Env)) with(CSCO_Env.csco_env_add(a))resetState(),updateStandardMenuToolbarItems(),updateStandardStatusbarItems(),updateRowSelectionContext()}};
AdfDhtmlTableBasePeer.prototype.__getVisibleLeafColumns=function(){if(this._visibleLeafColumns!=null)return this._visibleLeafColumns;var a=this.getDomElement(),a=CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",a,"_leafColClientIds"),a=eval(CSCO_WebVPN["process"]("js",a)),b=[];if(a!=null)for(var c=a.length,d=0;d<c;d++){var e=AdfPage.PAGE.findComponent(a[d]);b.push(e)}return this._visibleLeafColumns=b};
AdfDhtmlTableBasePeer.__getSortOrderForColumn=function(a){var b=null;if(a=AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(a,AdfDhtmlTableBasePeer.__SORT_INDICATOR)))a=CSCOCall_getAttribute(a,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE),a==AdfDhtmlTableBasePeer._SORTED_DESCENDING?b=!1:a==AdfDhtmlTableBasePeer._SORTED_ASCENDING&&(b=!0);return b};
AdfDhtmlTableBasePeer.__queueSortEvent=function(a,b,c){CSCOCall_setProperty(a,"setProperty","scrollTopRowKey",null,!0,AdfUIComponent.PROPAGATE_ALWAYS);var d=a.getPeer();d&&(d=d.GetAssociatedComponent(),d!=null&& CSCOCall_setProperty(d,"setProperty","scrollTopRowKey",null,!0,AdfUIComponent.PROPAGATE_ALWAYS));(new AdfSortEvent(a,b,c)).queue()};AdfDhtmlTableBasePeer.prototype.__getColumnResizeMargin=function(){AdfAssert.failedInAbstractFunction()};
AdfDhtmlTableBasePeer.prototype.HandleDomMouseMove=function(a,b){if(!this._headerless&&this._virtInitialized)if(this._resizedTH){var c=this._getParentTH(b);c&&(!a.getColumnResizing||a.getColumnResizing()=="enabled")&&AdfDhtmlTableBasePeer.SetCursor(c,AdfAgent.AGENT.getCursor("col-resize"))}else if(c=this._mdPos){var d=AdfAgent.AGENT.getMousePosition(b);if(Math.abs(d.x-c.x)>this.__getColumnResizeMargin())this._mdPos=null,this._processColumnReorderAction(b)}else if(this._reorderTH)AdfDhtmlTableBasePeer.SetCursor(this._reorderTH,
"move");else if(c=this.__getColumnHeaderMouseAction(b))d=c.cell,"resize"==c.type&&this._getResizedCellInfo(c)&&(!a.getColumnResizing||a.getColumnResizing()=="enabled")?AdfDhtmlTableBasePeer.SetCursor(d,AdfAgent.AGENT.getCursor("col-resize")):"move"==c.type?AdfDhtmlTableBasePeer.SetCursor(d,AdfAgent.AGENT.getCursor("move")):"default"==c.type?AdfDhtmlTableBasePeer.SetCursor(d,"default"):AdfDhtmlTableBasePeer.SetCursor(d,"")};
AdfDhtmlTableBasePeer.prototype.__handleColumnResizing=function(a,b){if(b==null&&(b=this.__getColumnHeaderMouseAction(a.getNativeEvent()),b==null))return;if(b.type=="resize"){var c=this._getResizedCellInfo(b);if(c)this._resizedTH=c.cell,this._resizedIndex=c.displayIndex,this._showColumnResizeIndicator(c.cell,c.displayIndex),this._resizeColDelta=0,c=this.__getColumnHeader(),AdfAgent.AGENT.disableUserSelect(c),a.cancel(),c=a.getNativeEvent(),AdfPage.PAGE.startDrag(c,this._colResizeDragCallback,this._colResizeDropCallback)}};
AdfDhtmlTableBasePeer.prototype.HandleComponentMouseDown=function(a){var b=a.getNativeEvent(),c=this.__getColumnHeaderMouseAction(b),d=c?c.type:null;if((this._virtInitialized||"clearAllFilter"==d)&&this.__isOwnComponentEvent(a)){var e=AdfAgent.AGENT,f=e.getEventTarget(b),g=this.GetRowKeyAndRow(f,this.getDomElement());if(g!=null){var h=g[0],g=g[1];if(h!=null){this._getExpandAction(f)||this._handleRowMouseDown(b,h,g);return}}if(e.isLeftButton(b)&&!(this._isTargetCellEditable(f)&&"clearAllFilter"!=d)&&
d){if("selectAll"==d)this._grabFocus(),(b=this.getComponent().getSelectedRowKeys())&&b[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]?(this._selUnselectAll(),this._queueColumnSelectionEvent()):this._selSelectAll();else if("clearAllFilter"==d)b=this.getComponent(),e=new AdfQueryEvent(b),e.setClearAll(!0),b.queueEvent(e);else if("resize"==d)this.__handleColumnResizing(a,c);else if("move"==d)this._mdPos=e.getMousePosition(b),this._reorderTH=c.cell,a.cancel();else if("select"==d&&(this._grabFocus(),a=
c.colIndices,a.length>0)){if(!b.shiftKey)this._anchorColumnHeader=c.cell;this._doColumnSelections(b,a,c.colIds);if(this._isMultipleColumnSelect()){if(null==this._handleColumnHeaderDragCallback)this._handleColumnHeaderDragCallback=this.createCallback(this._handleColumnHeaderDrag),this._handleColumnHeaderDropCallback=this.createCallback(this._handleColumnHeaderDrop);a=this.__getColumnHeader();e.disableUserSelect(a);AdfPage.PAGE.startDrag(b,this._handleColumnHeaderDragCallback,null)}}"resize"!=d&&"sort"!=
d&&c.cell!=null&&this.UpdateFocusManager("selectAll"==d?AdfDhtmlTableBasePeer._SELECT_ALL_FOCUS_TYPE:AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,c.cell)}}};AdfDhtmlTableBasePeer.prototype.HandleComponentMouseUp=function(){this._reorderTH=this._mdPos=null};AdfDhtmlTableBasePeer.prototype._selectInputOnMouseUp=function(a){(a.selectionStart!=null?a.selectionEnd-a.selectionStart>0:CSCOGet_text(this.getDomDocument().selection.createRange()))||a.select()};
AdfDhtmlTableBasePeer.prototype.HandleComponentMouseOver=function(a){if(!this._resizedTH&&!this._reorderTH){var b=AdfAgent.AGENT,c=a.getNativeEventTarget();if(c!=null){var d=c.tagName;if((d=="TD"||d=="TH")&&c.noWrap&&!c.title)if((d=this._getOnlyTextNode(c))&&this._isCellTruncated(c))c.title=d.nodeValue;if(this._hoverHighlightRow&&(c=this.GetRowKeyAndRow(c,this.getDomElement()),c!=null)){b=c[1];AdfDomUtils.containsCSSClassName(b,AdfDhtmlTableBasePeer._SELECTED_CLASS)||AdfDomUtils.addCSSClassName(b,
AdfDhtmlTableBasePeer._HIGHLIGHTED_CLASS);return}}if(!this._headerless&&(a=this._getParentTH(a.getNativeEvent()))&&a.colSpan<2)if(a=AdfRichUIPeer.CreateSubId(a.id,AdfDhtmlTableBasePeer.__SORT_INDICATOR),b=b.getElementById(a),b!=null&&(a=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE),c=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._SUPPORTS_HOVER),a==null&&c))b.style.display=""}};
AdfDhtmlTableBasePeer.prototype.HandleComponentMouseOut=function(a){if(!this._resizedTH&&!this._reorderTH){var b=AdfAgent.AGENT;if(this._hoverHighlightRow){var c=this.GetRowKeyAndRow(a.getNativeEventTarget(),this.getDomElement());if(c!=null){AdfDomUtils.removeCSSClassName(c[1],AdfDhtmlTableBasePeer._HIGHLIGHTED_CLASS);return}}this._headerless||(a=this._getParentTH(a.getNativeEvent()))&&a.colSpan<2&&this._hideColumnSortableIndicator(b,a)}};
AdfDhtmlTableBasePeer.prototype.HandleComponentDblClick=function(a){if(this._virtInitialized&&this.__isOwnComponentEvent(a)&&this._isTargetCellEditable(a.getNativeEventTarget()))this._ctePatternStart=void 0};
AdfDhtmlTableBasePeer.prototype._getOnlyTextNode=function(a){var b=a.ownerDocument,c=null;if(b.evaluate)a=b.evaluate(".//text()",a,null,XPathResult.ANY_TYPE,null),(c=a.iterateNext())&&a.iterateNext()&&(c=null);else{(b=a.firstChild)&&b.nodeType==3&&(c=b);for(var a=a.getElementsByTagName("*"),d=a.length,e=0;e<d;e++)if((b=a[e].firstChild)&&b.nodeType==3)if(c){c=null;break}else c=b}return c};
AdfDhtmlTableBasePeer.prototype._isCellTruncated=function(a){var b=a.cloneNode(!0),c=!1;AdfAgent.AGENT.copyStyle(a,b);b.style.width="";for(var d=b.getElementsByTagName("input"),e=d.length-1;e>=0;e--){var f=d[e];f.id="";f.name=""}d=this.getDomElement();e=CSCOCall_createElement(a.ownerDocument,"createElement","table");CSCOCall_appendChild(d,"appendChild",e);CSCOCall_appendChild(e.insertRow(-1),"appendChild",b);a.offsetWidth<b.offsetWidth&&(c=!0);CSCOCall_removeChild(d,"removeChild",e);return c};
AdfDhtmlTableBasePeer.prototype.HandleComponentContextMenu=function(a){a.getSource();var b=AdfAgent.AGENT,a=a.getNativeEvent(),c=this.__getColumnHeader();if(c)var d=b.getElementPosition(c);var e=b.getMousePosition(a);if(c&&e.y-d.y<=this._cachedCHHeight)this._handleColumnContextMenu(a);else{d=b.getEventTarget(a);b=this.GetRowKeyAndRow(d,this.getDomElement());if(b!=null&&!this._isTargetCellEditable(d)&&(d=b[0],b=b[1],d!=null)){this.HandleRowContextMenu(a,d,b);return}this._handleBodyContextMenu(a)}};
AdfDhtmlTableBasePeer.prototype._hideColumnSortableIndicator=function(a,b){if(b&&b.colSpan<2){var c=AdfRichUIPeer.CreateSubId(b.id,AdfDhtmlTableBasePeer.__SORT_INDICATOR),c=a.getElementById(c);if(c!=null){var d=CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE),e=CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._SUPPORTS_HOVER);if(d==null&&e)c.style.display="none"}}};
AdfDhtmlTableBasePeer.prototype.HandleComponentClick=function(a){if(this.__isOwnComponentEvent(a)){var b=this.getComponent(),c=AdfAgent.AGENT,d=a.getNativeEvent(),e=c.getEventTarget(d),f=this.GetRowKeyAndRow(e,this.getDomElement());if(f!=null){var g=f[0],f=f[1];if(g!=null){a.isLeftButtonPressed()&&(c=this._getExpandAction(e),"expand"==c?b.setDisclosedRowKey(g,!0):"collapse"==c?b.setDisclosedRowKey(g,!1):this._handleRowClick(d,g,f));return}}if(!this._headerless&&(g=this.__getColumnHeaderMouseAction(d))&&
"sort"==g.type)AdfDhtmlTableBasePeer.__queueSortEvent(b,[g.sortProperty],[g.sortOrder]),c.eatEvent(d);this._isPaged&&this.__handleNavBarItemsClick(d,e);return!0}};AdfDhtmlTableBasePeer.prototype.HandleComponentValueChange=function(a){if(!a.isCanceled()){var b=a.getSource(),c=b.getPeer();c.bind(b);this._isTargetCellFilter(c.getDomElement())&&a.propagatesToServer()&&this._handleFilterCellAction()}};
AdfDhtmlTableBasePeer.prototype._skipScrollRequest=function(){return AdfAgent.AGENT.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&this._scrollTopUpdating&&!this._isTouch&&this._currentScrollTop==this._getScrollTop()};AdfDhtmlTableBasePeer.prototype.HandleDomScroll=function(){if(!this._skipScrollRequest()){var a=this._getScrollTop();this.scrollToPos(this.__getScrollLeft(),a);this._associatedPeer!=null&&this._associatedPeer.scrollToPos(-1,a)}};
AdfDhtmlTableBasePeer.prototype._handleInnerTableScroll=function(a){if(!a)a=AdfPage.PAGE.getDomWindow().event;a=AdfAgent.AGENT.getEventTarget(a);this.scrollToPos(AdfAgent.AGENT.getScrollLeft(a),-1)};
AdfDhtmlTableBasePeer.prototype._handleDataBodyScroll=function(){if(!this._skipScrollRequest())if(this._handleDataCallbackBeingProcessed===!0)this._handleDataBodyScrollTimeout!=null&&(window.clearTimeout(this._handleDataBodyScrollTimeout),delete this._handleDataBodyScrollTimeout),this._handleDataBodyScrollTimeout=CSCOCall_setTimeout(window,"setTimeout",this.createCallback(this._handleDataBodyScroll),0);else{var a=this.GetDatabody(),b=a.firstChild;if(b){var b=a.scrollTop+b.startPos,c=-1;this._hasFrozenColumn()||(c=AdfAgent.AGENT.getScrollLeft(a));
this.scrollToPos(c,b);this._associatedPeer!=null&&this._associatedPeer.scrollToPos(-1,b)}}};AdfDhtmlTableBasePeer.prototype.__getScrollPos=function(){if(this.GetScroller()!=null)return{x:this.__getScrollLeft(),y:this._getScrollTop()};return null};AdfDhtmlTableBasePeer.prototype.__restoreScrollerPositions=function(a,b){this._setScrollTop(b);this._setScrollLeft(a)};
AdfDhtmlTableBasePeer.prototype.scrollToPos=function(a,b,c,d){var e=this.getComponent(),f=AdfDhtmlTableBasePeer.NO_SCROLL;d===void 0&&(d=!0);if(b!=-1&&this._currentScrollTop!=b){delete this._cachedFirstVisibleRowKeyAndRow;c|| CSCOCall_setProperty(e,"setProperty","scrollTop",b,!0,AdfUIComponent.PROPAGATE_ALWAYS);this._setScrollTop(b);f=this._handleVerticalScroll(b,d);this._isPaged||(b=this.GetFirstVisibleRowKeyAndRow(),b.rowKey!=null&& CSCOCall_setProperty(e,"setProperty","scrollTopRowKey",b.rowKey,!0,AdfUIComponent.PROPAGATE_ALWAYS));b=this.GetDatabody().childNodes;
for(d=b.length-1;d>=0;d--)this._synchronizeRowHeights(b[d])}a!=-1&&this._currentScrollLeft!=a&&(c|| CSCOCall_setProperty(e,"setProperty","scrollLeft",a,!0,AdfUIComponent.PROPAGATE_ALWAYS),this._setScrollLeft(a),this._handleHorizontalScroll(a));return f};
AdfDhtmlTableBasePeer.prototype.HandleDomKeyDown=function(a,b){var c=AdfAgent.AGENT,d=a.getClientId(),e=c.getEventTarget(b),f=b.keyCode;switch(f){case AdfKeyStroke.ARROWUP_KEY:case AdfKeyStroke.ARROWDOWN_KEY:case AdfKeyStroke.ARROWRIGHT_KEY:case AdfKeyStroke.ARROWLEFT_KEY:d=!0;this._isTargetCellEditable(e)||(this._handleArrow(f,b),d=!1);d||c.eatEvent(b);break;case AdfKeyStroke.ENTER_KEY:c=this._getParentTH(b),f=AdfRichUIPeer.CreateSubId(d,AdfDhtmlTableBasePeer._NAVBAR_PAGE_INPUT),c&& CSCOCall_getAttribute(c,"getAttribute","_afrFH")!=
null?(d=new AdfQueryEvent(a),d.setClearAll(!0),a.queueEvent(d)):e.id==f&&(c=a.getProperty("rows"),c>0&&(e=(CSCOGet_value(e)-1)*c,e>=0?this._handlePageRowClick(e,b):(c=AdfPage.PAGE.getLookAndFeel(),e=c.getTranslatedString("af_table.MSG_NAVBAR_PAGE_INVALID"),c=c.getTranslatedString("af_table.MSG_NAVBAR_PAGE_INVALID_DETAIL"),e=new AdfFacesMessage(AdfFacesMessage.TYPE_ERROR,e,c),AdfPage.PAGE.clearMessages(d),AdfPage.PAGE.addMessage(d,e),a.focus())))}};
AdfDhtmlTableBasePeer.prototype._handleHorizontalScroll=function(a){var b=AdfAgent.AGENT,c=this.GetDatabody();if(this._hasFrozenColumn()){this._headerless||AdfDhtmlTableBasePeer._scrollColumnHeader(this.__getColumnHeader(),a);this._footerless||AdfDhtmlTableBasePeer._scrollColumnFooter(this._getColumnFooter(),a);for(var b=c.childNodes,d=0;d<b.length;d++)this._positionInnerTable(b[d],a)}else this._headerless||b.setScrollLeft(this.__getColumnHeader(),a),this._hasSingleScroller()||b.setScrollLeft(this._getColumnFooter(),
a),b.setScrollLeft(c,a);if(this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY)if(a=this.__getColumnHeader(),this._isScrollerLeft()){if(this._getScrollHeight()>this._getScrollerOffsetHeight())b=this._getScrollerOffsetWidth()-this._getScrollerClientWidth(),AdfDhtmlTableBasePeer._isRTL()?(c.style.left=b+"px",a.style.left=b+"px"):(c.style.left=-1*b+"px",a.style.left=-1*b+"px")}else c.style.left="0px",a.style.left="0px"};
AdfDhtmlTableBasePeer.prototype._handleVerticalScroll=function(a,b){if(!(this._pendingFetch==AdfTableDataFetchEvent.EXPAND_SUBTYPE||this._pendingFetch==AdfTableDataFetchEvent.COLLAPSE_SUBTYPE)){var c=this.GetDatabody();if(this._isPaged)return c.scrollTop=a,AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED;var d=this._fillViewPort(c,c.offsetHeight,b,!0);this._selectionRequest!=null&&(d==AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED?this._processSelectionRequest():d!=AdfDhtmlTableBasePeer.MISSING_BEFORE&&d!=AdfDhtmlTableBasePeer.MISSING_AFTER&&
delete this._selectionRequest);this._clickEditRequest!=null&&d==AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED&&this._processClickToEditActivateRequest();if(this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY)if(c=this.GetDatabody(),this._isScrollerBottom()){if(this._getScrollWidth()>this._getScrollerOffsetWidth())this._hShiftDatabody=-1*(this._getScrollerOffsetHeight()-this._getScrollerClientHeight())-this._cachedCFHeight+"px",c.style.top=this._hShiftDatabody}else this._hShiftDatabody=
"0px",c.style.top="0px";return d}};
AdfDhtmlTableBasePeer.prototype._fillViewPort=function(a,b,c,d){var e=AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED;if(this._isPaged)return this._hideStatus(),AdfDhtmlTableBasePeer.SetCursor(a,""),this.AdjustAutoHeight(),e;this._knownRowCount>0&&(e=this._isViewportSatisfied(a,b),e==AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED?(this._repositionBlocksForScroll(a),this._hideStatus(),AdfDhtmlTableBasePeer.SetCursor(a,""),b=(this._canvasHeightLimited?AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT:this._canvasHeight)-
b,b>0&&(this._currentScrollTop<b/2?this._checkStart(a):this._checkEnd(a)),this.AdjustAutoHeight()):e&AdfDhtmlTableBasePeer.MISSING_BEFORE?this._addAbove(a,b,c,d):e&AdfDhtmlTableBasePeer.MISSING_AFTER?this._addBelow(a,b,c,d):this._handleLongJump(a,b,c,d));return e};
AdfDhtmlTableBasePeer.prototype._isScrollerBottom=function(){var a=null,a=this._hasSingleScroller()&&!this._isPaged?this.GetScroller():this.GetScroller()[1];return Math.abs(a.scrollHeight-a.scrollTop-a.offsetHeight)<AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE?!0:!1};
AdfDhtmlTableBasePeer.prototype._isScrollerLeft=function(){var a=null,a=this._hasSingleScroller()&&!this._isPaged?this.GetScroller():this.GetScroller()[1];return Math.abs(a.scrollWidth-a.scrollLeft-a.offsetWidth)<AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE?!0:!1};
AdfDhtmlTableBasePeer.prototype._isViewportSatisfied=function(a,b){var c=a.childNodes,d=c.length,e=AdfDhtmlTableBasePeer.NO_BLOCKS,f=this._currentScrollTop;if(d>0&&(e=AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED,!this._allRowsAvailableOnClient(c,d))){var g=c[0],c=c[d-1],d=this._canvasHeightLimited?AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT:this._canvasHeight,h=g.startPos-f,k=c.startPos+c.cachedHeight-f;if(h>0||f==0&&g.startRow>0)e|=AdfDhtmlTableBasePeer.MISSING_BEFORE;if(k<b&&d>=b||f>=d-b&&c.startRow+c.numRows<
this.GetKnownRowCount())e|=AdfDhtmlTableBasePeer.MISSING_AFTER;if(e!=AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED&&(h>b||k<0))e=AdfDhtmlTableBasePeer.NO_BLOCKS}return e};
AdfDhtmlTableBasePeer.prototype._addAbove=function(a,b,c,d){var e=a.childNodes,f=e.length,g=e[0];if(g.startRow==0){for(g=d=0;g<f;g++){var h=e[g],k=h.cachedHeight;h.startPos=d;d+=k}this._setScrollTop(0);this._fillViewPort(a,b,c)}else a=g.startRow,b=this._getBlockFirstRowKey(g),this._startFetch(AdfTableDataFetchEvent.BEFORE_KEY_SUBTYPE,a,b,c,!d)};
AdfDhtmlTableBasePeer.prototype._addBelow=function(a,b,c,d){var e=a.childNodes,f=e.length,g=e[f-1],h=g.startRow+g.numRows,k=this.GetRowCount();if(k>0&&h>=k){d=this._canvasHeight-b;g=this._canvasHeight;h=!1;for(f-=1;f>=0;f--)if(k=e[f],g-=k.cachedHeight,k.startPos!=g)h=!0,k.startPos=g;if(this._currentScrollTop!=d||h)this._setScrollTop(d),this._fillViewPort(a,b,c)}else a=h-1,b=this._getBlockLastRowKey(g),this._startFetch(AdfTableDataFetchEvent.AFTER_KEY_SUBTYPE,a,b,c,!d)};
AdfDhtmlTableBasePeer.prototype._handleLongJump=function(a,b,c,d){var e,f,g,h,k,l=this.getComponent().getFetchSize(),e=this._currentScrollTop,h=this.GetKnownRowCount(),m=AdfPage.PAGE.getLookAndFeel(),g=this._canvasHeightLimited?AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT:this._canvasHeight,f=this.GetRowCount()==-1||this._canvasHeightLimited?AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE:0;e>=g-f-b?(g=AdfTableDataFetchEvent.UP_TO_INDEX_SUBTYPE,f=h-1,e=m.getTranslatedString("af_table.LABEL_END"),this.GetRowCount()==
-1&&(e=m.getTranslatedString("af_table.LABEL_ROW")+f),k=f,h=k-l+1):(g=AdfTableDataFetchEvent.FROM_INDEX_SUBTYPE,e==0?(e=m.getTranslatedString("af_table.LABEL_START"),f=0):(f=Math.round(e/this._averageRowHeight),e=m.getTranslatedString("af_table.LABEL_ROW")+f,AdfAssert.assert(f<h)),h=f,k=f+l-1);var n=a.childNodes;if(n.length>0)if(l=n[n.length-1],n=n[0].startRow,l=l.startRow+l.numRows,h>=n&&h<l){this._addBelow(a,b,c,d);return}else if(k>=n&&k<l){this._addAbove(a,b,c,d);return}c&&this.DisplayStatus(m.getTranslatedString("af_table.LABEL_GOING_TO")+
" "+e);this._startFetch(g,f,null,c,!d)};AdfDhtmlTableBasePeer.prototype._deleteOffscreenBlocks=function(a,b,c){var d=a.childNodes,e=d.length,f;if(this._isTouch&&e>0&&(f=d[e-1],f=f.startRow-d[0].startRow+f.numRows,f<=this._maxCachedRowsForTouch))return;var g=this._currentScrollTop;for(e-=1;e>=0;e--){var h=d[e];if(h!=c){var k=h.startPos-g,l=k+h.cachedHeight;if(l<0||k>b){if(this._isTouch){k=h.numRows;if(f-k<=this._maxCachedRowsForTouch)break;if(l<0&&e>0)continue;f-=k}this.UnregisterNode(h);CSCOCall_removeChild(a,"removeChild",h)}}}};
AdfDhtmlTableBasePeer.prototype.UnregisterNode=function(a){AdfPage.PAGE.removeComponentsInSubtree(a);AdfAgent.AGENT.elementsRemoved(a)};AdfDhtmlTableBasePeer.prototype._repositionBlocksForScroll=function(a){var b=a.firstChild,c=this._currentScrollTop;if(b)a.scrollTop=c-b.startPos;if(AdfAgent.AGENT.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&!this._isTouch){this._scrollTopUpdating=!0;var d=this;CSCOCall_setTimeout(null,setTimeout,function(){d._scrollTopUpdating=!1},100)}};
AdfDhtmlTableBasePeer.prototype._undoScroll=function(){var a=this.GetDatabody(),b=a.firstChild;b&&this._setScrollTop(b.startPos+a.scrollTop)};AdfDhtmlTableBasePeer.prototype._restoreSavedDisclosureState=function(){CSCOCall_setProperty(this.getComponent(),"setProperty","disclosedRowKeys",this._savedDisclosedState,!1,AdfUIComponent.PROPAGATE_NEVER);this._savedDisclosedState=void 0};
AdfDhtmlTableBasePeer.prototype._queueFetchEvent=function(a,b,c,d){var e=this._fetchId++,f=this.getComponent(),g=new AdfTableDataFetchEvent(f,e,b,c,d);g.setPartial(!0);g.setRenderOnly(a);var h=!1;a?AdfPage.PAGE.queueEventToServer(g):(f.queueEvent(g),h=g.isCanceled());if(!h)this._pendingFetch=b,this._pendingId=e,this._fetchIndex=c,this._fetchKey=d,this._pendingRenderOnly=a;return h?null:g};
AdfDhtmlTableBasePeer.prototype._checkViewportSize=function(a){var b=a.childNodes;b.length!=0&&(b=b[0],a=Math.round(a.clientHeight/(b.offsetHeight/b.numRows)+0.5), CSCOCall_setProperty(this.getComponent(),"setProperty","viewportSize",a,!1,AdfUIComponent.PROPAGATE_ALWAYS))};
AdfDhtmlTableBasePeer.prototype._startFetch=function(a,b,c,d,e){if(!(a==this._pendingFetch&&b==this._fetchIndex&&c==this._fetchKey))if(d)d=new Function(CSCO_WebVPN["process"]("js","var c = arguments.callee;c._self._delayedNavigate(c._sTop, c._subtype, c._index, c._key, c._renderOnly);")),d._sTop=this._currentScrollTop,d._subtype=a,d._index=b,d._key=c,d._renderOnly=e,d._self=this, CSCOCall_setTimeout(null,setTimeout,d,300),this.CancelPendingFetch();else if(a=this._queueFetchEvent(e,a,b,c)){if(this.DisplayStatus(AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_table.LABEL_FETCHING")),
AdfDhtmlTableBasePeer.SetCursor(this.GetDatabody(),"wait"),this._pruneKeyCache)a.setClientTokens(this._collectClientTokens(this._pruneKeyCache)),this._pruneKeyCache=null}else this._undoScroll()};AdfDhtmlTableBasePeer.prototype._delayedNavigate=function(a,b,c,d,e){this._currentScrollTop==a&&this._startFetch(b,c,d,!1,e)};AdfDhtmlTableBasePeer.prototype.CancelPendingFetch=function(){this._pendingRenderOnly=this._pendingId=this._fetchKey=this._fetchIndex=this._pendingFetch=void 0};
AdfDhtmlTableBasePeer.prototype.IsFetchPending=function(){return this._pendingFetch!=void 0};AdfDhtmlTableBasePeer.prototype.isDisclosureFetchPending=function(){return this._pendingFetch==AdfTableDataFetchEvent.EXPAND_SUBTYPE||this._pendingFetch==AdfTableDataFetchEvent.COLLAPSE_SUBTYPE};
AdfDhtmlTableBasePeer.prototype.InsertBlock=function(a,b,c,d,e){var f=AdfAgent.AGENT;this._initNewBlock(a,b,c);for(var g=this.GetDatabody(),h=g.offsetHeight,k=null,l=g.childNodes,m=0;m<l.length&&!k;m++){var n=l[m];b>=n.startRow&&b<=n.startRow+n.numRows&&(k=n)}AdfAssert.assert(k);l=null;m=!1;this._sizeBlockForFrozenColumns(a,g.offsetWidth);this._registerInnerScrollCallback(a);this._stretchLastBlockColumn(a);if(b==k.startRow)m=!0, CSCOCall_insertBefore(g,"insertBefore",a,k);else{if(b<k.startRow+k.numRows){if(c==d){l=k.cloneNode(!1);
l.numRows=k.numRows-b+k.startRow;n=AdfDomUtils.getFirstDescendentElement(k,"TBODY");AdfAssert.assert(n!=null,"Illegal State: data block with no tbody");for(var o=n.cloneNode(!1),q=k.rows,p=k.numRows-1;p>=b-k.startRow;p--){var s=q[p];CSCOCall_removeChild(n,"removeChild",s);CSCOCall_insertBefore(o,"insertBefore",s,o.firstChild)} CSCOCall_appendChild(l,"appendChild",o);n=l.rows[0].cells;o=k.rows[0].cells;for(q=0;q<n.length;q++)n[q].style.width=o[q].style.width}else for(p=k.numRows-1;p>=b-k.startRow;p--)f.elementsRemoved(k.rows[p]),k.deleteRow(p);l&&f.elementsAdded(l);k.numRows=
b-k.startRow;k.cachedHeight=k.offsetHeight} CSCOCall_insertBefore(g,"insertBefore",a,k.nextSibling)}this._setNewBlockScrollLeft(a);a.cachedHeight=a.offsetHeight;a.startPos=m?k.startPos:k.startPos+k.cachedHeight;this._synchronizeRowHeights(a);if(l) CSCOCall_insertBefore(g,"insertBefore",l,a.nextSibling),l.cachedHeight=l.offsetHeight;f=0;if(c==d){for(f=a;current=f.nextSibling;)current.startRow=f.startRow+f.numRows,current.startPos=f.startPos+f.cachedHeight,f=current;f=a.cachedHeight}else{for(f=g.lastChild;a!=f;)this.UnregisterNode(f), CSCOCall_removeChild(g,"removeChild",f),
f=g.lastChild;f=this._averageRowHeight*d}this._knownRowCount+=d;this._rowCount!=-1&&(this._rowCount+=d);this._adjustCanvasHeight(f,g);e==0&&(this.isHeightAutoSized()||this._deleteOffscreenBlocks(g,h,a),this._stretchTheColumns(),this._checkForScrollableLastBlockInViewport(g),this.BlockInserted(a,b,c))};AdfDhtmlTableBasePeer.prototype._initNewBlock=function(a,b,c){a.style.position="relative";a.startRow=b;a.numRows=c};
AdfDhtmlTableBasePeer.prototype._setNewBlockScrollLeft=function(a){var b=this._currentScrollLeft;this._hasFrozenColumn()&&b!=0&&this._positionInnerTable(a,b)};
AdfDhtmlTableBasePeer.prototype._adjustCanvasHeight=function(a,b,c,d){if(a!=0){if(this._isPaged)this._canvasHeight+=a;else{var e=this._canvasHeight,f=this._canvasHeight+a,g=this.GetRowCount()==-1?AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE:0,h=this.GetKnownRowCount();this._averageRowHeight=Math.round((f-g)/h);this._canvasHeight=this._averageRowHeight*h+g}this._setFakeCanvasHeight(this._canvasHeight);if(d&&(d=this._canvasHeight/e,e=b.firstChild)){f=e.startPos;e.startPos=Math.round(e.startPos*d);
f=e.startPos-f;for(e=e.nextSibling;e;)e.startPos+=f,e=e.nextSibling;this._setScrollTop(Math.round(this._currentScrollTop*d))}this._currentScrollTop=this._getScrollTop()}if(a!=0||c)a=this.getDomElement(),this.SizeDatabody(b,a.clientWidth,a.clientHeight)};
AdfDhtmlTableBasePeer.prototype._checkForScrollableLastBlockInViewport=function(a){var b=a.lastChild,c=b.startPos;if(AdfAgent.AGENT.getPlatform()==AdfAgent.WEBKIT_PLATFORM){var d=b.previousSibling;if(d!=null&&d.cachedHeight!=d.offsetHeight)c=d.startPos+d.offsetHeight,d.cachedHeight=d.offsetHeight,b.startPos=c}if(b!=null&&this.GetRowCount()==b.startRow+b.numRows&&c+b.cachedHeight>this._canvasHeight)this._canvasHeight=c+b.cachedHeight,this._setFakeCanvasHeight(this._canvasHeight),b=this.getDomElement(),
this.SizeDatabody(a,b.clientWidth,b.clientHeight)};
AdfDhtmlTableBasePeer.prototype.SizeDatabody=function(a,b,c){var d=AdfAgent.AGENT,e=this._getScrollbarWidth(),f=this._getScrollbarHeight(),b=Math.max(0,b-e);this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(b+=e);a.style.width=b+"px";c=Math.max(0,c-this._cachedCHHeight-this._cachedCFHeight-this._cachedNBHeight-f);this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(c+=f);a.style.height=c+"px";if(!this._headerless)e=this.__getColumnHeader().style,
e.width=a.style.width,f>0?e.borderRightWidth="":e.borderRightWidth="0px";if(!this._footerless)e=this._getColumnFooter().style,e.width=a.style.width,f>0?e.borderRightWidth="":e.borderRightWidth="0px";!this.IsEmpty&&this._hasFrozenColumn()&&this._sizeRegionsForFrozenColumns(a,b);this._databodyHeight=c;this._checkViewportSize(a);if(this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(a=this.getDomElement(),b=d.getElementById(AdfRichUIPeer.CreateSubId(a.id,AdfDhtmlTableBasePeer._DATAWRAPPER))))f=
d=0,this._scrollbarHidden||(this._hasSingleScroller()&&!this._isPaged?(vscroller=this.GetScroller(),hscroller=this.GetScroller()):(vscroller=this.GetScroller()[AdfDhtmlTableBasePeer._VSCROLLER],hscroller=this.GetScroller()[AdfDhtmlTableBasePeer._HSCROLLER]),hscroller!=null&&hscroller!=null&&(d=vscroller.offsetWidth-vscroller.clientWidth,f=hscroller.offsetHeight-hscroller.clientHeight)),b=b.style,b.height=a.offsetHeight-this._cachedCHHeight-this._cachedCFHeight-f+"px",b.width=a.offsetWidth-d+"px";
return c};AdfDhtmlTableBasePeer.prototype._getScrollbarWidth=function(){if(this.IsEmpty)return 0;var a=0,b=this.GetScroller();if(!this._hasSingleScroller()||this._isPaged)b=b[AdfDhtmlTableBasePeer._VSCROLLER];b.clientWidth>0&&(a=b.offsetWidth-b.clientWidth);return a};
AdfDhtmlTableBasePeer.prototype._getScrollbarHeight=function(){var a;if(this.IsEmpty)a=this.getDomElement(),a=a.offsetHeight-a.clientHeight;else{a=this.GetScroller();if(!this._hasSingleScroller()||this._isPaged)a=a[AdfDhtmlTableBasePeer._HSCROLLER];a=a.clientHeight>3?a.offsetHeight-a.clientHeight:0}return a};
AdfDhtmlTableBasePeer.prototype._handleDataCallback=function(a,b,c,d){var e=AdfAgent.AGENT,f=e.getIntAttribute(a,"_startRow",0),g=AdfDhtmlTableBasePeer._getBlockRowCount(a);if(b==AdfTableDataFetchEvent.EXPAND_SUBTYPE)return this.HandleExpand(a,g,d);if(b==AdfTableDataFetchEvent.COLLAPSE_SUBTYPE)return this.HandleCollapse(a,f,d);if(b==AdfTableDataFetchEvent.CLICK_EDIT_ACTIVE_ROW)return this.HandleClickToEditActiveRow(a,g,d);var h=this.GetDatabody(),d=h.offsetHeight,k=h.childNodes,l=k.length,m=this._currentScrollTop;
this._initNewBlock(a,f,g);g>0&&(this._sizeBlockForFrozenColumns(a,h.offsetWidth),this._registerInnerScrollCallback(a),this._stretchLastBlockColumn(a));this._handleDataCallbackBeingProcessed=!0;try{if(b==AdfTableDataFetchEvent.FROM_INDEX_SUBTYPE||b==AdfTableDataFetchEvent.UP_TO_INDEX_SUBTYPE){this.RemoveAllBlocks(h);CSCOCall_appendChild(h,"appendChild",a);var n=a.offsetHeight;this._adjustRowCountFromResponse(h,a,g,n);c=0;if(m>=(this._canvasHeightLimited?AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT:this._canvasHeight)-d||this._canvasHeightLimited&&
this.GetRowCount()==a.startRow+a.numRows)c=n-d;a.startPos=m-c;a.cachedHeight=n}else{if(b==AdfTableDataFetchEvent.AFTER_KEY_SUBTYPE){var o=k[l-1];if(g==0)if(this.GetRowCount()==-1){var q=e.getIntAttribute(o,"_rowCount",-1);this._rowCount=q==-1?this._knownRowCount:q;if(k[0].startPos==0&&o.startPos+o.cachedHeight<=this._canvasHeight)this._canvasHeight=o.startPos+o.cachedHeight,this._setFakeCanvasHeight(this._canvasHeight)}else this._adjustRowCountFromResponse(h,a);else{a.startPos=o.startPos+o.cachedHeight;
 CSCOCall_appendChild(h,"appendChild",a);a.cachedHeight=a.offsetHeight;var p=f-o.startRow-o.numRows;p!=0&&this.ShiftIndex(o,p,!1);this._adjustRowCountFromResponse(h,a);if(p!=0&&!this.IsReceivingActiveEvents())for(var s=o;s;){var t=s.previousSibling;this.UnregisterNode(s);CSCOCall_removeChild(h,"removeChild",s);s=t}var u=f+g-this.GetKnownRowCount();if(u>0){this._knownRowCount+=u;var v=a.cachedHeight;if(u<g)for(var v=0,w=a.rows,n=g-u;n<g;n++)v+=w[n].offsetHeight;this._adjustCanvasHeight(v,h)}else this._checkForScrollableLastBlockInViewport(h);k=
h.childNodes;l=k.length;if(this._allRowsAvailableOnClient(k,l))o=k[l-1],this._canvasHeight=o.startPos+o.cachedHeight,this._setFakeCanvasHeight(this._canvasHeight)}}else if(b==AdfTableDataFetchEvent.BEFORE_KEY_SUBTYPE){var y=k[0];CSCOCall_insertBefore(h,"insertBefore",a,y);var A=a.offsetHeight;a.startPos=y.startPos-A;a.cachedHeight=A;p=f-y.startRow+g;p!=0&&this.ShiftIndex(y,p,!0);var z=this._adjustRowCountFromResponse(h,a);if((p!=0||z!=0)&&!this.IsReceivingActiveEvents())for(s=y;s;)t=s.nextSibling,this.UnregisterNode(s),
 CSCOCall_removeChild(h,"removeChild",s),s=t}c||this._deleteOffscreenBlocks(h,d,a);this._repositionBlocksForScroll(h);this._processSelectionRequest();this._clickEditRequest!=null&&this._processClickToEditActivateRequest()}}finally{delete this._handleDataCallbackBeingProcessed}g!=0&&(this._setNewBlockScrollLeft(a),this._synchronizeRowHeights(a));this.UpdateRange(!1);return!0};
AdfDhtmlTableBasePeer.prototype._adjustRowCountFromResponse=function(a,b,c,d){var e=0,f=this.GetRowCount();if(f!=-1){var g=AdfAgent.AGENT.getIntAttribute(b,"_rowCount",-1);if(this._unavailableRowIndex==0)g=-1;else if(this._unavailableRowIndex>0)g=this._unavailableRowIndex;g!=-1&&(e=g-f)}if(e!=0)this._rowCount=this._knownRowCount=g,this._adjustCanvasHeight(c!=void 0&&d!=void 0&&c==g?d-this._averageRowHeight*f:this._averageRowHeight*e,a,!1);return e};
AdfDhtmlTableBasePeer.prototype.HandleExpand=function(a,b,c){return this._handleExpandCollapse(a,c,!0)};AdfDhtmlTableBasePeer.prototype.HandleCollapse=function(a,b,c){return this._handleExpandCollapse(a,c,!1)};
AdfDhtmlTableBasePeer.prototype._handleExpandCollapse=function(a,b,c){var d=CSCOCall_getAttribute(a,"getAttribute","_startKey"),e=null;d&&(e=this.FindRowByKey(d));if(e){var f=AdfPage.PAGE,g=e.tr,d=e.block;this._changeDetailIcon(g,c);var h=d.cachedHeight,e=null,k;f.isAnimationEnabled()&&!this.isHeightAutoSized()&&(k=parseInt(f.getLookAndFeel().getSkinProperty("af|table-tr-detail-animation-duration")));if(c){f=g.cells.length;a=a.rows[0];if(f>1)a.cells[0].colSpan=f;CSCOCall_removeChild(a.parentNode,"removeChild",a);CSCOCall_insertBefore(g.parentNode,"insertBefore",a,g.nextSibling);
AdfAgent.AGENT.elementsAdded(a);k>0&&(e=a.cells[0])}else a=g.nextSibling, CSCOCall_getAttribute(AdfAgent.getAgent(),"getAttribute",a,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)?(this.UnregisterNode(a),k>0?(a.style.display="none",e=a.cells[0]):CSCOCall_removeChild(a.parentNode,"removeChild",a)):AdfLogger.LOGGER.severe("Unable to locate detail row");a=d.offsetHeight;d.cachedHeight=a;h=a-h;for(d=d.nextSibling;d;)d.startPos+=h,d=d.nextSibling;d=this.GetDatabody();this._adjustCanvasHeight(h,d);b==0&&(this._stretchTheColumns(),this._checkForScrollableLastBlockInViewport(d));
e!=null&&this._doDisclosureAnimation(e,k,c);return!0}else return!1};
AdfDhtmlTableBasePeer.prototype._doDisclosureAnimation=function(a,b,c){var d=a.ownerDocument,d=c?CSCOCall_createElement(d,"createElement","div"):a.firstChild,e=d.style,f=0;if(c){e.overflow="hidden";e.height="1px";f=AdfAgent.AGENT.getComputedStyle(a);e=AdfAgent.getCSSLengthAsInt;f=a.clientHeight-e(f.paddingTop)-e(f.paddingBottom);for(e=a.lastChild;e;) CSCOCall_appendChild(d,"appendChild",e),e=a.lastChild;CSCOCall_appendChild(a,"appendChild",d)}else a.parentNode.style.display="";AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_SLOW_FAST_SLOW,b,[{element:d,
properties:{height:f}}],null,!c?AdfDhtmlTableBasePeer.CollapseAnimationComplete:null,!c?{wrapper:a.parentNode,peer:this}:null)};AdfDhtmlTableBasePeer.CollapseAnimationComplete=function(a){var b=a.wrapper,a=a.peer;CSCOCall_removeChild(b.parentNode,"removeChild",b);a&&(a.SetAnimating(!1),a.AdjustAutoHeight())};AdfDhtmlTableBasePeer.prototype.SetAnimating=function(a){this._animating=a};AdfDhtmlTableBasePeer.prototype.BusyAnimating=function(){return this._animating};
AdfDhtmlTableBasePeer.prototype.HandleClickToEditActiveRow=function(a,b,c){delete this._oldActiveRowKey;return b>0?(b=this._columnStretching,b!=null&&b!="none"&&(this._sizeBlockForFrozenColumns(a,this.GetDatabody().offsetWidth),this._stretchLastBlockColumn(a)),b=a.rows,a=b[0],b=b.length>1&&this._hasDetailStamp?b[1]:null,this._replaceRowByKey(CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",a,AdfDhtmlTableBasePeer._ROW_KEY),a,b),c==0&&this._handleClickToEditActiveRowAfter(),!0):!1};
AdfDhtmlTableBasePeer.prototype._replaceRowByKey=function(a,b,c){var d=AdfAgent.AGENT;if(a=this.FindRowByKey(a)){var e=a.tr,a=a.block,f=a.cachedHeight;this.UnregisterNode(e);e.parentNode.replaceChild(b,e);d.elementsAdded(b);if(c&&(e=b.nextSibling, CSCOCall_getAttribute(d,"getAttribute",e,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)))this.UnregisterNode(e),e.parentNode.replaceChild(c,e),d.elementsAdded(c),c.cells[0].colSpan=b.cells.length;c=a.offsetHeight;a.cachedHeight=c;c-=f;for(d=a.nextSibling;d;)d.startPos+=c,d=d.nextSibling;
if(this._hasFrozenColumn())cells=b.cells,b=this._freezeColumnsToEnd()?cells[0]:cells[cells.length-1],AdfDhtmlTableBasePeer.FindFirstChildByTagName(b,"DIV").onscroll=this._innerTableScrollCallback;this._adjustCanvasHeight(c,this.GetDatabody())}};
AdfDhtmlTableBasePeer.prototype._handleClickToEditActiveRowAfter=function(){this._stretchTheColumns();var a=this._currentScrollLeft;a!=0&&this._handleHorizontalScroll(a);this._processClickToEditRequestTimerId=AdfPage.PAGE.scheduleTimer(this,this._processClickToEditRequest,!0,10)};AdfDhtmlTableBasePeer.prototype.SetFirst=function(a){CSCOCall_setProperty(this.getComponent(),"setProperty","first",a,!0)};AdfDhtmlTableBasePeer.prototype.SetRows=function(a){this.getComponent().setRows(a)};
AdfDhtmlTableBasePeer.prototype.UpdateRange=function(a){if(!this._isPaged){var b=this.getComponent(),c=this.GetDatabody().childNodes;if(c.length!=0){var d=c[0].startRow,c=c[c.length-1],c=c.startRow+c.numRows-d;this.SetFirst(d);this.SetRows(c);d=this.GetFirstVisibleRowKeyAndRow();d.rowKey!=null&&!a&& CSCOCall_setProperty(b,"setProperty","scrollTopRowKey",d.rowKey,!0,AdfUIComponent.PROPAGATE_ALWAYS)}}};
AdfDhtmlTableBasePeer.prototype._checkStart=function(a){a=a.childNodes;if(!(a.length<1)){var b=a[0];if(b.startPos<0){this._setScrollTop(this._currentScrollTop-b.startPos);for(var c=0;c<a.length;c++)a[c].startPos-=b.startPos}}};
AdfDhtmlTableBasePeer.prototype._checkEnd=function(a){var b=a.childNodes;if(!(b.length<1)){var c=b[b.length-1],c=c.startPos+c.cachedHeight-this._canvasHeight;if(this.GetRowCount()==-1||this._canvasHeightLimited&&c<0)c<0&&(c=0),c+=AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE;if(c>0){this._setScrollTop(this._currentScrollTop-c);for(var d=0;d<b.length;d++)b[d].startPos-=c}this.GetRowCount()==-1&&(a=this._canvasHeight-a.offsetHeight-AdfDhtmlTableBasePeer._FETCH_MORE_CANVAS_SPACE,this._currentScrollTop>
a&&this._setScrollTop(a))}};
AdfDhtmlTableBasePeer.prototype._processSelectionRequest=function(){var a=this._selectionRequest,b=null;if(a!=null){if(a==AdfDhtmlTableBasePeer._SELECT_PAGE_UP)b=this.GetFirstVisibleRowKeyAndRow();else if(a==AdfDhtmlTableBasePeer._SELECT_PAGE_DOWN)b=this._getLastVisibleRowKeyAndRow();else if(a==AdfDhtmlTableBasePeer._SELECT_ARROW_DOWN||a==AdfDhtmlTableBasePeer._FOCUS_RH_ARROW_DOWN||a==AdfDhtmlTableBasePeer._FOCUS_ROW_ARROW_DOWN)b=this._getNextRowKeyAndRow(this._lastRowKeyInView);else if(a==AdfDhtmlTableBasePeer._SELECT_ARROW_UP||
a==AdfDhtmlTableBasePeer._FOCUS_RH_ARROW_UP||a==AdfDhtmlTableBasePeer._FOCUS_ROW_ARROW_UP)b=this._getPreviousRowKeyAndRow(this._lastRowKeyInView);var c=b.rowKey,b=b.row;c!=null&&(a==AdfDhtmlTableBasePeer._FOCUS_RH_ARROW_UP||a==AdfDhtmlTableBasePeer._FOCUS_RH_ARROW_DOWN?(a=this.GetRowHeaderCellFromRow(b),this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,c,a)):(a!=AdfDhtmlTableBasePeer._FOCUS_ROW_ARROW_UP&&a!=AdfDhtmlTableBasePeer._FOCUS_ROW_ARROW_DOWN&&this._selSelectRow(c,b),this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,
c,b)),this._unclipRow(b));delete this._selectionRequest}};
AdfDhtmlTableBasePeer.prototype.DisplayStatus=function(a,b){var c=this._getStatusMessage();if(c){CSCOPut_innerHTML(c,a);var d=c.style;if(d.display=="none"){d.zIndex=5E3;var e=this.GetDatabody();d.visibility="hidden";d.display="block";var f,f=this._virtInitialized?e.offsetHeight:this.getDomElement().clientHeight-this._cachedCHHeight;d.top=this._cachedCHHeight+Math.floor((f-c.offsetHeight)/2)+"px";f="25px";b&&(f=Math.floor(e.offsetWidth/2-c.offsetWidth/2)+"px");AdfDhtmlTableBasePeer._isRTL()?d.left=f:d.right=
f;d.visibility="visible"}}};
AdfDhtmlTableBasePeer.prototype._hideStatus=function(){var a=this._getStatusMessage();if(a){var b=AdfAgent.AGENT,c=this.GetScroller(),d=this._hasScroller(c)&&b.getPlatform()==AdfAgent.IE_PLATFORM&&b.getVersion()>=8,e;if(d)if(AdfCollections.isArray(c))for(var e=[],f=0;f<c.length;f++)e[f]={x:b.getScrollLeft(c[f]),y:c[f].scrollTop};else e={x:b.getScrollLeft(c),y:c.scrollTop};a.style.display="none";if(d)if(AdfCollections.isArray(c))for(f=0;f<c.length;f++)b.setScrollLeft(c[f],e[f].x),c[f].scrollTop=e[f].y;
else b.setScrollLeft(c,e.x),c.scrollTop=e.y}};AdfDhtmlTableBasePeer.prototype._hasScroller=function(a){if(AdfCollections.isArray(a)){for(var b=0;b<a.length;b++)if(a[b]!=null)return!0;return!1}else return a!=null};AdfDhtmlTableBasePeer.prototype.GetDatabody=function(a){return this._databodyWrapped?this.__getElemBySubId(AdfDhtmlTableBasePeer._DATAWRAPPER,a).childNodes[0]:this.__getElemBySubId("db",a)};AdfDhtmlTableBasePeer.prototype._getStatusMessage=function(){return this.__getElemBySubId("sm")};
AdfDhtmlTableBasePeer.prototype._getColumnResizeIndicator=function(){return this.__getElemBySubId("ri")};AdfDhtmlTableBasePeer.prototype.__getColumnHeader=function(){return this.__getElemBySubId("ch")};AdfDhtmlTableBasePeer.prototype._getColumnFooter=function(){return this.__getElemBySubId("cf")};AdfDhtmlTableBasePeer.prototype._getNavigationBar=function(){return this.__getElemBySubId("nbar")};
AdfDhtmlTableBasePeer.prototype._setFakeCanvasWidth=function(a){var b=this.GetScroller();if(this._hasSingleScroller()&&!this._isPaged)AdfDhtmlTableBasePeer.FindFirstChildByTagName(b,"DIV").style.width=a+"px";else{var c=AdfDhtmlTableBasePeer.FindFirstChildByTagName(b[0],"DIV");AdfDhtmlTableBasePeer.FindFirstChildByTagName(b[1],"DIV").style.width=c.style.width=a+"px"}};
AdfDhtmlTableBasePeer.prototype._setFakeCanvasHeight=function(a){var b=this.GetScroller();a>AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT?(a=AdfDhtmlTableBasePeer._CSS_HEIGHT_LIMIT,this._canvasHeightLimited=!0):this._canvasHeightLimited=!1;if(this._hasSingleScroller()&&!this._isPaged){var c=b.scrollTop;AdfDhtmlTableBasePeer.FindFirstChildByTagName(b,"DIV").style.height=a+"px";b.scrollTop=c}else c=AdfDhtmlTableBasePeer.FindFirstChildByTagName(b[0],"DIV"),AdfDhtmlTableBasePeer.FindFirstChildByTagName(b[1],
"DIV").style.height=c.style.height=a+"px"};AdfDhtmlTableBasePeer.prototype.GetScroller=function(){if(this._hasSingleScroller()&&!this._isPaged)return this.__getElemBySubId("scroller");else{var a=[];a[AdfDhtmlTableBasePeer._HSCROLLER]=this.__getElemBySubId("hscroller");a[AdfDhtmlTableBasePeer._VSCROLLER]=this.__getElemBySubId("vscroller");return a}};
AdfDhtmlTableBasePeer.prototype._scrollerScrollToPos=function(a,b){var c=AdfAgent.getAgent();if(this._hasSingleScroller()&&!this._isPaged)c.scrollToPos(this.GetScroller(),a,b);else{var d=this.GetScroller();c.scrollToPos(d[AdfDhtmlTableBasePeer._HSCROLLER],a,b);c.scrollToPos(d[AdfDhtmlTableBasePeer._VSCROLLER],a,b)}};
AdfDhtmlTableBasePeer.prototype.__getScrollerDimensions=function(){return{offsetWidth:this._getScrollerOffsetWidth(),offsetHeight:this._getScrollerOffsetHeight(),clientWidth:this._getScrollerClientWidth(),clientHeight:this._getScrollerClientHeight()}};AdfDhtmlTableBasePeer.prototype._getScrollerOffsetWidth=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().offsetWidth:this.GetScroller()[0].offsetWidth};
AdfDhtmlTableBasePeer.prototype._getScrollerOffsetHeight=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().offsetHeight:this.GetScroller()[1].offsetHeight};AdfDhtmlTableBasePeer.prototype._getScrollerClientWidth=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().clientWidth:this.GetScroller()[0].clientWidth};
AdfDhtmlTableBasePeer.prototype._getScrollerClientHeight=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().clientHeight:this.GetScroller()[1].clientHeight};AdfDhtmlTableBasePeer.prototype._setScrollerTop=function(a){if(this._hasSingleScroller()&&!this._isPaged)this.GetScroller().style.top=a+"px";else{var b=this.GetScroller();b[0].style.top=b[1].style.top=a+"px"}};
AdfDhtmlTableBasePeer.prototype._setScrollerHeight=function(a,b,c,d){if(this._hasSingleScroller()&&!this._isPaged){var e=Math.max(0,a-b-d);this.GetScroller().style.height=e+"px"}else{var f=this.GetScroller(),e=Math.max(0,a-b);f[0].style.height=e+"px";var g=f[0].offsetHeight-f[0].clientHeight,e=Math.max(0,a-b-c-d-g);this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(e+=g);f[1].style.height=e+"px"}};
AdfDhtmlTableBasePeer.prototype._setScrollerWidth=function(a,b){if(this._hasSingleScroller()&&!this._isPaged){var c=Math.max(a-b,0),d=this.GetScroller().style;d.overflowX="auto";d.width=c+"px"}else{var e=this.GetScroller(),c=Math.max(a-b,0);e[1].style.overflowX="hidden";e[1].style.width=c+"px";d=0;e[1].clientWidth>0&&(d=e[1].offsetWidth-e[1].clientWidth);c=Math.max(a-b-d,0);this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(c+=d);e=e[0].style;e.overflowX="auto";e.width=c+
"px";if(!this._freezeColumnsToEnd())AdfDhtmlTableBasePeer._isRTL()?e.left=d+"px":e.right=d+"px"}};AdfDhtmlTableBasePeer.prototype._setScrollLeft=function(a){var b=AdfAgent.AGENT;this._currentScrollLeft=a;if(this._hasSingleScroller()&&!this._isPaged){var c=this.GetScroller();b.getScrollLeft(c)!=a&&b.setScrollLeft(c,a)}else c=this.GetScroller(),b.getScrollLeft(c[0])!=a&&b.setScrollLeft(c[0],a)};
AdfDhtmlTableBasePeer.prototype.__getScrollLeft=function(){var a=AdfAgent.AGENT;if(this._hasSingleScroller()&&!this._isPaged)a=a.getScrollLeft(this.GetScroller());else var b=this.GetScroller(),a=a.getScrollLeft(b[0]);return a};AdfDhtmlTableBasePeer.prototype.__getCurrentScrollLeft=function(){return this._currentScrollLeft};
AdfDhtmlTableBasePeer.prototype._setScrollTop=function(a){this._currentScrollTop=a;if(this._hasSingleScroller()&&!this._isPaged){var b=this.GetScroller();if(b.scrollTop!=a)b.scrollTop=a}else if(b=this.GetScroller(),b[1].scrollTop!=a)b[1].scrollTop=a;if(AdfAgent.AGENT.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&!this._isTouch){this._scrollTopUpdating=!0;var c=this;CSCOCall_setTimeout(null,setTimeout,function(){c._scrollTopUpdating=!1},100)}};
AdfDhtmlTableBasePeer.prototype.__getScrollDimensions=function(){return{scrollLeft:this.__getScrollLeft(),scrollTop:this._getScrollTop(),scrollHeight:this._getScrollHeight(),scrollWidth:this._getScrollWidth()}};AdfDhtmlTableBasePeer.prototype._getScrollTop=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().scrollTop:this.GetScroller()[1].scrollTop};
AdfDhtmlTableBasePeer.prototype._getScrollHeight=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().scrollHeight:this.GetScroller()[1].scrollHeight};AdfDhtmlTableBasePeer.prototype._getScrollWidth=function(){return this._hasSingleScroller()&&!this._isPaged?this.GetScroller().scrollWidth:this.GetScroller()[0].scrollWidth};AdfDhtmlTableBasePeer.prototype.__getLastFrozen=function(){return this._lastFrozen};AdfDhtmlTableBasePeer.prototype.__getFirstFrozen=function(){return this._firstFrozen};
AdfDhtmlTableBasePeer.prototype.__getElemBySubId=function(a,b){var c=this.getDomElement();c==null&&(c=b);return AdfDhtmlTableBasePeer.__getChildBySubId(c,a)};AdfDhtmlTableBasePeer.__getChildBySubId=function(a,b){AdfAssert.assert(a!=null,"Table peer cannot get a child by sub ID if the parent is null!");for(var c=a.id+"::"+b,d=a.childNodes,e=0;e<d.length;e++)if(c==d[e].id)return d[e];return null};AdfDhtmlTableBasePeer.prototype.GetRowCount=function(){return this._rowCount};
AdfDhtmlTableBasePeer.prototype.GetKnownRowCount=function(){return this._knownRowCount};
AdfDhtmlTableBasePeer.prototype._synchronizeRowHeights=function(a){if(this._hasFrozenColumn()){var b=a.startPos,c=a._lastSyncRow,d=this._databodyHeight,e=a.rows,f=e.length,g=this._currentScrollTop;if(!(c!=null&&c==f-1)&&!(b>g+d)&&!this._areAllColumnsFrozen(e[0].cells.length)){for(var h=0;h<f;h++)if(!(c!=null&&c>=h)){var k=e[h],l=this._getNestedScrolledTable(k),m=k.offsetHeight;if(l.offsetHeight!=m){var n=AdfAgent.AGENT,o=n.getPlatform()==AdfAgent.IE_PLATFORM,n=n.getPlatform()==AdfAgent.WEBKIT_PLATFORM;
o||n?l.style.height="auto":l.rows[0].style.height="auto";o||n?l.style.height=m+"px":l.rows[0].style.height=m+"px"}if(b+k.offsetTop+m>g+d){a._lastSyncRow=h;return}}a._lastSyncRow=f-1}}};
AdfDhtmlTableBasePeer.prototype._showColumnResizeIndicator=function(a,b){var c=this._getColumnResizeIndicator();if(c){var d=!AdfDhtmlTableBasePeer._isRTL(),c=c.style;c.display="block";c.zIndex=20;c.top="0px";if(d)d=a.offsetLeft+a.offsetWidth,this._freezeColumnsToStart()&&!this._isColumnFrozen(b)?d+=this._frozenWidth:this._freezeColumnsToEnd()&&this._isColumnFrozen(b)?d+=this._getUnfrozenColumnsWidth():d-=this._currentScrollLeft;else if(d=a.offsetLeft,this._freezeColumnsToStart()&&this._isColumnFrozen(b))d+=
this.getDomElement().offsetWidth-a.parentNode.parentNode.offsetWidth;else if(this._freezeColumnsToEnd()&&!this._isColumnFrozen(b))d+=this._frozenWidth;else{for(var e=a.parentNode;e&&e.tagName!="TABLE";)e=e.parentNode;if(e&&e.tagName=="TABLE"){for(var f=e.offsetWidth,g=e.offsetLeft;e&&e.tagName!="DIV";)e=e.parentNode;e&&e.tagName=="DIV"&&e.offsetWidth>f&&(d+=g)}d-=this._currentScrollLeft;this._getScrollHeight()>this._getScrollerOffsetHeight()&&(d+=this._getScrollerOffsetWidth()-this._getScrollerClientWidth())}c.left=
d+"px";c.height=this._cachedCHHeight+this._cachedCFHeight+this._cachedNBHeight+this.GetDatabody().offsetHeight+"px"}};
AdfDhtmlTableBasePeer.prototype._getColumnHeaderFooterSizingCell=function(a,b,c,d,e){return!this._hasFrozenColumn()||this._isColumnFrozen(a)?(e=AdfDhtmlTableBasePeer.__getChildBySubId(b,c),this._freezeColumnsToEnd()?e.rows[0].cells[a-this._firstFrozen]:e.rows[0].cells[a]):(b=AdfDhtmlTableBasePeer.__getChildBySubId(b,d),e=AdfDhtmlTableBasePeer.__getChildBySubId(b,e),this._freezeColumnsToStart()?e.rows[0].cells[a-this._lastFrozen-1]:e.rows[0].cells[a])};
AdfDhtmlTableBasePeer.prototype._getResizedCellInfo=function(a){var b=AdfAgent.AGENT,c=a.cell;AdfDhtmlTableBasePeer._isRTL();var d=b.getIntAttribute(c,"_d_index",-1);CSCOGet_data(a)=="start"?d--:d+=b.getIntAttribute(c,"colspan",1)-1;a=this._getColumnHeaderFooterSizingCell(d,this.__getColumnHeader(),"t","d2","t2");if(CSCOCall_getAttribute(b,"getAttribute",a,AdfDhtmlTableBasePeer.NO_RESIZE_MARKER,!1))return null;return{cell:a,displayIndex:d}};
AdfDhtmlTableBasePeer.prototype._getColumnHeaderLeafCell=function(a){var b=this.__getColumnHeader();if(!b)return null;var c=AdfDhtmlTableBasePeer.__getChildBySubId(b,"t"),d=Array(c);this._hasFrozenColumn()&&(b=AdfDhtmlTableBasePeer.__getChildBySubId(b,"d2"),b=AdfDhtmlTableBasePeer.__getChildBySubId(b,"t2"),d.push(b));for(var b=AdfAgent.AGENT,e=AdfDhtmlTableBasePeer._LEAF_COLUMN,f=null,c=c.rows.length-1;c>=0&&!f;c--)for(var g=0;g<d.length;g++)for(var h=d[g].rows[c].cells,k=0;k<h.length&&!f;k++){var l=
h[k];if(CSCOCall_getAttribute(l,"getAttribute",e)&&b.getIntAttribute(l,"_d_index",-1)==a){f=l;break}}return f};
AdfDhtmlTableBasePeer.prototype._synchronizeColumnRowHeights=function(a,b,c,d){if(this._hasFrozenColumn()){var e=AdfAgent.AGENT,f=e.getPlatform()==AdfAgent.WEBKIT_PLATFORM,g=e.getPlatform()==AdfAgent.IE_PLATFORM&&e.getVersion()==8,b=AdfDhtmlTableBasePeer.__getChildBySubId(a,b),a=AdfDhtmlTableBasePeer.__getChildBySubId(a,c),d=AdfDhtmlTableBasePeer.__getChildBySubId(a,d),a=b.rows,c=d.rows;b.style.height=d.style.height="auto";for(var h=0;h<a.length;h++)a[h].style.height=c[h].style.height="auto";for(h=
0;h<a.length;h++)if(g){for(var k=-1,l=0;l<a[h].cells.length;l++)if(a[h].cells[l].rowSpan&&a[h].cells[l].rowSpan==1){k=l;break}for(var l=-1,m=0;m<c[h].cells.length;m++)if(c[h].cells[m].rowSpan&&c[h].cells[m].rowSpan==1){l=m;break}var n=m=0;if(k>-1)m=a[h].cells[k].offsetHeight;if(l>-1)n=c[h].cells[l].offsetHeight;m>n?e.setTableRowHeight(c[h],m):n>m&&e.setTableRowHeight(a[h],n)}else k=a[h].offsetHeight,l=c[h].offsetHeight,k>l?e.setTableRowHeight(c[h],k):l>k&&e.setTableRowHeight(a[h],l);d.style.height=
b.style.height=Math.max(b.offsetHeight,d.offsetHeight)+"px";if(f&&c.length==2){for(h=0;h<c[0].cells.length;h++)c[1].cells[h].rowSpan="10";for(h=0;h<a[0].cells.length;h++)a[1].cells[h].rowSpan="10"}}};AdfDhtmlTableBasePeer.prototype._getInnerTableCell=function(a,b){var c=this._getNestedScrolledTable(a).rows[0];return this._freezeColumnsToStart()?c.cells[b-this._lastFrozen-1]:c.cells[b]};
AdfDhtmlTableBasePeer._handleMouseWheel=function(a){if(!a)a=AdfPage.PAGE.getDomWindow().event;var b=AdfDhtmlTableBasePeer.__getChildBySubId(this.parentNode,"scroller");b||(b=AdfDhtmlTableBasePeer.__getChildBySubId(this.parentNode,"vscroller"));if(b){var c=AdfAgent.AGENT,d=null,e=null,f=a.deltaX,g=a.deltaY,h=a.wheelDeltaX,k=a.wheelDeltaY;f!=null||g!=null?(c=c.getPlatform()==AdfAgent.IE_PLATFORM?40:1,f!=null&&(d=f/c),g!=null&&(e=g/c)):(h!=null&&(d=-h/4),k!=null&&(e=-k/4),h==null&&k==null&&(e=a.wheelDelta==
null?a.detail*4:-a.wheelDelta/4));if(e!=null&&e!=0)b.scrollTop+=Math.round(e),f=b.offsetHeight,g=b.scrollHeight,c=b.scrollTop,(e>0&&g-c>f||e<0&&c>0)&&AdfAgent.AGENT.eatEvent(a);d!=null&&d!=0&&(b.scrollLeft+=Math.round(d),AdfAgent.AGENT.eatEvent(a))}};
AdfDhtmlTableBasePeer.prototype._positionInnerTable=function(a,b){var c=AdfAgent.AGENT,d=a.rows;AdfDhtmlTableBasePeer._isRTL();for(var e=this._freezeColumnsToEnd(),f=0;f<d.length;f++){var g=d[f].cells;(g=AdfDhtmlTableBasePeer.FindFirstChildByTagName(e?g[0]:g[g.length-1],"DIV"))&&c.setScrollLeft(g,b)}};AdfDhtmlTableBasePeer._scrollColumnHeader=function(a,b){var c=AdfDhtmlTableBasePeer.__getChildBySubId(a,"d2");AdfAgent.AGENT.setScrollLeft(c,b)};
AdfDhtmlTableBasePeer._scrollColumnFooter=function(a,b){var c=AdfDhtmlTableBasePeer.__getChildBySubId(a,"fd2");AdfAgent.AGENT.setScrollLeft(c,b)};AdfDhtmlTableBasePeer.FindFirstChildByTagName=function(a,b){AdfAssert.assert(a!=null,"Table peer cannot find first child by tag name if the parent is null!");for(var c=a.childNodes,d=0;d<c.length;d++)if(b==c[d].tagName)return c[d];return null};
AdfDhtmlTableBasePeer._findFirstLevelChildrenByTagName=function(a,b){AdfAssert.assert(a!=null,"Table peer cannot find first level children by tag name if the parent is null!");for(var c=[],d=a.childNodes,e=0;e<d.length;e++)b==d[e].tagName&&c.push(d[e]);return c};
AdfDhtmlTableBasePeer.prototype.GetRowKeyAndRow=function(a,b){AdfAssert.assertDomElement(a);var c=a,d=AdfAgent.AGENT;if(c==null||c.nodeType!=1)return null;for(var e=CSCOCall_getAttribute(d,"getAttribute",c,AdfDhtmlTableBasePeer._ROW_KEY);e==null;){if(c==null||c==b)return null;c=c.parentNode;if(c==null||c.nodeType!=1)return null;e=CSCOCall_getAttribute(d,"getAttribute",c,AdfDhtmlTableBasePeer._ROW_KEY)}return[e,c]};
AdfDhtmlTableBasePeer.prototype._hideDragColumnFooter=function(a,b){var c=this._lastFrozen,d=this._firstFrozen,e=this._reorderColWidth,f=this._reorderHiddenCells,g=this._getColumnFooter(),h=null;this._hasFrozenColumn()&&!this._isColumnFrozen(a)?(h=AdfDhtmlTableBasePeer.__getChildBySubId(g,"fd2"),g=AdfDhtmlTableBasePeer.__getChildBySubId(h,"ft2")):g=AdfDhtmlTableBasePeer.__getChildBySubId(g,"ft");for(var k=0;k<2;k++)for(var l=g.rows[k].cells,m,m=this._freezeColumnsToStart()&&!this._isColumnFrozen(a)?
a-c-1:this._freezeColumnsToEnd()&&this._isColumnFrozen(a)?a-d:a,n=0;n<b;n++){var o=l[m++];f.push(o);o._afrIsFooter=!0;o.style.display="none"}this._processColGroup()&&this._hideReorderColGroupCols(g,a,b);this._adjustReorderColumnHeaderWidths(g,h,a,e)};
AdfDhtmlTableBasePeer.prototype._adjustReorderColumnHeaderWidths=function(a,b,c,d){var e=a.style;e.width=parseInt(e.width)-d+"px";if(this._hasFrozenColumn())if(this._freezeColumnsToStart())this._isColumnFrozen(c)?(e=a.nextSibling.style,AdfDhtmlTableBasePeer._isRTL()?e.right=parseInt(e.right)-d+"px":e.left=parseInt(e.left)-d+"px"):(e=b.style,e.width=parseInt(e.width)-d+"px");else{e=a.nextSibling?a.nextSibling.style:a.parentNode.nextSibling.style;if(!this._isColumnFrozen(c))AdfDhtmlTableBasePeer._isRTL()?
e.right=parseInt(e.right)-d+"px":e.left=parseInt(e.left)-d+"px",e=b.style;e.width=parseInt(e.width)-d+"px"}};AdfDhtmlTableBasePeer.prototype._adjustReorderColumnFooterWidths=function(a,b){var c=this._getColumnFooter(),d=null;this._hasFrozenColumn()&&!this._isColumnFrozen(a)?(d=AdfDhtmlTableBasePeer.__getChildBySubId(c,"fd2"),c=AdfDhtmlTableBasePeer.__getChildBySubId(d,"ft2")):c=AdfDhtmlTableBasePeer.__getChildBySubId(c,"ft");this._adjustReorderColumnHeaderWidths(c,d,a,b)};
AdfDhtmlTableBasePeer.prototype._adjustReorderInnerTableWidth=function(a,b){var c=a.style;c.width=parseInt(c.width)-b+"px";var c=a.parentNode.parentNode.style,d=c.width;if(d!="")c.width=parseInt(d)-b+"px"};
AdfDhtmlTableBasePeer.prototype._hideReorderColGroupCols=function(a,b,c,d){var e=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"COLGROUP"),f=this._firstFrozen,g=this._lastFrozen;if(e){var a=this._reorderHiddenCells,e=e.getElementsByTagName("col"),h=b;this._freezeColumnsToStart()&&!this._isColumnFrozen(b)?h=b-g-1:this._freezeColumnsToEnd()&&this._isColumnFrozen(b)&&(h=d?b-f+1:b-f);for(i=h;i<h+c;i++)if(i<e.length)b=e[i],b._afrOriginalWidth=b.style.width,b.style.width="0px",b.style.display="none",
a.push(b)}};AdfDhtmlTableBasePeer.prototype._adjustReorderNonFrozenCol=function(a,b){var c=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"COLGROUP");if(c){var c=c.getElementsByTagName("col"),d=null,d=this._freezeColumnsToEnd()?c[0]:c[c.length-1];d.style.width=parseInt(d.style.width)-b+"px"}};AdfDhtmlTableBasePeer.prototype._adjustReorderDataBodyNonFrozenCol=function(a){var b=this.GetDatabody().childNodes,c=b.length;for(i=0;i<c;i++)this._adjustReorderNonFrozenCol(b[i],a)};
AdfDhtmlTableBasePeer.prototype._insertEmptyDropColGroupCol=function(a,b,c,d,e,f,g){var a=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"COLGROUP"),h=this._firstFrozen,k=this._lastFrozen;if(a){var l=a.getElementsByTagName("col"),m=b;this._freezeColumnsToStart()&&!this._isColumnFrozen(b)?m=b-k-1:this._freezeColumnsToEnd()&&this._isColumnFrozen(b)&&(m=g?b-h+1:b-h);d&&(m+=c-1);b=l[m];c=CSCOCall_createElement(a.ownerDocument,"createElement","col");d?b.nextSibling?CSCOCall_insertBefore(a,"insertBefore",c,b.nextSibling):CSCOCall_appendChild(a,"appendChild",c):CSCOCall_insertBefore(a,"insertBefore",c,
b);c.style.width=e+"px";f.push(c);a.span++}};AdfDhtmlTableBasePeer.prototype._forceRelayoutDataBody=function(){var a=this.GetDatabody().childNodes,b=a.length,c=this._currentScrollLeft;for(i=0;i<b;i++){var d=a[i].rows[0],e=d.style;e.display="block";e.display="";this._hasFrozenColumn()&&(innerTable=this._getNestedScrolledTable(d),AdfAgent.AGENT.setScrollLeft(innerTable.parentNode,c))}};
AdfDhtmlTableBasePeer.prototype._processColumnReorderAction=function(a){var b=AdfAgent.AGENT,c=this._reorderTH;if(c){AdfDhtmlTableBasePeer.SetCursor(c,"move");AdfDhtmlTableBasePeer.SetCursor(this.getDomElement(),"move");this._columnReorderTracker=this._createReorderTracker();this._positionColumnReorderTracker(a);this._insertEmptyDropColumn(a);if(!this._colReorderDragCallback)this._colReorderDragCallback=this.createCallback(this._handleColReorderDrag),this._colReorderDropCallback=this.createCallback(this._handleColReorderDrop),
this._colReorderAbortCallback=this.createCallback(this._handleColReorderAbort);b.disableUserSelect(this.__getColumnHeader());AdfPage.PAGE.startDrag(a,this._colReorderDragCallback,this._colReorderDropCallback,this._colReorderAbortCallback);b.eatEvent(a)}};
AdfDhtmlTableBasePeer.prototype._positionColumnReorderTracker=function(a){var b=this._columnReorderTracker,c=b.style,d=this.getDomElement(),e=AdfAgent.AGENT,a=e.getMousePosition(a),d=e.getElementPosition(d),b=Math.max(a.x-d.x+(AdfDhtmlTableBasePeer._isRTL()?-b.offsetWidth+8:-8),0),a=Math.max(a.y-d.y-8,0);c.left=b+"px";c.top=a+"px"};
AdfDhtmlTableBasePeer.prototype._autoScrollColumnsIfNecessary=function(a){var b=this.getDomElement();if(!(this._getScrollWidth()<=this._getScrollerOffsetWidth())){var c=AdfAgent.getAgent(),a=c.getMousePosition(a),b=c.getElementPosition(b),b=Math.max(a.x-b.x,0),c=this.__getColumnHeader(),d,e=AdfDhtmlTableBasePeer.__getChildBySubId(c,"t");this._hasFrozenColumn()?(d=AdfDhtmlTableBasePeer.__getChildBySubId(c,"d2"),c=AdfDhtmlTableBasePeer.__getChildBySubId(d,"t2")):c=e;var a=0,f=this._currentScrollLeft,
g=!1,h=!1;if(!d||b>e.offsetWidth){if(d)a=e.offsetWidth;b-a<AdfDhtmlTableBasePeer._AUTOSCROLL_MARGIN&&f>0?g=!0:b-a>this._getScrollerClientWidth()-AdfDhtmlTableBasePeer._AUTOSCROLL_MARGIN&&(h=!0)}if(g||h){a-=f;d=AdfDhtmlTableBasePeer._ROOT_COLUMN;h=AdfDhtmlTableBasePeer._ROW_HEADER;for(e=e.rows.length-1;e>=0;e--)for(var k=c.rows[e].cells,l=k.length,m=0;m<l;m++){var n=k[m];if(CSCOCall_getAttribute(n,"getAttribute",d)&& CSCOCall_getAttribute(n,"getAttribute",h)==null){var o=n.offsetLeft+a,q=o+n.offsetWidth;if(b>=o&&b<=q){f=g?Math.max(f-n.offsetWidth,
0):Math.min(f+n.offsetWidth,this._getScrollWidth()-this._getScrollerClientWidth());this._scrollerScrollToPos(f,null);break}}}}}};AdfDhtmlTableBasePeer.prototype._handleColReorderDrag=function(a){this._autoScrollColumnsIfNecessary(a);this._positionColumnReorderTracker(a);this._insertEmptyDropColumn(a)};
AdfDhtmlTableBasePeer.prototype._handleColReorderDrop=function(){var a=null;this._reorderTH!=this._targetReorderTH&&this._targetReorderTH!=null?(a=this._getColReorderAnimationDuration(),this._reorderId=this._reorderTH.id,a>0?this._reorderColumnComponentsWithAnimation(a):this._reorderColumnComponentsWithoutAnimation()):this._targetReorderTH=null;if(a==0){if(this._columnReorderTracker!=null) CSCOCall_removeChild(this.getDomElement(),"removeChild",this._columnReorderTracker),this._columnReorderTracker=null;this._cleanUpAfterColumnReorder()}AdfAgent.AGENT.enableUserSelect(this.__getColumnHeader())};
AdfDhtmlTableBasePeer.prototype._getColReorderAnimationDuration=function(){var a=this._colReorderAnimationDuration;if(a==void 0)a=AdfPage.PAGE,this._colScrollAnimationDuration=a=a.isAnimationEnabled()?parseInt(a.getLookAndFeel().getSkinProperty("af|table-tr-column-reorder-animation-duration")):0;return a};
AdfDhtmlTableBasePeer.prototype._reorderColumnComponentsWithoutAnimation=function(){this._queueColumnReorderEvent().isCanceled()?this._handleColReorderAbort():this.DisplayStatus(AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_table.LABEL_REORDERING_COLUMN"),!0)};
AdfDhtmlTableBasePeer.prototype._queueColumnReorderEvent=function(){var a=this.getComponent(),a=new AdfTableShowColumnsEvent(a,this._reorderId,"reorderColumn");a.setTargetColumnId(this._targetReorderTH.id);a.setAfterTarget(this._insertColumnAfter);a.queue();return a};
AdfDhtmlTableBasePeer.prototype._cleanUpAfterColumnReorder=function(){AdfDhtmlTableBasePeer.SetCursor(this.getDomElement(),"");this._targetReorderTH=this._reorderTH=null;delete this._reorderId;delete this._reorderHiddenCells;delete this._insertColumnAfter;delete this._previousInsertColIndex;delete this._emptyDropCells;delete this._reorderEmptyCellWidth};
AdfDhtmlTableBasePeer.prototype._reorderColumnComponentsWithAnimation=function(a){var b=this._emptyDropCells[0].offsetLeft;b+=this._reorderDropColumnExtraX;AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_SLOW_FAST_SLOW,a,[{element:this._columnReorderTracker,properties:{top:0,left:b}}],null,AdfDhtmlTableBasePeer._columnReorderAnimationComplete,this)};
AdfDhtmlTableBasePeer.prototype._createReorderTracker=function(){var a=AdfAgent.AGENT,b=this._reorderTH,c=a.getIntAttribute(b,"_d_index",-1),b=b.colSpan,d=this.getDomElement(),e=CSCOCall_createElement(d.ownerDocument,"createElement","div"),f=e.style;CSCOCall_appendChild(d,"appendChild",e);f.overflow="hidden";f.position="absolute";f.zIndex=1E3;a.setOpacity(e,85);this._reorderHiddenCells=[];a=this._createReorderColumnLayerHeader(e,c,b);this._createReorderColumnLayerBody(e,a,c,b);this._footerless||this._hideDragColumnFooter(c,b);return e};
AdfDhtmlTableBasePeer.prototype._createReorderColumnLayerHeader=function(a,b,c){var d=AdfAgent.AGENT,e=this._lastFrozen,f=this._firstFrozen,g=this.__getColumnHeader(),h=null;this._hasFrozenColumn()&&!this._isColumnFrozen(b)?(h=AdfDhtmlTableBasePeer.__getChildBySubId(g,"d2"),g=AdfDhtmlTableBasePeer.__getChildBySubId(h,"t2")):g=AdfDhtmlTableBasePeer.__getChildBySubId(g,"t");var k=CSCOCall_createElement(a.ownerDocument,"createElement","table");k.className=g.className;k.cellSpacing=0;colTableStyle=k.style;colTableStyle.tableLayout=
"fixed";colTableStyle.position="relative";CSCOCall_appendChild(a,"appendChild",k);for(var l=g.rows.length,m=0,n=this._reorderHiddenCells,o=0;o<l;o++)for(var q=g.rows[o].cells,p=q.length,s=null,t=0,u,v=0;v<p;v++){var w=q[v],y=!1;if(o>0){y=d.getIntAttribute(w,"_d_index",-1);if(y>b)break;y=y==b}else y=this._freezeColumnsToStart()&&!this._isColumnFrozen(b)?v==b-e-1:this._freezeColumnsToEnd()&&this._isColumnFrozen(b)?v==b-f:v==b;if(y){do{if(s==null){if(s=w,u=k.insertRow(o),o==0&&d.getPlatform()==AdfAgent.IE_PLATFORM&&d.getVersion()<
8)u.style.position="absolute"}else s=q[++v];t+=s.colSpan;p=this._cloneWithSelectedOption(s,!0);d.removeIdsFromDomSubTree(p);CSCOCall_appendChild(u,"appendChild",p);u.style.height="auto";o!=0?(p.rowSpan=1,d.setOuterHeight(p,s.offsetHeight)):m+=s.offsetWidth;n.push(s)}while(t<c);break}}for(o=n.length-1;o>=0;o--)n[o].style.display="none";this._processColGroup()&&this._hideReorderColGroupCols(g,b,c);this._reorderColWidth=m;a.style.width=colTableStyle.width=m+"px";this._adjustReorderColumnHeaderWidths(g,h,b,m);d.setOuterHeight(k,
g.offsetHeight);return k};
AdfDhtmlTableBasePeer.prototype._createReorderColumnLayerBody=function(a,b,c,d){var e=AdfAgent.AGENT,f=e.getPlatform()==AdfAgent.GECKO_PLATFORM,g=this._lastFrozen,h=this._firstFrozen,k=this._reorderColWidth,b=this._cloneWithSelectedOption(b,!1);CSCOCall_appendChild(a,"appendChild",b);for(var a=this._reorderHiddenCells,l=this.GetDatabody().childNodes,m=l.length,n=0;n<m;n++){var o=l[n],q=o.rows,p=q.length,s=0;if(n==0)b.className=o.className;for(var t=0;t<p;t++){var u=q[t],v,w,y=null;this._freezeColumnsToStart()&&!this._isColumnFrozen(c)?
(y=this._getNestedScrolledTable(u),v=y.rows[0].cells,w=c-g-1):this._freezeColumnsToEnd()?this._isColumnFrozen(c)?(w=c-h+1,v=u.cells):(y=this._getNestedScrolledTable(u),v=y.rows[0].cells,w=c):(w=c,v=u.cells);if(!this._hasDetailStamp||! CSCOCall_getAttribute(AdfAgent.getAgent(),"getAttribute",u,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)){var A=b.insertRow(s);s++;for(var z=0;z<d;z++){var B=v[w++];cellClone=this._cloneWithSelectedOption(B,!0);e.removeIdsFromDomSubTree(cellClone);CSCOCall_appendChild(A,"appendChild",cellClone);a.push(B);B.style.display=
"none";f?cellClone.style.height=u.offsetHeight+"px":e.setOuterHeight(cellClone,u.offsetHeight);y!=null&&(this._adjustReorderInnerTableWidth(y,k),this._processColGroup()&&this._hideReorderColGroupCols(y,c,d))}}}this._processColGroup()&&((!this._hasFrozenColumn()||this._isColumnFrozen(c))&&this._hideReorderColGroupCols(o,c,d,!0),this._hasFrozenColumn()&&!this._isColumnFrozen(c)&&this._adjustReorderNonFrozenCol(o,k))}};
AdfDhtmlTableBasePeer.prototype._cloneWithSelectedOption=function(a,b){if(a==null)return null;var c=a.cloneNode(b);if(a.nodeType==1){if(b){var d=a.getElementsByTagName("SELECT"),e=c.getElementsByTagName("SELECT"),f=d.length;AdfAssert.assert(f==e.length,"Unexpected clone--different amounts of selects!");for(var g=0;g<f;g++)e[g].selectedIndex=d[g].selectedIndex}if(a.tagName=="SELECT")c.selectedIndex=a.selectedIndex}return c};
AdfDhtmlTableBasePeer.prototype._insertEmptyDropColumn=function(a){var b=AdfDhtmlTableBasePeer._isRTL(),c=this.getDomElement(),d=AdfAgent.AGENT,a=d.getMousePosition(a),e=d.getElementPosition(c),e=Math.max(a.x-e.x,0),a=this.__getColumnHeader(),f,g=AdfDhtmlTableBasePeer.__getChildBySubId(a,"t"),h;this._hasFrozenColumn()&&(f=AdfDhtmlTableBasePeer.__getChildBySubId(a,"d2"),h=AdfDhtmlTableBasePeer.__getChildBySubId(f,"t2"));a=0;if(b){var k=c.offsetWidth,l=g.offsetWidth,m=k-l;f&&e<=m?(c=h,a=k>l+h.offsetWidth?
k-(l+h.offsetWidth):-this._currentScrollLeft,this._getScrollHeight()>this._getScrollerOffsetHeight()&&(a+=this._getScrollerOffsetWidth()-this._getScrollerClientWidth())):(c.offsetWidth>g.offsetWidth&&(a=m),c=g)}else this._freezeColumnsToEnd()?e>=h.offsetWidth?(a=h.offsetWidth,a-=this._currentScrollLeft,c=g):c=h:e<=g.offsetWidth?c=g:f?(a=g.offsetWidth,a-=this._currentScrollLeft,c=h):c=g;var n,k=null;if(c){this._hasFrozenColumn()||(a-=this._currentScrollLeft);for(var o=g.rows.length,g=AdfDhtmlTableBasePeer._ROOT_COLUMN,
l=AdfDhtmlTableBasePeer._ROW_HEADER,m=o-1;m>=0;m--)for(var q=c.rows[m].cells,p=q.length,s=0;s<p;s++){var t=q[s];if(CSCOCall_getAttribute(t,"getAttribute",g)&& CSCOCall_getAttribute(t,"getAttribute",l)==null&&t.style.display!="none"){var u=t.offsetLeft+a,v=u+t.offsetWidth;if(b)if(e>=u&&e<=v-t.offsetWidth/2){k=t;n=t.id.indexOf("_afrBlankColumn")==-1;break}else{if(e>=u&&e<=v){k=t;n=!1;break}}else if(e>=u&&e<=v-t.offsetWidth/2){k=t;n=!1;break}else if(e>=u&&e<=v){k=t;n=t.id.indexOf("_afrBlankColumn")==-1;break}}}if(k==null&&this._previousInsertColIndex==
null)for(m=o-1;m>=0;m--)if(q=c.rows[m].cells,p=q.length,e=q[p-1], CSCOCall_getAttribute(e,"getAttribute",g)&& CSCOCall_getAttribute(e,"getAttribute",l)==null){k=e==this._reorderTH&&e.previousSibling?e.previousSibling:e;n=!0;break}if(k!=null&&(e=d.getIntAttribute(k,"_d_index",-1),g=k.colSpan,l=n?e+g:e,l!=this._previousInsertColIndex))this._removeEmptyDropColumn(h,f),this._targetReorderTH=k,this._insertColumnAfter=n,this._previousInsertColIndex=l,this._reorderDropColumnExtraX=a,this._targetHeaderTable=c,this._insertEmptyDropColumnHeader(k,e,g,h,f),
f!=null&&b&&d.setScrollLeft(f,this._currentScrollLeft),this._insertEmptyDropColumnBody(e,g),this._footerless||this._insertEmptyDropColumnFooter(e,g),this._processColGroup()&&this._forceRelayoutDataBody()}};
AdfDhtmlTableBasePeer.prototype._removeEmptyDropColumn=function(a,b){var c=this._emptyDropCells;if(c){for(var d=AdfAgent.AGENT,e=d.getPlatform()==AdfAgent.WEBKIT_PLATFORM,d=d.getIntAttribute(this._targetReorderTH,"_d_index",-1),f=this._reorderColWidth,g=c.length-1;g>=0;g--){var h=c[g],k=h.tagName;e&&k=="COL"?h.parentNode.span--:k=="TD"&&this._hasFrozenColumn()&&!this._isColumnFrozen(d)&&!h._afrIsFooter&&this._adjustReorderInnerTableWidth(h.parentNode.parentNode.parentNode,f);CSCOCall_removeChild(h.parentNode,"removeChild",h)}this._adjustReorderColumnHeaderWidths(this._targetHeaderTable,
b,d,f);this._processColGroup()&&this._hasFrozenColumn()&&!this._isColumnFrozen(d)&&this._adjustReorderDataBodyNonFrozenCol(f);this._footerless||this._adjustReorderColumnFooterWidths(d,f)}this._emptyDropCells=[]};
AdfDhtmlTableBasePeer.prototype._insertEmptyDropColumnHeader=function(a,b,c,d,e){for(var d=AdfAgent.AGENT,f=this._insertColumnAfter,g=this._reorderColWidth,h=this._emptyDropCells,k=this._lastFrozen,l=this._firstFrozen,m=this._targetHeaderTable,n=this._reorderEmptyCellWidth,o=a.ownerDocument,q=this._isFilterable(),p=q?3:2,s=0;s<p;s++){var t=m.rows[s],u=t.cells;if(s<p-1){var v=b;this._hasFrozenColumn()&&(this._freezeColumnsToStart()&&!this._isColumnFrozen(b)?v=b-k-1:this._freezeColumnsToEnd()&&this._isColumnFrozen(b)&&
(v=b-l));f&&(v+=c-1);headerCell=u[v]}else headerCell=a;u=CSCOCall_createElement(o,"createElement","th");f?headerCell.nextSibling?CSCOCall_insertBefore(t,"insertBefore",u,headerCell.nextSibling):CSCOCall_appendChild(t,"appendChild",u):CSCOCall_insertBefore(t,"insertBefore",u,headerCell);if(s==0) CSCOPut_cssText(u.style,CSCOGet_cssText(headerCell.style));else{u.className=AdfDhtmlTableBasePeer._DROP_TARGET_CLASS+" "+headerCell.className;if(s==p-1)u.rowSpan=m.rows.length-(q?2:1);CSCOPut_innerHTML(u,"&nbsp;")}n?u.style.width=n:(d.setOuterWidth(u,g),n=this._reorderEmptyCellWidth=parseInt(u.style.width)+"px");h.push(u)}this._adjustReorderColumnHeaderWidths(m,
e,b,-g);this._processColGroup()&&this._insertEmptyDropColGroupCol(m,b,c,f,g,h)};
AdfDhtmlTableBasePeer.prototype._insertEmptyDropColumnBody=function(a,b){for(var c=AdfAgent.AGENT,d=c.getPlatform()==AdfAgent.IE_PLATFORM,e=AdfDhtmlTableBasePeer._isRTL(),f=this._lastFrozen,g=this._firstFrozen,h=this._insertColumnAfter,k=this._reorderColWidth,l=this._emptyDropCells,m=this._reorderEmptyCellWidth,n=this._currentScrollLeft,o=this.GetDatabody(),q=o.childNodes,p=q.length,s=o.ownerDocument,t=AdfDhtmlTableBasePeer._DROP_TARGET_CLASS,u=this._currentScrollTop,v,w=0;w<p;w++){var y=q[w],A=y.rows,
z=A.length;if(w==0)v=y.startPos;for(var B=0;B<z;B++){var C=A[B];if(C.offsetTop-(u-v)>o.offsetHeight)break;if(!this._hasDetailStamp||! CSCOCall_getAttribute(AdfAgent.getAgent(),"getAttribute",C,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)){var D,E=null,D=h?a+b-1:a;this._freezeColumnsToStart()&&!this._isColumnFrozen(a)?(E=this._getNestedScrolledTable(C),C=E.rows[0],D=C.cells[D-f-1]):this._freezeColumnsToEnd()?this._isColumnFrozen(a)?D=C.cells[D-g+1]:(E=this._getNestedScrolledTable(C),C=E.rows[0],D=C.cells[D]):D=C.cells[D];
var F=CSCOCall_createElement(s,"createElement","td");F.className=t+" "+D.className;h?D.nextSibling?CSCOCall_insertBefore(C,"insertBefore",F,D.nextSibling):CSCOCall_appendChild(C,"appendChild",F):CSCOCall_insertBefore(C,"insertBefore",F,D);F.style.width=m;F.noWrap=!0;CSCOPut_innerHTML(F,"&nbsp;");l.push(F);if(E!=null)if(this._adjustReorderInnerTableWidth(E,-k),this._processColGroup())this._insertEmptyDropColGroupCol(E,a,b,h,k,l);else if(d)C=E.parentNode,(e||c.getScrollLeft(C)!=n)&&c.setScrollLeft(C,n)}}v+=y.offsetHeight;this._processColGroup()&&((!this._hasFrozenColumn()||this._isColumnFrozen(a))&&this._insertEmptyDropColGroupCol(y,
a,b,h,k,l,!0),this._hasFrozenColumn()&&!this._isColumnFrozen(a)&&this._adjustReorderNonFrozenCol(y,-k))}e&&!this._hasFrozenColumn()&&c.setScrollLeft(o,n)};
AdfDhtmlTableBasePeer.prototype._insertEmptyDropColumnFooter=function(a,b){var c=AdfAgent.AGENT,d=c.getPlatform()==AdfAgent.WEBKIT_PLATFORM,e=this._lastFrozen,f=this._firstFrozen,g=this._insertColumnAfter,h=this._reorderColWidth,k=this._emptyDropCells,l=this._reorderEmptyCellWidth,m=this._getColumnFooter(),n,o=null,q=g?a+b-1:a;this._hasFrozenColumn()&&!this._isColumnFrozen(a)?(o=AdfDhtmlTableBasePeer.__getChildBySubId(m,"fd2"),n=AdfDhtmlTableBasePeer.__getChildBySubId(o,"ft2"),this._freezeColumnsToStart()&&
(q-=e+1),c.getScrollLeft(o)!=this._currentScrollLeft&&c.setScrollLeft(o,this._currentScrollLeft)):(n=AdfDhtmlTableBasePeer.__getChildBySubId(m,"ft"),this._freezeColumnsToEnd()&&this._isColumnFrozen(a)&&(q-=f));c=m.ownerDocument;for(f=0;f<2;f++){m=n.rows[f];e=CSCOCall_createElement(c,"createElement",f==0?"th":"td");cell=m.cells[q];g?cell.nextSibling?CSCOCall_insertBefore(m,"insertBefore",e,cell.nextSibling):CSCOCall_appendChild(m,"appendChild",e):CSCOCall_insertBefore(m,"insertBefore",e,cell);e.style.width=l;if(f==0) CSCOPut_cssText(e.style,CSCOGet_cssText(cell.style));else if(e.className=cell.className, CSCOPut_innerHTML(e,"&nbsp;"),e._afrIsFooter=!0,d)e.rowSpan="10";k.push(e)}this._adjustReorderColumnHeaderWidths(n,o,a,-h);this._processColGroup()&&this._insertEmptyDropColGroupCol(n,a,b,g,h,k)};AdfDhtmlTableBasePeer._columnReorderAnimationComplete=function(a){a._reorderColumnComponentsWithoutAnimation();a._cleanUpAfterColumnReorder()};
AdfDhtmlTableBasePeer.prototype._handleColReorderAbort=function(){var a=AdfAgent.AGENT;AdfAgent.AGENT.getPlatform();var b=this.__getColumnHeader();AdfDhtmlTableBasePeer.__getChildBySubId(b,"t");var c,d;this._hasFrozenColumn()&&(c=AdfDhtmlTableBasePeer.__getChildBySubId(b,"d2"),d=AdfDhtmlTableBasePeer.__getChildBySubId(c,"t2"));this._removeEmptyDropColumn(d,c);for(var b=a.getIntAttribute(this._reorderTH,"_d_index",-1),c=this._reorderHiddenCells,d=this._reorderColWidth,e=c.length,f,g,h=0;h<e;h++){f=
c[h];f.style.display="";if(f._afrOriginalWidth)f.style.width=f._afrOriginalWidth;if(f.tagName=="TD"&&!f._afrIsFooter)f=f.parentNode,this._hasFrozenColumn()&&!this._isColumnFrozen(b)&&f!=g&&this._adjustReorderInnerTableWidth(f.parentNode.parentNode,-d),g=f}this._processColGroup()&&this._hasFrozenColumn()&&!this._isColumnFrozen(b)&&this._adjustReorderDataBodyNonFrozenCol(-d);this._adjustReorderColumnHeaderWidths((this._hasFrozenColumn()&&this._isColumnFrozen(b),-d));this._footerless||this._adjustReorderColumnFooterWidths(b,
-d);if(this._columnReorderTracker!=null) CSCOCall_removeChild(this.getDomElement(),"removeChild",this._columnReorderTracker),this._columnReorderTracker=null;this._cleanUpAfterColumnReorder();a.enableUserSelect(this.__getColumnHeader())};AdfDhtmlTableBasePeer.prototype.GetFocusManager=function(){return this._focusManager};AdfDhtmlTableBasePeer.prototype.GetFocusedRowKey=function(){return this._focusManager.currency};
AdfDhtmlTableBasePeer.prototype.GetLastRowKey=function(){var a=this._focusManager.currency;if(a==null&&this._isRowSelectionEnabled()){var b=this.getComponent().getSelectedRowKeys(),c;for(c in b)b[c]!=AdfUITable._SELECT_ALL&&b[c]&&(a=c)}return a};AdfDhtmlTableBasePeer.prototype.suppressSelectionEventDelivery=function(a){this._suppressSelectionEventDelivery=a};AdfDhtmlTableBasePeer.prototype.canDeliverSelectionEvent=function(){return!this._suppressSelectionEventDelivery};
AdfDhtmlTableBasePeer.prototype._getTargetRowHeader=function(a,b){for(var c=AdfAgent.getAgent(),d=null;null!=a&&a!=b;){if(c.getNodeName(a)=="TD"){CSCOCall_getAttribute(a,"getAttribute",AdfDhtmlTableBasePeer._ROW_HEADER)!=null&&(d=a);break}a=a.parentNode}return d};AdfDhtmlTableBasePeer.prototype.__getSelectedColumns=function(){for(var a=this.__getVisibleLeafColumns(),b=[],c=a.length,d=0;d<c;d++){var e=a[d];e&&e.getSelected()&&b.push(e)}return b};
AdfDhtmlTableBasePeer.prototype.GetRowHeaderCellFromRow=function(a){AdfAssert.assert(a!=null,"Unable to get row header cell from a non-valid row!");AdfAgent.getAgent();for(var b=null,c=a.cells,d=c.length,e=0;e<d;e++)if(a=c[e], CSCOCall_getAttribute(a,"getAttribute",AdfDhtmlTableBasePeer._ROW_HEADER)!=null){b=a;break}return b};
AdfDhtmlTableBasePeer.prototype._isTargetCellEditable=function(a){for(var b=AdfAgent.getAgent(),c,d=this.getDomElement(),e=AdfDhtmlTableBasePeer._INPUT_REGEXP;null!=a&&a!=d&&(c=b.getNodeName(a))!="TD"&&c!="TH";){if(a.nodeType!=3){var f=CSCOCall_getAttribute(a,"getAttribute","tabIndex",2);if(f!=null&&f>=0&&f!=32768)return!0;else if(c.match(e)&&f!=-1)return!0}a=a.parentNode}return!1};AdfDhtmlTableBasePeer.prototype._isTargetNavigable=function(a){return a&&a.tagName=="A"&&CSCOGet_href(a)&&CSCOGet_href(a).length>0&& CSCOCall_getAttribute(a,"getAttribute","href")!="#"};
AdfDhtmlTableBasePeer.prototype._handleRowMouseDown=function(a,b,c){var d=AdfAgent.AGENT,e=d.getEventTarget(a),f=this._getTargetRowHeader(e,this.getDomElement()),g=null!=f,h=this._isTargetCellEditable(e),k=d.getPlatform()==AdfAgent.GECKO_PLATFORM,l=this._isTargetNavigable(e);h||this._grabFocus();var m=d.isLeftButton(a);g?this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,b,f):(m||this._contextMenuSelect)&&this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,b,c);
if(this._isClickToEdit()&&this._getActiveRowKey()!=b){if(this._ctePatternStart=void 0,this._setActiveRowKey(b),this._saveClickToEditRequest(a,c),b)this._editableTableReadOnlyMode=!1}else if(h&&this._ctePatternStart!=this._getCellAndIndexForNode(e,c).cellIndex)this._ctePatternStart=void 0;if(this._isRowSelectionEnabled()&&(f=this._selIsSelected(b),m&&(!l||!k)||this._contextMenuSelect&&!m)){if(!f)this._doRowSelection(a,b,c),this._ignoreRowClick=!0,h||d.eatEvent(a);!h&&m&&(this._setFocusOnEditableElementInNode(d,
e),g&&this._isMultipleRowSelect()&&(d.disableUserSelect(this.GetDatabody()),this._doRowHeaderDrag(a,b),d.eatEvent(a)))}};AdfDhtmlTableBasePeer.prototype._handleDataBodySelectStart=function(a){if(!a)a=AdfPage.PAGE.getDomWindow().event;var b=AdfAgent.AGENT;this._isRowSelectionEnabled()&&!this._isTargetCellEditable(AdfAgent.AGENT.getEventTarget(a))&&b.preventDefault(a)};
AdfDhtmlTableBasePeer.prototype._doRowHeaderDrag=function(a,b){this._startDragRowHeaderKey=b;if(this._handleRowHeaderDragCallback==null)this._handleRowHeaderDragCallback=this.createCallback(this._handleRowHeaderDrag),this._endRowHeaderDragCallback=this.createCallback(this._endRowHeaderDrag);AdfPage.PAGE.startDrag(a,this._handleRowHeaderDragCallback,this._endRowHeaderDragCallback)};
AdfDhtmlTableBasePeer.prototype._handleRowHeaderDrag=function(a){var b=AdfAgent.getAgent(),c=b.getEventTarget(a);if(this._getTargetRowHeader(c,this.getDomElement())!=null){for(c=c.parentNode;c&&b.getNodeName(c)!="TR";)c=c.parentNode;if(c&&(b=CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY),b!=null))this._selectRowRange(this._startDragRowHeaderKey,b),this._startDragRowHeaderKey=b,this._autoScrollRows(a)}else for(var d=this.getDomElement(),c=c.parentNode;c&&c!=d;){if(b.getNodeName(c)=="TR"&& CSCOCall_getAttribute(b,"getAttribute",c,
AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)){this._autoScrollRows(a);break}c=c.parentNode}};
AdfDhtmlTableBasePeer.prototype._autoScrollRows=function(a){var b=AdfAgent.AGENT,c=this.GetDatabody();this.GetScroller();if(!(this._getScrollHeight()<=this._getScrollerOffsetHeight())&&(a=b.getMousePosition(a),b=b.getElementPosition(c),b=Math.max(a.y-b.y,0),c=b>c.offsetHeight-AdfDhtmlTableBasePeer._AUTOSCROLL_MARGIN,b<AdfDhtmlTableBasePeer._AUTOSCROLL_MARGIN||c))c=this._currentScrollTop+(c?this._averageRowHeight:-this._averageRowHeight),c>=0&&c<this._getScrollHeight()&&this._scrollerScrollToPos(null,
c)};AdfDhtmlTableBasePeer.prototype._endRowHeaderDrag=function(){this._startDragRowHeaderKey=null;AdfAgent.AGENT.enableUserSelect(this.GetDatabody())};
AdfDhtmlTableBasePeer.prototype._handleRowClick=function(a,b,c){var d=AdfAgent.getAgent(),e=d.getEventTarget(a),f=this._getTargetRowHeader(e,this.getDomElement()),g=null!=f;this._ignoreRowClick?this._ignoreRowClick=!1:this._isRowSelectionEnabled()&&(g?this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,b,f):this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,b,c),e=this._isTargetNavigable(e),f=d.getPlatform()==AdfAgent.GECKO_PLATFORM,((d=d.isLeftButtonClick(a))&&
(!e||!f)||this._contextMenuSelect&&!d)&&this._doRowSelection(a,b,c))};
AdfDhtmlTableBasePeer.prototype._doRowSelection=function(a,b,c){var d=this._isMultipleRowSelect(),e=AdfAgent.AGENT;if(d&&e.isSelectionToggle(a))this._unSelectAllColumns(),this._anchorRowKey=b,this._selIsSelected(b)?(!e.disableSelectionToggleOnEditableCell()||!this._isTargetCellEditable(e.getEventTarget(a)))&&this._selUnselectRow(b,c):this._selSelectRow(b,c);else if(d&&a.shiftKey){if(a=this._anchorRowKey){if(!this.FindRowByKey(a)){c=this.getComponent();c=new AdfSelectionEvent(c,c.getSelectedRowKeys(),
null);c.setSelectionRange(a,b);c.queue();return}}else a=this._anchorRowKey=b;this.suppressSelectionEventDelivery(!0);this._selUnselectAll();this._queueColumnSelectionEvent();this.suppressSelectionEventDelivery(!1);this._selectRowRange(b,a)}else this._anchorRowKey=b,this._selIsOnlySelection(b)||(this.suppressSelectionEventDelivery(!0),this._selUnselectAll(),this.suppressSelectionEventDelivery(!1),this._selSelectRow(b,c),this._queueColumnSelectionEvent())};
AdfDhtmlTableBasePeer.prototype._selUnselectAll=function(){this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT,!0);this._unSelectAllColumns();this._updateTableSelectionState({})};AdfDhtmlTableBasePeer.prototype._selSelectRow=function(a,b,c){this._selHighlightRow(b);c||(b=this.getComponent(),c={},AdfCollections.copyInto(c,b.getSelectedRowKeys()),c[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]?delete c[a]:c[a]=!0,this._updateTableSelectionState(c))};
AdfDhtmlTableBasePeer.prototype._selUnselectRow=function(a,b){this._selUnhighlightRow(b);var c={};AdfCollections.copyInto(c,this.getComponent().getSelectedRowKeys());c[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]?c[a]=!0:delete c[a];this._updateTableSelectionState(c)};
AdfDhtmlTableBasePeer.prototype._selectRowRange=function(a,b){var c=this.GetDatabody();if(c!=null){var d=AdfAgent.getAgent(),e=this.getComponent(),f={};AdfCollections.copyInto(f,e.getSelectedRowKeys());for(var e=f[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY],g=!1,h=!1,c=c.childNodes,k=c.length,l=0;l<k&&!h;++l)for(var m=c[l].rows,n=m.length,o=0;o<n;++o){var q=m[o],p=CSCOCall_getAttribute(d,"getAttribute",q,AdfDhtmlTableBasePeer._ROW_KEY);if(p!=null){if(p==a||p==b){if(g||a==b)h=!0;g=!0}g&&(this._selSelectRow(p,q,!0),e?delete f[p]:
f[p]=!0);if(h)break}}this._updateTableSelectionState(f)}};AdfDhtmlTableBasePeer.prototype._selIsSelected=function(a){var b=this.getComponent().getSelectedRowKeys(),a=b?b[a]:!1;return b[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]?!a:a};AdfDhtmlTableBasePeer.prototype._selIsOnlySelection=function(a){var b=this.getComponent().getSelectedRowKeys();if(b[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]!=null)return!1;var c=b[a];if(c)for(var d in b)if(d!=a){c=!1;break}return c};
AdfDhtmlTableBasePeer.prototype._selHighlightRow=function(a){AdfAssert.assertDomNode(a);AdfDomUtils.addCSSClassName(a,AdfDhtmlTableBasePeer._SELECTED_CLASS);AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._HIGHLIGHTED_CLASS);this.isInActiveHeirarchy()?AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._INACTIVE_CLASS):AdfDomUtils.addCSSClassName(a,AdfDhtmlTableBasePeer._INACTIVE_CLASS)};
AdfDhtmlTableBasePeer.prototype._selUnhighlightRow=function(a){AdfAssert.assertDomNode(a);AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._INACTIVE_CLASS);AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._SELECTED_CLASS)};AdfDhtmlTableBasePeer.prototype._isColumnSelectionEnabled=function(){var a=this.getComponent().getColumnSelection?this.getComponent().getColumnSelection():null;return a&&a!=AdfDhtmlTableBasePeer._SELECTION_NONE};
AdfDhtmlTableBasePeer.prototype._isMultipleColumnSelect=function(){var a=this.getComponent().getColumnSelection?this.getComponent().getColumnSelection():null;return a&&a==AdfDhtmlTableBasePeer._SELECTION_MULTIPLE};AdfDhtmlTableBasePeer.prototype._isRowSelectionEnabled=function(a){a||(a=this.getComponent());return(a=a.getRowSelection())&&a.toLowerCase()!=AdfDhtmlTableBasePeer._SELECTION_NONE};
AdfDhtmlTableBasePeer.prototype._isMultipleRowSelect=function(){var a=this.getComponent().getRowSelection();return a&&a.toLowerCase().indexOf(AdfDhtmlTableBasePeer._SELECTION_MULTIPLE)!=-1};AdfDhtmlTableBasePeer.prototype._isMultipleRowSelectNoSelectAll=function(){var a=this.getComponent().getRowSelection();return a&&a.indexOf(AdfDhtmlTableBasePeer._SELECTION_MULTIPLE_NOSELECTALL)!=-1};
AdfDhtmlTableBasePeer.prototype._selUpdateAll=function(a,b,c){c==null&&(c=this.getComponent().getSelectedRowKeys());var d=!1;c!=null&&(d=c[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]?!0:!1);d?this._selectAllSelectionUpdate(a,b,c):this._normalSelectionUpdate(a,b,c)};
AdfDhtmlTableBasePeer.prototype._normalSelectionUpdate=function(a,b,c){var d=this.GetDatabody();if(d!=null){if(!0==b)this._highlightedRowKey=null;if(c&&!AdfCollections.isEmpty(c)){for(var d=d.childNodes,e=d.length,f=AdfAgent.getAgent(),g=0;g<e;++g){var h=d[g].rows;if(h)for(var k=h.length,l=0;l<k;++l){var m=h[l],n=CSCOCall_getAttribute(f,"getAttribute",m,AdfDhtmlTableBasePeer._ROW_KEY);if(n!=null&&!(!1==b&&this._highlightedRowKey==n))switch(a){case AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_SELECT:this._selHighlightRow(m);break;
case AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT:this._selUnhighlightRow(m);break;case AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UPDATE:c[n]?this._selHighlightRow(m):this._selUnhighlightRow(m)}}}this._updateColumnSelection(a!=1)}}};
AdfDhtmlTableBasePeer.prototype._selectAllSelectionUpdate=function(a,b,c){var d=this.GetDatabody();if(d!=null){if(!0==b)this._highlightedRowKey=null;if(c&&!AdfCollections.isEmpty(c))for(var d=d.childNodes,e=d.length,f=AdfAgent.getAgent(),g=0;g<e;++g){var h=d[g].rows;if(h)for(var k=h.length,l=0;l<k;++l){var m=h[l],n=CSCOCall_getAttribute(f,"getAttribute",m,AdfDhtmlTableBasePeer._ROW_KEY);if(n!=null&&!(!1==b&&this._highlightedRowKey==n))switch(a){case AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_SELECT:this._selHighlightRow(m);break;
case AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT:this._selUnhighlightRow(m);break;case AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UPDATE:c[n]?this._selUnhighlightRow(m):this._selHighlightRow(m)}}}}};
AdfDhtmlTableBasePeer.prototype._selSelectAll=function(){var a=this.GetDatabody();if(a!=null&&this._isMultipleRowSelect()){this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT,!0);var b={};b[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]=!0;this._updateTableSelectionState(b);for(var a=a.childNodes,b=a.length,c=AdfAgent.getAgent(),d=0;d<b;++d)for(var e=a[d].rows,f=e.length,g=0;g<f;++g){var h=e[g];CSCOCall_getAttribute(c,"getAttribute",h,AdfDhtmlTableBasePeer._ROW_KEY)!=null&&this._selHighlightRow(h)}}};
AdfDhtmlTableBasePeer.prototype._unhiglightAnyExistingHighlightedRow=function(){var a=this._highlightedRowKey;if(a&&(this._highlightedRowKey=null,!this._selIsSelected(a)))this._selUnhighlightRow(this._highlightedRow),this._highlightedRow=null};AdfDhtmlTableBasePeer.prototype._updateTableSelectionState=function(a){this._ignoreSelSet=!0;AdfLogger.LOGGER.finer("Update Table selection state to:",a);this.getComponent().setSelectedRowKeys(a);this._ignoreSelSet=!1};
AdfDhtmlTableBasePeer.prototype.ComponentSelectedRowKeysChanged=function(a,b,c,d){this._ignoreSelSet?(a=this.GetAssociatedComponent(),a!=null&&a.setSelectedRowKeys(c)):(this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT,!0,d),this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UPDATE,!0,c));this._pcPeer&&this._pcPeer.updateRowSelectionContext()};
AdfDhtmlTableBasePeer.prototype._resolveColumns=function(a,b,c){var d=AdfAgent.AGENT.getIntAttribute(c,"_d_index",-1);if(d>=0){var e=c.colSpan;if(e!=null&&(e=parseInt(e))>1)for(c=d+e;d<c;)b.push(this._getColumnHeaderLeafCell(d).id),a.push(d++);else a.push(d),b.push(c.id)}};
AdfDhtmlTableBasePeer.prototype._handleColumnHeaderDrag=function(a){var b=this.__getColumnHeaderMouseAction(a);if(b!=null&&"select"==b.type){var c=b.colIndices;c.length>0&&(this._selectColumnRange(this._activeColIndices,this._activeColIds,c,b.colIds),this._queueColumnSelectionEvent())}this._autoScrollColumnsIfNecessary(a);this._pcPeer&&this._pcPeer.updateStandardMenuToolbarItems()};
AdfDhtmlTableBasePeer.prototype._handleColumnHeaderDrop=function(){var a=this.__getColumnHeader();AdfAgent.AGENT.enableUserSelect(a);this._queueColumnSelectionEvent()};
AdfDhtmlTableBasePeer.prototype._doColumnSelections=function(a,b,c){var d=AdfPage.PAGE;if(this._isMultipleColumnSelect()&&AdfAgent.AGENT.isSelectionToggle(a)){a=this.getComponent().getSelectedRowKeys();AdfCollections.isEmpty(a)||(this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT,!0),this._updateTableSelectionState({}));this._activeColIndices=b;this._activeColIds=c;for(a=0;a<b.length;a++){var e=d.findComponent(c[a]);e.getSelected()?this._unSelectColumn(b[a],e,!1):this._selectColumn(b[a],
e,!1)}this._queueColumnSelectionEvent()}else if(a.shiftKey&&this._isMultipleColumnSelect())this._activeColIndices&&this._activeColIndices.length>=0&&(this._clearColumnSelectionEventChangedSets(),this._selUnselectAll(),this._selectColumnRange(this._activeColIndices,this._activeColIds,b,c),this._queueColumnSelectionEvent());else{this._activeColIndices=b;this._activeColIds=c;this._clearColumnSelectionEventChangedSets();this._selUnselectAll();for(a=0;a<b.length;a++)e=d.findComponent(c[a]),this._selectColumn(b[a],
e,!1);this._queueColumnSelectionEvent()}this._pcPeer&&this._pcPeer.updateStandardMenuToolbarItems()};AdfDhtmlTableBasePeer.prototype._selectColumn=function(a,b,c){b.getSelected()||(CSCOCall_setProperty(b,"setProperty",AdfRichColumn.SELECTED,!0,!0,AdfUIComponent.PROPAGATE_NEVER),this._highlightColumn(a),this._isClickToEdit()&&this._getActiveRowKey()&&this._setActiveRowKey(null),this._colSelEventSelectedColIds[b.getClientId()]=!0,c&&this._queueColumnSelectionEvent())};
AdfDhtmlTableBasePeer.prototype._unSelectColumn=function(a,b,c){b.getSelected()&&(CSCOCall_setProperty(b,"setProperty",AdfRichColumn.SELECTED,!1,!0,AdfUIComponent.PROPAGATE_NEVER),this._unHighlightColumn(a),this._colSelEventUnselectedColIds[b.getClientId()]=!0,c&&this._queueColumnSelectionEvent())};
AdfDhtmlTableBasePeer.prototype._unSelectAllColumns=function(){if(this._isColumnSelectionEnabled()){var a=AdfPage.PAGE,b=this._colCount,c;this._clearColumnSelectionEventRemovedSet();for(var d=0;d<b;d++)(c=this._getColumnHeaderLeafCell(d))&&this._unSelectColumn(d,a.findComponent(c.id),!1)}this._pcPeer&&this._pcPeer.updateStandardMenuToolbarItems()};
AdfDhtmlTableBasePeer.prototype._updateColumnSelection=function(a){if(!this._headerless){var b=AdfPage.PAGE,c=this._colCount;this.getComponent();for(var d=0;d<c;d++){var e=this._getColumnHeaderLeafCell(d);e&&b.findComponent(e.id).getSelected()&&(a?this._highlightColumn(d):this._unHighlightColumn(d))}}};
AdfDhtmlTableBasePeer.prototype._selectColumnRange=function(a,b,c,d){for(var e=AdfPage.PAGE,f=0;f<a.length;f++)this._selectColumn(a[f],e.findComponent(b[f]));f=c[0]>a[0]?1:-1;a=a[0];for(b=b[0];a!=c[0];)this._selectColumn(a,e.findComponent(b)),a+=f,b=this._getColumnHeaderLeafCell(a).id;for(f=0;f<c.length;f++)this._selectColumn(c[f],e.findComponent(d[f]))};
AdfDhtmlTableBasePeer.prototype._highlightColumn=function(a){this._highlightCell(this._getColumnHeaderLeafCell(a),!0);for(var b=this.GetDatabody().childNodes,c=b.length,d=null,e=AdfAgent.getAgent(),f=0;f<c;++f)for(var g=b[f].rows,h=g.length,k=0;k<h;++k) CSCOCall_getAttribute(e,"getAttribute",g[k],AdfDhtmlTableBasePeer._ROW_KEY,null)&&(d==null&&(d=this.isInActiveHeirarchy()),this._hasFrozenColumn()&&!this._isColumnFrozen(a)?this._highlightCell(this._getInnerTableCell(g[k],a),d):!this._hasFrozenColumn()||this._freezeColumnsToStart()?
this._highlightCell(g[k].cells[a],d):this._highlightCell(g[k].cells[a-this._firstFrozen+1],d))};
AdfDhtmlTableBasePeer.prototype._unHighlightColumn=function(a){this._unHighlightCell(this._getColumnHeaderLeafCell(a),!0);for(var b=this.GetDatabody().childNodes,c=b.length,d=AdfAgent.getAgent(),e=0;e<c;++e)for(var f=b[e].rows,g=f.length,h=0;h<g;++h) CSCOCall_getAttribute(d,"getAttribute",f[h],AdfDhtmlTableBasePeer._ROW_KEY,null)&&(this._hasFrozenColumn()&&!this._isColumnFrozen(a)?this._unHighlightCell(this._getInnerTableCell(f[h],a)):!this._hasFrozenColumn()||this._freezeColumnsToStart()?this._unHighlightCell(f[h].cells[a]):
this._unHighlightCell(f[h].cells[a-this._firstFrozen+1]))};AdfDhtmlTableBasePeer.prototype._highlightCell=function(a){AdfDomUtils.addCSSClassName(a,AdfDhtmlTableBasePeer._SELECTED_CLASS)};AdfDhtmlTableBasePeer.prototype._unHighlightCell=function(a){AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._SELECTED_CLASS);AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._INACTIVE_CLASS)};
AdfDhtmlTableBasePeer.prototype._getParentTH=function(a){for(var a=AdfAgent.AGENT.getEventTarget(a),b=null,c=this.getDomElement();!b&&a&&a!=c&&a.nodeType==1;) CSCOCall_getAttribute(a,"getAttribute","_d_index")?b=a:a=a.parentNode;return b};AdfDhtmlTableBasePeer.prototype._getColumnHeaderCellForEvent=function(a){var b=null,c=this.__getColumnHeader(),d=AdfAgent.AGENT,c=d.getElementPosition(c);d.getMousePosition(a).y-c.y<=this._cachedCHHeight&&(b=this._getParentTH(a));return b};
AdfDhtmlTableBasePeer.prototype.__getColumnHeaderMouseAction=function(a){if(!this._virtInitialized)return null;var b=null;if(!this._headerless){var c=AdfAgent.AGENT,d=null,e=this.__getColumnHeader(),e=c.getElementPosition(e),f=c.getMousePosition(a);f.y-e.y<=this._cachedCHHeight&&(d=this._getParentTH(a));if(d){var b={},e=null,g=c.getIntAttribute(d,"_d_index",-1),h=AdfDhtmlTableBasePeer._isRTL();if(g!=-1){var c=c.getElementPosition(d),c=f.x-c.x,f=d.offsetWidth,k=!(this._lastColWidthOverride!=-1&&g==
this._colCount-1);c<=this.__getColumnResizeMargin()?h?k&&(e="end"):g>0&&(e="start"):f-c<=this.__getColumnResizeMargin()&&(h?g>0&&(e="start"):k&&(e="end"))}b.cell=d;e?(b.type="resize", CSCOPut_data(b,e)):d&& CSCOCall_getAttribute(d,"getAttribute",AdfDhtmlTableBasePeer._SELECT_ALL)!=null?b.type="selectAll":CSCOCall_getAttribute(d,"getAttribute","_afrFH")!=null?b.type="clearAllFilter":this._getColHeaderMouseSelAction(a,b,d)}}return b};
AdfDhtmlTableBasePeer.prototype._getColHeaderMouseSelAction=function(a,b,c){var d=AdfAgent.AGENT,e=d.getEventTarget(a),f=this._isColumnSelectionEnabled(),g=CSCOCall_getAttribute(e.parentNode,"getAttribute",AdfDhtmlTableBasePeer._SORT_ASCENDING);g||(g=CSCOCall_getAttribute(e.parentNode.parentNode,"getAttribute",AdfDhtmlTableBasePeer._SORT_ASCENDING));var h=CSCOCall_getAttribute(e.parentNode,"getAttribute",AdfDhtmlTableBasePeer._SORT_DESCENDING);h||(h=CSCOCall_getAttribute(e.parentNode.parentNode,"getAttribute",AdfDhtmlTableBasePeer._SORT_DESCENDING));if(g||h){if(a.type=="click"){d=d.getElementById(AdfRichUIPeer.CreateSubId(c.id,
AdfDhtmlTableBasePeer.__SORT_INDICATOR));a=CSCOCall_getAttribute(d,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE);if(g){if(a==AdfDhtmlTableBasePeer._SORTED_ASCENDING)return;b.sortOrder=!0}else if(h){if(a==AdfDhtmlTableBasePeer._SORTED_DESCENDING)return;b.sortOrder=!1}b.type="sort";b.sortProperty=AdfPage.PAGE.findComponent(c.id).getSortProperty()}}else if(c.id.indexOf("_afrBlankColumn")==-1)if(!f&&this.getComponent().getDisableColumnReordering()&& CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._ROW_HEADER)==null)b.type="default";
else if(!f&& CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._ROW_HEADER)==null&& CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._ROOT_COLUMN)!=null)d=d.getElementById(AdfRichUIPeer.CreateSubId(c.id,AdfDhtmlTableBasePeer.__SORT_INDICATOR)),d!=null?a.type=="click"?(a=CSCOCall_getAttribute(d,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE),b.sortOrder=a==AdfDhtmlTableBasePeer._SORTED_ASCENDING?!1:!0,b.type="sort",b.sortProperty=AdfPage.PAGE.findComponent(c.id).getSortProperty()):b.type=a.type=="mousemove"?"default":"move":b.type="move";else if(CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._ROW_HEADER)==
null)if((!f||!d.isSelectionToggle(a))&&this._shouldEnableColumnReorder(a,c)){if(!this.getComponent().getDisableColumnReordering())b.type="move"}else c.id&&f?(b.type="select",this._resolveColumns(b.colIndices=[],b.colIds=[],c)):b.type="default"};
AdfDhtmlTableBasePeer.prototype._shouldEnableColumnReorder=function(a,b){var c=AdfPage.PAGE,d=!1,e=null,f=this._flattenedColumns,f=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._LEAF_COLUMN)!=null,g=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._ROOT_COLUMN)!=null;if(f&&g)b.id&&b.id.length>0&&c.findComponent(b.id).getSelected()&&(e=[b.id]);else if(g)if(this._resolveColumns([],e=[],b),e.length==0)e=null;else for(i=e.length-1;i>=0;--i)if(!c.findComponent(e[i]).getSelected()){e=null;break}if(e){d=!0;f=this.__getVisibleLeafColumns();
for(i=f.length-1;i>=0;--i)if((c=f[i])&&c.getSelected()){g=!1;for(j=e.length-1;j>=0;--j)if(c.getClientId()==e[j]){g=!0;break}if(!g){d=!1;break}}}return d};AdfDhtmlTableBasePeer.prototype._handleColResizeDrag=function(a,b){var c=this._getColumnResizeIndicator().style,d=parseInt(c.left),e=parseInt(this._resizedTH.style.width),f=this._resizeColDelta+(AdfDhtmlTableBasePeer._isRTL()?-b:b),g=this._getLargestMinimumWidth();this._resizeColDelta=f;if(e+f>=g)c.left=d+b+"px"};
AdfDhtmlTableBasePeer.prototype._getLargestMinimumWidth=function(){var a=this._resizedIndex,b=this.__getVisibleLeafColumns()[a],a=this._largestMinimumWidth;if(a==null){var a=0,c=this.__getSelectedColumns();if(AdfCollections.indexOf(c,b)==-1)a=b.getMinimumWidth();else for(var b=c.length,d=0;d<b;d++)var e=c[d].getMinimumWidth(),a=Math.max(a,e);this._largestMinimumWidth=a}return this._largestMinimumWidth};
AdfDhtmlTableBasePeer.prototype._handleColResizeDrop=function(){this._getColumnResizeIndicator().style.display="none";var a=this._resizeColDelta,b=this._resizedTH,c=a+parseInt(b.style.width),d=this._getLargestMinimumWidth(),c=Math.max(c,d);this._hasFrozenColumn()&&this._isColumnFrozen(this._resizedIndex)&&(d=Math.max(this.GetDatabody().clientWidth-10,d),b.offsetLeft+c>=d&&(c=d-b.offsetLeft));AdfAssert.assert(!isNaN(c),"Illegal width for column resize drop.  delta = "+a+", th.style.width = "+b.style.width);
this._doColResizesFromUser(c,null)};
AdfDhtmlTableBasePeer.prototype._doColResizesFromUser=function(a,b){this._resizedTH=this._largestMinimumWidth=null;var c=this._resizedIndex,d=this.__getVisibleLeafColumns(),e=d.length,f=d[c],g=this.GetDatabody(),h=this.__getSelectedColumns(),k=!1;b==null&&(k=AdfCollections.indexOf(h,f)!=-1);var l;this.IsEmpty||(l=g.childNodes[0].rows[0],AdfAssert.assert(l!=null,"this.IsEmpty was "+this.IsEmpty+" but there were no rows!"));for(var m=[],f=[],n,o=0,q=0,p,s=this._columnStretching,t=0,p=0;p<e;p++){var n=
d[p],u=this._getColumnFlex(n,null,s,e,p),g=this._getColumnActualWidth(p,l);t+=g;k&&AdfCollections.indexOf(h,n)!=-1||!k&&p==c?(b!=null&&(u=this._getColumnFlex(null,b,s,e,p)),o++,q+=g,f.push({component:n,displayIndex:p,flex:u,minimumWidth:n.getMinimumWidth(),actualWidth:g})):u!=null&&n.getMinimumWidth()}if(s!="none"&&s!="blank")return this._userDragStretchedColumns(a,b,l,f,d,s);c=o*a-q;g=Math.abs(c);p=m.length;n=Math.floor(g/p);h=g-p*n;k=0;do{for(l=0;l<p;l++)if(e=m[l],!0!=e.atMinimum){d=e.minimumWidth;
g=e.actualWidth;o=n;h>0&&(o+=h,h=0);c<0&&(o*=-1);o=g-o;q=e.desiredWidth;q!=null&&(o+=q-g);d=Math.max(d,o);if(d!=o)e.atMinimum=!0,k++;h+=d-o;e.desiredWidth=d}n=0}while(h!=0&&k<p);m=[].concat(m);g=f.length;for(p=0;p<g;p++)n=f[p],n.flex==null?(delta=a-n.actualWidth,this._doResizeColumn(n.displayIndex,null,a,delta,!0)):(n.desiredWidth=a,m.push(n));f=m.length;for(p=e=0;p<f;p++){n=m[p];d=n.desiredWidth;g=n.actualWidth;if(d==null)d=g,n.desiredWidth=d;n.delta=d-g;e+=d}g=[];for(p=0;p<f;p++)n=m[p],d=n.desiredWidth,
delta=n.delta,c=n.displayIndex,this._doResizeColumn(c,null,d,delta,!1),h=Math.round(1E4*d/e)+"%",n=n.component,this._ignoreSetColWidth=!0, CSCOCall_setProperty(n,"setProperty",AdfRichColumn.WIDTH,h,!0),delete this._ignoreSetColWidth,g.push({displayIndex:c,width:d});this._currentColumnStretchDetails=g;this._stretchTheColumns();f=this.__getColumnHeader();AdfAgent.AGENT.enableUserSelect(f)};
AdfDhtmlTableBasePeer.prototype._userDragStretchedColumns=function(a,b,c,d,e,f){var g=[],h=d.length,k=0,l=0,m,n,o=!1;b==null&&(b=0,o=!0);for(n=0;n<h;n++)m=d[n],m.desiredWidth=m.minimumWidth,g[m.displayIndex]=m,k+=m.minimumWidth,l=Math.max(l,m.actualWidth),o&&(b+=m.actualWidth);var q=m=0,p,o=!1,s=[];if(a>l){o=!0;for(n=d[h-1].displayIndex+1;n<e.length;n++)s.push(this._createStrechColumnData(n,e[n],c)),p=s.length-1,m+=s[p].minimumWidth,q+=s[p].actualWidth}else for(n=d[0].displayIndex-1;n>=0;n--)s.push(this._createStrechColumnData(n,
e[n],c)),p=s.length-1,m+=s[p].minimumWidth,q+=s[p].actualWidth;n=q-m;l=a-l;if(l>=0&&l>n&&(a=n+k,l=n,a<=0))return;d.sort(AdfDhtmlTableBasePeer.__columnSortComparator);for(b=b-k+l;b!=0;){q=[];p=d[0].desiredWidth;for(n=0;n<h;n++){var t=0,m=d[n];d[n+1]?t=m.desiredWidth:(p=Math.abs(b),t=Math.abs(b));if(t<=p)q.push(m);else break}m=Math.floor(b/q.length);m>p&&q.length<h&&(m=d[q.length].desiredWidth-q[q.length-1].desiredWidth);for(n=0;n<q.length;n++)q[n].desiredWidth+=m,b-=m;b/q.length<1&&(d[h-1].desiredWidth+=
b,b=0)}for(n=0;n<h;n++)m=d[n],m.flex=Math.abs(m.desiredWidth),this._doResizeColumn(m.displayIndex,null,m.flex,m.flex-m.actualWidth,!0);o||(d=d[h-1].displayIndex+1,e[d]||d++,d<e.length&&(h=Math.abs(l),s[d]={component:e[d],displayIndex:n,minimumWidth:e[d].getMinimumWidth(),actualWidth:this._getColumnActualWidth(d,c)},s[d].actualWidth+=h,this._doResizeColumn(d,null,s[d].actualWidth,h,!0),a>=k&&(l=0)));if(o){d=l;for(n=0;n<s.length;n++)if(a=s[n],a.component)if(k=a.actualWidth-a.minimumWidth,d>=k)a.newWidth=
a.minimumWidth,a.flex=a.newWidth,g[a.displayIndex]=a,this._doResizeColumn(a.displayIndex,null,a.newWidth,o?-k:k,!0),d-=k;else{a.newWidth=a.actualWidth-l;a.flex=a.newWidth;g[a.displayIndex]=a;this._doResizeColumn(a.displayIndex,null,a.newWidth,o?-d:d,!0);break}}o=[];for(n=0;n<e.length;n++)g[n]||(s=this._getColumnFlex(e[n],null,f,e.length,n))&&o.push({displayIndex:n,width:this._getColumnActualWidth(n,c)});this._currentColumnStretchDetails=o;this._stretchTheColumns();c=this.__getColumnHeader();AdfAgent.AGENT.enableUserSelect(c)};
AdfDhtmlTableBasePeer.prototype._createStrechColumnData=function(a,b,c){var d=null;b?d={component:b,displayIndex:a,minimumWidth:b.getMinimumWidth(),actualWidth:this._getColumnActualWidth(a,c)}:(b=this._getColumnActualWidth(a,c),d={component:null,displayIndex:a,minimumWidth:b,actualWidth:b});return d};AdfDhtmlTableBasePeer.__columnSortComparator=function(a,b){return a.minimumWidth-b.minimumWidth};
AdfDhtmlTableBasePeer.prototype.__getPixelWidthFromPercent=function(a){a=parseInt(a);if(!isNaN(a))return a=this.GetDatabody().offsetWidth*a/100,a.toFixed(0);return null};
AdfDhtmlTableBasePeer.prototype.resizeColumn=function(a,b,c){if(!this._ignoreSetColWidth){for(var d=CSCOCall_toString(b,"toString").indexOf("%")>0,e=a.getClientId(),f=this.__getColumnHeader(),g=AdfAgent.AGENT,f=f.getElementsByTagName("th"),h=f.length,k,l=0;l<h;++l)if(f[l].id==e){k=f[l];this._resizedIndex=e=g.getIntAttribute(k,"_d_index",0);break}if(k){k=100;b!=null&&(k=b,d&&(k=this.__getPixelWidthFromPercent(b)));if(isNaN(k)||k<=0||k>3200)k=100;b=this.__getSelectedColumns();if(AdfCollections.indexOf(b,a)!=-1){a=b.length;
for(d=0;d<a;d++)k=Math.max(k,b[d].getMinimumWidth())}else k=Math.max(k,a.getMinimumWidth());this._doColResizesFromUser(k,c)}}};
AdfDhtmlTableBasePeer.prototype._doResizeColumn=function(a,b,c,d,e){var f=!1,g=!1,h=!1,k=!1;this._hasFrozenColumn()&&(this._totalWidth+=d,this._isColumnFrozen(a)?(this._frozenWidth+=d,h=!0):(this._unfrozenWidth+=d,k=!0));var l=this.GetDatabody();(h||k)&&!this.IsEmpty&&this._sizeRegionsForFrozenColumns(l,l.offsetWidth);if(!this._headerless)if(k=this.__getColumnHeader(),b||(b=this._getColumnHeaderFooterSizingCell(a,k,"t","d2","t2")),this._resizeColumnHeaderFooterColumn(b,d,k,a,"t","d2","t2"),this.IsEmpty)this._incrementWidth(k,
d),this._synchronizeColumnRowHeights(k,"t","d2","t2");else if(this._synchronizeColumnRowHeights(k,"t","d2","t2"),b=k.offsetHeight,b!=this._cachedCHHeight)this._cachedCHHeight=b,f=!0;if(!this._footerless)if(k=this._getColumnFooter(),b=this._getColumnHeaderFooterSizingCell(a,k,"ft","fd2","ft2"),this._resizeColumnHeaderFooterColumn(b,d,k,a,"ft","fd2","ft2"),this.IsEmpty)this._incrementWidth(k,d),this._synchronizeColumnRowHeights(k,"ft","fd2","ft2");else if(this._synchronizeColumnRowHeights(k,"ft","fd2",
"ft2"),b=k.offsetHeight,b!=this._cachedCFHeight)this._cachedCFHeight=b,g=!0;if(!this.IsEmpty){d=this._resizeDatabodyColumn(l,a,d);if(f||g||h)f=this.getDomElement(),this._setScrollerTop(this._cachedCHHeight),this._setScrollerHeight(f.clientHeight,this._cachedCHHeight,this._cachedCFHeight,this._cachedNBHeight),this._setScrollerWidth(f.clientWidth,this._frozenWidth);f=l.firstChild;this._setFakeCanvasWidth(this._hasFrozenColumn()?!this._areAllColumnsFrozen()?parseInt(this._getNestedScrolledTable(f.rows[0]).style.width):
0:parseInt(f.style.width));f=d.relFactor;g=d.delta;this._adjustCanvasHeight(g!=void 0?g:Math.round((f-1)*this._averageRowHeight*this.GetKnownRowCount()),l,!0,!0);if(e)a=this.__getVisibleLeafColumns()[a],this._ignoreSetColWidth=!0, CSCOCall_setProperty(a,"setProperty",AdfRichColumn.WIDTH,c,!0),delete this._ignoreSetColWidth;c=this.__getScrollLeft();if(this._currentScrollLeft!=c)this._currentScrollLeft=c,this._handleHorizontalScroll(c);this._virtInitialized||this._fillViewPort(l,l.offsetHeight,!1)}};
AdfDhtmlTableBasePeer.prototype._resizeColumnHeaderFooterColumn=function(a,b,c,d,e,f,g){a=this._incrementWidth(a,b);e=AdfDhtmlTableBasePeer.__getChildBySubId(c,e);this._hasFrozenColumn()?(c=AdfDhtmlTableBasePeer.__getChildBySubId(c,f),g=AdfDhtmlTableBasePeer.__getChildBySubId(c,g),this._freezeColumnsToStart()?this._isColumnFrozen(d)?(this._incrementWidth(e,b),b=e.style.width,d=c.style,AdfDhtmlTableBasePeer._isRTL()?d.right=b:d.left=b):this._incrementWidth(g,b):this._isColumnFrozen(d)?this._incrementWidth(e,
b):(this._incrementWidth(g,b),b=g.style.width,AdfDhtmlTableBasePeer._isRTL()?e.style.right=b:e.style.left=b)):this._incrementWidth(e,b);return a};
AdfDhtmlTableBasePeer.prototype._resizeDatabodyColumn=function(a,b,c){for(var d=0,e=0,a=a.childNodes,f=a.length-1;f>=0;f--){var g=a[f];d+=g.cachedHeight;this._resizeBlockColumn(g,b,c);g._lastSyncRow=null;this._synchronizeRowHeights(g);var h=g.offsetHeight;e+=h;if(h!=g.cachedHeight)for(var k=h-g.cachedHeight,l=f+1;l<a.length;l++)a[l].startPos+=k;g.cachedHeight=h}b=a.length==1&&a[0].startRow==0&&a[0].numRows==this.GetKnownRowCount()?e-d:void 0;return{relFactor:e/d,delta:b}};
AdfDhtmlTableBasePeer.prototype._resizeBlockColumn=function(a,b,c){if(!this._hasFrozenColumn()||this._isColumnFrozen(b))a.rows&&(this._freezeColumnsToEnd()?this._incrementWidth(a.rows[0].cells[b-this._firstFrozen+1],c):this._incrementWidth(a.rows[0].cells[b],c));else for(var d=a.rows,e=0;e<d.length;e++){var f=this._getNestedScrolledTable(d[e]);this._incrementWidth(f,c);this._incrementWidth(this._freezeColumnsToStart()?f.rows[0].cells[b-this._lastFrozen-1]:f.rows[0].cells[b],c)}this._hasFrozenColumn()||
this._incrementWidth(a,c)};AdfDhtmlTableBasePeer.prototype._incrementWidth=function(a,b){AdfAssert.assertDomNode(a);var c=parseInt(a.style.width)+b;if(!isNaN(c))a.style.width=c+"px";if(this._processColGroup()&&(a.tagName=="TH"||a.tagName=="TD")){var d=this._findColGroupColumn(a);if(d)c=parseInt(d.style.width)+b,d.style.width=c+"px"}return c};
AdfDhtmlTableBasePeer.prototype._findColGroupColumn=function(a){AdfAssert.assertDomNode(a);AdfAssert.assert(a.tagName=="TH"||a.tagName=="TD","Invalid COLGROUP tag name");for(var b=a.parentNode;b&&b.tagName!="TR";)b=b.parentNode;if(b){for(var c=b.cells,d=c.length,e=0;e<d;e++)if(c[e]==a)break;if(e<d){for(a=b.parentNode;a&&a.tagName!="TABLE";)a=a.parentNode;if(a&&(a=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"COLGROUP"))){a=a.childNodes;++e;for(b=0;b<a.length;b++)if(a[b].tagName=="COL"&&--e,e==
0)return a[b]}}}return null};AdfDhtmlTableBasePeer.SetCursor=function(a,b){if(a&&a.style.cursor!=b)a.style.cursor=b};
AdfDhtmlTableBasePeer.prototype._handleColumnContextMenu=function(a,b){if(this._pcPeer){var c=b?b:this._getParentTH(a);if(c&& CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._LEAF_COLUMN)!=null){var d=AdfPage.PAGE.findComponent(c.id);!d.getSelected()&&this._isColumnSelectionEnabled()&&(this._selUnselectAll(),this._selectColumn(AdfAgent.AGENT.getIntAttribute(c,"_d_index",-1),d,!0));this._pcPeer.showColumnContextMenu(a,b)}}};
AdfDhtmlTableBasePeer.prototype._handleBodyContextMenu=function(a){var b=this.getComponent(),c=b.getBodyContextMenuId?b.getBodyContextMenuId():null;if(c){b.setSelectedRowKeys({});var d=b.findComponent(c);d==null&&(AdfPage.PAGE.findComponent(c),b=null);this.showContextMenu(a,c,b);c=AdfAgent.AGENT;c.stopPropagation(a);c.preventDefault(a)}};AdfDhtmlTableBasePeer.prototype.GetRowContextMenuId=function(){return this.getComponent().getContextMenuId()};
AdfDhtmlTableBasePeer.prototype._getRowContextMenuAndContainer=function(a){var a=this.GetRowContextMenuId(a),b,c;if(a){var d=this.getComponent(),b=AdfPage.PAGE.findComponent(a),c=null;b==null&&(b=d.findComponent(a),c=d);b==null&&AdfLogger.LOGGER.severe("Could not find context menu ",a," from component ",d)}return{popup:b,menuId:a,menuFindContainer:c}};
AdfDhtmlTableBasePeer.prototype.HandleRowContextMenu=function(a,b,c,d,e){var f=this._getRowContextMenuAndContainer(b),g=f.popup,h=f.menuFindContainer,f=f.menuId;if(g){if(!this._contextMenuSelect||AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE)this._isMultipleRowSelect()||this._unhiglightAnyExistingHighlightedRow(),this._selHighlightRow(c),this._highlightedRowKey=b,this._highlightedRow=c;var c=this.getComponent(),k=c.getClientId();AdfObject.ensureClassInitialization(AdfDhtmlCommandMenuItemPeer);
g[AdfMenuUtils.AFR_TARGETROWCURRENCY]=b;g[AdfMenuUtils.AFR_TARGETCOMPONENTID]=k;CSCOCall_setProperty(c,"setProperty","_highlightedRowKey",b,!1,AdfUIComponent.PROPAGATE_ALWAYS);if(!this._contextMenuClosedCallback)this._contextMenuClosedCallback=this.createCallback(this._contextMenuClosed);if(!this._contextMenuOpenedCallback)this._contextMenuOpenedCallback=this.createCallback(this._contextMenuOpened);if(!g._afrTableListenerSet)g.addEventListener(AdfPopupOpenedEvent.POPUP_OPENED_EVENT_TYPE,this._contextMenuOpenedCallback),
g.addEventListener(AdfPopupClosedEvent.POPUP_CLOSED_EVENT_TYPE,this._contextMenuClosedCallback),g._afrTableListenerSet=!0;if(g.isPopupVisible())g.hide(),this._ignoreContextMenuClose=!0;this.showContextMenu(a,f,h,d,e,k);b=AdfAgent.AGENT;b.stopPropagation(a);b.preventDefault(a)}};AdfDhtmlTableBasePeer.prototype.ContextMenuOpened=function(){};AdfDhtmlTableBasePeer.prototype.ContextMenuClosed=function(){};
AdfDhtmlTableBasePeer.prototype._contextMenuOpened=function(a){this._rowContextMenuVisible=!0;var b=a.getSource();if(!this._contextMenuSelect||AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE){var c=this._getRowContextMenuAndContainer(this._highlightedRowKey).popup;c!=null&&b.getClientId()==c.getClientId()&&(this._isMultipleRowSelect()||this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UNSELECT,!1))}this.ContextMenuOpened(a,b)};
AdfDhtmlTableBasePeer.prototype._contextMenuClosed=function(a){if(this._ignoreContextMenuClose)delete this._ignoreContextMenuClose;else{delete this._rowContextMenuVisible;var b=a.getSource();if(!this._contextMenuSelect){var c=this._getRowContextMenuAndContainer(this._highlightedRowKey).popup;c!=null&&b.getClientId()==c.getClientId()&&(this._grabFocus(),this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_SELECT,!1),this._unhiglightAnyExistingHighlightedRow())}delete b[AdfMenuUtils.AFR_TARGETROWCURRENCY];
delete b[AdfMenuUtils.AFR_TARGETCOMPONENTID];AdfPage.PAGE.scheduleTimer(null,AdfDhtmlTableBasePeer._clearHighlightedRowKey,this.getComponent(),10);this.ContextMenuClosed(a,b)}};AdfDhtmlTableBasePeer._clearHighlightedRowKey=function(a){CSCOCall_setProperty(a,"setProperty","_highlightedRowKey",null,!1,AdfUIComponent.PROPAGATE_ALWAYS)};
AdfDhtmlTableBasePeer.prototype.ProcessPushData=function(a,b){if(this._virtInitialized||this.IsEmpty)if(this._activeDataCount>=b)AdfPage.PAGE.addPartialTargets(this.getComponent());else{this._activeDataCount=b;for(var c=eval(CSCO_WebVPN["process"]("js",a)),d=0;d<c.length;d++){var e=c[d];this.IsFetchPending()?(e.id=b,this._getActiveMessageBuffer().push(e)):this._processActiveMessage(e)}c=this.GetDatabody();this._fillViewPort(c,c.offsetHeight,!1);return!0}};
AdfDhtmlTableBasePeer.prototype._processActiveMessage=function(a){var b=!1,c=a.type;switch(c){case "update":b=this.UpdateActiveRow(a);break;case "remove":b=this.RemoveActiveRow(a);break;case "insertBefore":case "insertAfter":case "insertInside":b=this.InsertActiveRow(a,c)}return b};AdfDhtmlTableBasePeer.prototype._getActiveMessageBuffer=function(){if(!this._activeMessageBuffer)this._activeMessageBuffer=[];return this._activeMessageBuffer};
AdfDhtmlTableBasePeer.prototype._resetActiveMessageBuffer=function(){this._activeMessageBuffer=null};AdfDhtmlTableBasePeer.prototype._applyBufferedADSEvents=function(a,b){if(a!=-1){var c=this._activeMessageBuffer;if(c)for(var d=0;d<c.length;d++){var e=c[d],f=e.id;(b?f<=a:f>a)&&this._processActiveMessage(e)}}};
AdfDhtmlTableBasePeer.prototype.IsInsertAllowed=function(a){var b=!0;if(this._pendingFetch==AdfTableDataFetchEvent.AFTER_KEY_SUBTYPE){var c=this.GetDatabody().childNodes,c=c[c.length-1];a==c.startRow+c.numRows&&(b=!1)}else if(this._pendingFetch==AdfTableDataFetchEvent.BEFORE_KEY_SUBTYPE)c=this.GetDatabody().childNodes,a==c[0].startRow&&(b=!1);return b};
AdfDhtmlTableBasePeer.prototype.InsertActiveRow=function(a,b){var c=b=="insertBefore",d=!1,e=null;if(!this.IsEmpty)e=this.GetDatabody().childNodes;if(e&&e.length>0){var f=-1,g=a.iKey;if(c)if(g){if(c=this.FindRowByKey(g))f=c.index}else c=e[e.length-1],g=this.GetRowCount(),g!=-1&&c.startRow+c.numRows==g&&(f=g);else g?(c=this.FindRowByKey(g))&&(f=c.index+1):e[0].startRow==0&&(f=0);f!=-1&&this.IsInsertAllowed(f)&&(d=!0,g=e[0],e=g.cloneNode(!1),c=CSCOCall_createElement(this.getDomDocument(),"createElement","TBODY"),AdfAssert.assert(g.rows!=
null&&g.rows[0]!=null,"Unable to insert active row when the block contains no rows to clone!"),g=g.rows[0].cloneNode(!0),AdfDomUtils.removeCSSClassName(g,AdfDhtmlTableBasePeer._SELECTED_CLASS),AdfDomUtils.removeCSSClassName(g,AdfDhtmlTableBasePeer._HIGHLIGHTED_CLASS), CSCOCall_appendChild(c,"appendChild",g), CSCOCall_appendChild(e,"appendChild",c), CSCOCall_setAttribute(g,"setAttribute",AdfDhtmlTableBasePeer._ROW_KEY,a.rKey),this._resetRow(g),this.UpdateActiveRow(a,g),this.InsertBlock(e,f,1,1,0))}else AdfPage.PAGE.addPartialTargets(this.getComponent());return d};
AdfDhtmlTableBasePeer.prototype.RemoveActiveRow=function(a){if(this.IsEmpty)return!1;var b=!1;if(a=this.FindRowByKey(a.rKey))this.DeleteBlock(a.index,1,1,0,null),b=!0;return b};AdfDhtmlTableBasePeer.prototype.UpdateActiveRow=function(a,b){if(this.IsEmpty)return!1;var c=!1;if(!b){var d=this.FindRowByKey(a.rKey);if(d)b=d.tr}if(b)for(var c=!0,d=CSCOGet_data(a),e=0;e<d.length;e++){var f=d[e];this._applyActiveDataUpdate(b,f.cInd,f.prop,f.val)}return c};
AdfDhtmlTableBasePeer.prototype._resetRow=function(a){for(var b=0;b<this._colCount;b++){var c=this.FindCellByIndex(a,b);CSCOPut_innerHTML(c,"<span>&nbsp;</span>");this.RemoveTwinkleTimer(c)}};AdfDhtmlTableBasePeer.prototype.RemoveTwinkleTimer=function(a){a.removeAttribute(AdfDhtmlTableBasePeer._TWINKLE_TIMER_ID_ATTR)};AdfDhtmlTableBasePeer.prototype.IsNodeStampCell=function(){return!1};
AdfDhtmlTableBasePeer.prototype.GetActiveUpdateNode=function(a){var b;if(this.IsNodeStampCell(a)){var c=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"DIV");AdfAssert.assertDomNode(c);c=AdfDhtmlTableBasePeer._findFirstLevelChildrenByTagName(c,"SPAN")[0];AdfAssert.assertDomNode(c);b=c.nextSibling}else b=a.firstChild;if(!b||b.nodeType!=1||b.tagName!="SPAN"||b.nextSibling){a=b?b.parentNode:a;AdfAssert.assert(a!=null,"Table peer cannot get an active update node if the parent is null!");for(c=CSCOCall_createElement(this.getDomDocument(),"createElement","span");b;){var d=
b,b=b.nextSibling;CSCOCall_removeChild(a,"removeChild",d);CSCOCall_appendChild(c,"appendChild",d)} CSCOCall_appendChild(a,"appendChild",c);b=c}AdfAssert.assertDomNode(b);return b};
AdfDhtmlTableBasePeer.prototype._applyActiveDataUpdate=function(a,b,c,d){var e=!1,f=this.FindCellByIndex(a,b);if(f){var g=AdfAgent.getAgent(),h=this.GetActiveUpdateNode(f),a=CSCOCall_getAttribute(g,"getAttribute",a,AdfDhtmlTableBasePeer._ROW_KEY);this._markAsActive(f,a,b);e=!0;switch(c){case "value":g.setTextContent(h,d);break;case "rawValue":CSCOPut_innerHTML(h,d);break;case "styleClass":h.className=d;break;case "inlineStyle":CSCOPut_cssText(h.style,d);break;default:e=!1}}return e};
AdfDhtmlTableBasePeer.prototype._markAsActive=function(a,b,c){if(a!=null){var d=AdfDhtmlTableBasePeer._TWINKLE_TIMER_ID_ATTR,e=CSCOCall_getAttribute(a,"getAttribute",d),f=AdfPage.PAGE;e!=null?f.rescheduleTimer(e,1E3):(AdfDomUtils.addCSSClassName(a,AdfDhtmlTableBasePeer._TWINKLE_ON_STYLE_CLASS),AdfDomUtils.removeCSSClassName(a,AdfDhtmlTableBasePeer._TWINKLE_OFF_STYLE_CLASS),e=f.scheduleTimer(this,this._cleanUpAdsNode,{rowKey:b,colIndex:c},1E3), CSCOCall_setAttribute(a,"setAttribute",d,e))}};
AdfDhtmlTableBasePeer.prototype._cleanUpAdsNode=function(a){if(this.getDomElement()){var b=a.colIndex;if(a=this.FindRowByKey(a.rowKey))if(b=this.FindCellByIndex(a.tr,b))b.removeAttribute(AdfDhtmlTableBasePeer._TWINKLE_TIMER_ID_ATTR),AdfDomUtils.removeCSSClassName(b,AdfDhtmlTableBasePeer._TWINKLE_ON_STYLE_CLASS),AdfDomUtils.addCSSClassName(b,AdfDhtmlTableBasePeer._TWINKLE_OFF_STYLE_CLASS)}};
AdfDhtmlTableBasePeer.prototype.FindRowByKey=function(a){for(var b=null,c=this.GetDatabody().childNodes,d=0;d<c.length&&!b;d++){var e=c[d],f=e.rows;if(f)for(var g=0;g<f.length&&!b;g++){var h=f[g];if(a==CSCOCall_getAttribute(h,"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY)){b={tr:h,index:e.startRow+g,block:e};break}}}return b};
AdfDhtmlTableBasePeer.prototype.FindCellByIndex=function(a,b){AdfAssert.assert(a!=null,"Unable to find cell by index if the given row is invalid!");var c=null,c=null;this._freezeColumnsToStart()&&!this._isColumnFrozen(b)?(c=this._getNestedScrolledTable(a),c=c.rows[0].cells[b-this._lastFrozen-1]):this._freezeColumnsToEnd()?this._isColumnFrozen(b)?c=this._firstFrozen>0?a.cells[b-this._firstFrozen+1]:a.cells[b]:(c=this._getNestedScrolledTable(a),c=c.rows[0].cells[b]):c=a.cells[b];return c};
AdfDhtmlTableBasePeer.prototype._getColumnFlex=function(a,b,c,d,e){if(!a)return null;if(c=="multiple"){d=b;d==null&&(d=""+a.getWidth());a=d.length-1;if((""+d).charAt(a)!="%")return null;return Math.abs(parseInt(d.substring(0,a)))}else if(c=="last"){if(b=a.getDisplayIndex(),b==-1&&(b=e),b==d-1&&!a.getRowHeader())return 1}else if(b=this._stretchedColumnId,b!=null&&(c=a.getClientId(),c.substring(1+c.lastIndexOf(":"))==b&&(b=a.getDisplayIndex(),b==-1&&(b=e),!a.getRowHeader()&&(!this._isColumnFrozen(b)||
this._freezeColumnsToEnd()&&b==d-1))))return 1;return null};
AdfDhtmlTableBasePeer.prototype._getColumnActualWidth=function(a,b){var c=100,d=!1,e,e=this.IsEmpty?this._getColumnHeaderFooterSizingCell(a,this.__getColumnHeader(),"t","d2","t2"):this.FindCellByIndex(b,a);try{var f=AdfAgent.AGENT.getComputedStyle(e).width,c=parseInt(f);if(isNaN(c)||c<0)if(c=parseInt(e.style.width),isNaN(c)||c<0)c=100,d=!0}catch(g){c=100,d=!0}d&&AdfLogger.LOGGER.warning("INVALID COLUMN WIDTH FOR COLUMN DISPLAY INDEX: "+a);return c};
AdfDhtmlTableBasePeer.prototype._stretchTheColumns=function(){var a=this._columnStretching;if(!(a==null||a=="none"))if(!(this._nothingFlexible||this.IsEmpty&&this._headerless)){this._stretchingTheColumns=!0;try{this._doColumnStretching(a)}finally{delete this._stretchingTheColumns}}};
AdfDhtmlTableBasePeer.prototype._doColumnStretching=function(a,b){for(var c,d,e,f,g,h=0,k=this.__getVisibleLeafColumns(),d=k.length,e=Array(d),f=Array(d),g=Array(d),l=!0,m=0;m<d;m++){var n=k[m],c=this._getColumnFlex(n,null,a,d,m);c!=null&&(l=!1,e[m]=c,c=""+n.getWidth(),c.lastIndexOf("%")==c.length-1&&(g[m]=c.substring(0,c.length-1),h+=Math.abs(parseInt(g[m]))),f[m]=isNaN(c)?n.getMinimumWidth():c)}if(l)this._nothingFlexible=!0;else{if(a=="multiple")for(x=0;x<g.length;x++)g[x]/=h;var h=this._colCount,
l=this.GetDatabody(),c=l.childNodes[0],g=!1,o;this.IsEmpty||(o=c.rows[0],AdfAssert.assert(o!=null,"this.IsEmpty was "+this.IsEmpty+" but there were no rows!"));k=0;!this._hasFrozenColumn()||this._areAllColumnsFrozen(h)?(h=l.offsetWidth,c=this.IsEmpty?this.__getColumnHeader().firstChild.offsetWidth:c.offsetWidth,k=h-c):this.IsEmpty?(h=this.__getColumnHeader(),c=AdfDhtmlTableBasePeer.__getChildBySubId(h,"t"),k=AdfDhtmlTableBasePeer.__getChildBySubId(h,"d2"),k=AdfDhtmlTableBasePeer.__getChildBySubId(k,
"t2"),h=h.parentNode.offsetWidth,k=h-c.offsetWidth-k.offsetWidth-2):(c=this._getNestedScrolledTable(o),this._freezeColumnsToEnd()?(h=this.__getColumnHeader(),c=AdfDhtmlTableBasePeer.__getChildBySubId(h,"t"),k=AdfDhtmlTableBasePeer.__getChildBySubId(h,"d2"),k=AdfDhtmlTableBasePeer.__getChildBySubId(k,"t2"),h=h.parentNode.offsetWidth,l=this._getScrollbarWidth(),k=h-c.offsetWidth-k.offsetWidth-l-2,this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&(k+=l)):(h=c.parentNode.offsetWidth,
k=h-c.offsetWidth));if(k!=0){h=[];for(m=l=0;m<d;m++)c=e[m],c!=null&&(n=this._getColumnActualWidth(m,o),l+=n,h.push({displayIndex:m,flex:c,minimumWidth:f[m],width:n}));for(var o=l+k,d=h.length,q,c=!1,k=0;!c&&k<d;){l=o;for(e=m=0;e<d;e++)q=h[e],q.atMinimum?(f=q.minimumWidth,l-=f):m+=q.flex;for(var n=l,p=0,e=0;e<d;e++)if(q=h[e],!q.atMinimum){var s=q.flex/m*n,f=Math.floor(s);minimumWidth=q.minimumWidth;f<minimumWidth?(f=minimumWidth,q.atMinimum=!0,k++):p+=s-f;q.calculatedWidth=f;l-=f}p=Math.round(p);l==
p&&(p>0&&(q.calculatedWidth+=p),c=!0)}o=[];for(e=0;e<d;e++)q=h[e],c=q.displayIndex,f=q.calculatedWidth,o.push({displayIndex:c,width:f}),q=f-q.width,q!=0&&(g=!0,this._doResizeColumn(c,null,f,q,!1));this._currentColumnStretchDetails=o}g&&(b||(b=0),b<5&&this._doColumnStretching(a,++b))}};
AdfDhtmlTableBasePeer.prototype._stretchLastBlockColumn=function(a){var b;if(this._lastColWidthOverride!=-1){var c=this._colCount-1;AdfAssert.assert(a.rows!=null,"Unable to stretch the columns in the last fetched block because it contains no rows!");b=this.FindCellByIndex(a.rows[0],c);b=parseInt(b.style.width);this._resizeBlockColumn(a,c,this._lastColWidthOverride-b)}else if(this._currentColumnStretchDetails!=null){AdfAssert.assert(a.rows!=null,"Unable to stretch the columns in the last fetched block because it contains no rows!");
for(var c=this._currentColumnStretchDetails,d=c.length,e=0;e<d;e++){var f=c[e],g=f.displayIndex,b=this.FindCellByIndex(a.rows[0],g),b=parseInt(b.style.width);this._resizeBlockColumn(a,g,f.width-b)}}};
AdfDhtmlTableBasePeer.prototype._collectClientTokens=function(a){for(var b="",c=this.GetDatabody().childNodes,d=0;d<c.length;d++)for(var e=c[d].rows,f=0;f<e.length;f++){var g=CSCOCall_getAttribute(e[f],"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY);if(a=="flat")b+=g,b+="_";else{var g=g.split(","),h=g.length;b+=g[h-1];b+="_";for(var k=0;k<h-1;k++){var l=g[k];b.match(RegExp("(^|_)"+l+"(_|$)"))||(b+=l,b+="_")}}}return b};AdfDhtmlTableBasePeer.prototype._grabFocus=function(){this.isInActiveHeirarchy()||AdfFocusUtils.focusElement(this.getDomElement())};
AdfDhtmlTableBasePeer.prototype.HandleComponentFocus=function(a){if(this._virtInitialized){if(a.getNativeEventTarget!=void 0){var b=a.getNativeEventTarget();if(b!=this.getDomElement()&&this._isTargetCellEditable(b)){var c=this.getComponent().getClientId(),a=a.getSource();if(a!=null&&a.getClientId()!=c&&a.getParent()!=null&&a.getParent().getClientId()!=c)return;this._unclipInputElem(b);if(void 0!=CSCOGet_value(b)&&(b.nodeName=="TEXTAREA"||b.type=="text"||b.type=="select-one"))b._afrOldValue=CSCOGet_value(b);b.nodeName==
"INPUT"&&b.type=="text"&&AdfPage.PAGE.scheduleTimer(this,this._selectInputOnMouseUp,b,0)}}this._blurTimeout!=null&&(clearTimeout(this._blurTimeout),delete this._blurTimeout);if(this._focusTimeout==null){if(this._focusTimeoutCallback==null)this._focusTimeoutCallback=this.createCallback(this._doFocusTimeout);this._focusTimeout=CSCOCall_setTimeout(null,setTimeout,this._focusTimeoutCallback,10)}}};
AdfDhtmlTableBasePeer.prototype.HandleComponentBlur=function(){if(this._blurTimeoutCallback==null)this._blurTimeoutCallback=this.createCallback(this._doBlurTimeout);this._blurTimeout=CSCOCall_setTimeout(null,setTimeout,this._blurTimeoutCallback,10)};AdfDhtmlTableBasePeer.prototype.HandleHeaderlessFocus=function(){this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,null,null)};
AdfDhtmlTableBasePeer.prototype._doFocusTimeout=function(){if(this.getComponent()&&!this._rowContextMenuVisible){this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UPDATE,!1,null);var a=this._focusManager;a.domElement?this._updateFocusCellStyle(!0):a.objectType!=AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE&&(this._setFirstColumnHeaderFocus(!1,!0)||this.HandleHeaderlessFocus())}delete this._focusTimeout};
AdfDhtmlTableBasePeer.prototype._doBlurTimeout=function(){this.getComponent()&&!this._rowContextMenuVisible&&(this._selUpdateAll(AdfDhtmlTableBasePeer._SEL_UPDATE_ALL_UPDATE,!1,null),this.isInActiveHeirarchy()||this._focusManager.domElement&&this._updateFocusCellStyle(!1));delete this._blurTimeout};
AdfDhtmlTableBasePeer.prototype._handleKeyboardSort=function(a){var b=this._focusManager;if(b.objectType==AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE){var b=b.domElement.id,c=AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(b,AdfDhtmlTableBasePeer.__SORT_INDICATOR));if(c){var c=CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE),d=AdfPage.PAGE.findComponent(b).getSortProperty(),b=AdfDhtmlTableBasePeer.__getSortOrderForColumn(b);c!=a&&(b=a==AdfDhtmlTableBasePeer._SORTED_DESCENDING?!1:!0,
AdfDhtmlTableBasePeer.__queueSortEvent(this.getComponent(),d,b))}}};AdfDhtmlTableBasePeer.prototype.HandleComponentKeyUp=function(a){if(!a.isCanceled())a=AdfAgent.AGENT,a.enableUserSelect(a.getDomDocument().body)};
AdfDhtmlTableBasePeer.prototype.HandleComponentKeyDown=function(a){if(!a.isCanceled()&&this.__isOwnComponentEvent(a)){var b=a.getNativeEvent(),c=AdfAgent.AGENT,d=c.getEventTarget(b),e=b.keyCode,f=!1,g=this._virtInitialized;switch(e){default:f=!0;break;case AdfKeyStroke.ESC_KEY:if(this._reorderTH||this._resizedTH)f=!0;else if(!this._rowContextMenuVisible){if(this._isTargetCellEditable(d)&&void 0!=d._afrOldValue&&CSCOGet_value(d)!=d._afrOldValue) CSCOPut_value(d,d._afrOldValue);if((e=this.GetFocusedRowKey())&&e==this._getActiveRowKey()&&
this._isClickToEdit()){if(this._lastCTEIndex==void 0&&(e=this.GetRowKeyAndRow(d,this.getDomElement()),e!=null&&e[0]!=null))this._lastCTEIndex=this._getCellAndIndexForNode(d,e[1]).cellIndex;this._setActiveRowKey(null);this._editableTableReadOnlyMode=!0;this._grabFocus();c.eatEvent(b)}else this._isTargetCellEditable(d)||(this._selUnselectAll(),this._queueColumnSelectionEvent())}break;case 77:b.ctrlKey&&b.altKey&&g?this._handleKeyboardContextMenu(b):f=!0;break;case AdfKeyStroke.A_KEY:b.ctrlKey&&!b.altKey&&
g?(this._grabFocus(),d=this._isMultipleRowSelect(),e=this._isMultipleRowSelectNoSelectAll(),d&&!e&&!this.getComponent().getSelectedRowKeys()[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]&&this._selSelectAll()):f=!0;break;case AdfKeyStroke.END_KEY:!(f=this._isTargetCellEditable(d))&&b.ctrlKey&&b.shiftKey&&g&&this._handleCtrlShiftEnd(b);break;case AdfKeyStroke.PAGEUP_KEY:(f=this._isTargetCellEditable(d))||this._handlePageUp(b.altKey,b.ctrlKey,b.shiftKey);break;case AdfKeyStroke.PAGEDOWN_KEY:(f=this._isTargetCellEditable(d))||
this._handlePageDown(b.altKey,b.ctrlKey,b.shiftKey);break;case AdfKeyStroke.SPACE_KEY:case 192:g=c.getOS()==AdfAgent.MAC_OS&&e==192&&b.ctrlKey;(f=this._isTargetCellEditable(d))||(g||e==AdfKeyStroke.SPACE_KEY)&&this._handleSpaceKey(e,b);break;case AdfKeyStroke.ENTER_KEY:if(!(f=d.tagName=="TEXTAREA"||d.tagName=="A"))f=this._handleEnterKey(d,b);break;case AdfKeyStroke.HOME_KEY:!(f=this._isTargetCellEditable(d))&&b.ctrlKey&&g&&this._scrollerScrollToPos(null,0);break;case AdfKeyStroke.F2_KEY:this._handleF2Key(b);
break;case AdfKeyStroke.TAB_KEY:this._isTargetCellEditable(d)?f=this._handleTabKey(d,b):AdfPage.PAGE.getActiveDomElement()==this.getDomElement()?(d=this._getActiveRowKey(),d!=null?(d=this.FindRowByKey(d),d!=null&&this._setFocusOnEditableElementInNode(c,d.tr)==null&&(f=!0)):f=!0):f=!0}f||(a.stopBubbling(),c.eatEvent(b))}};
AdfDhtmlTableBasePeer.prototype._handleKeyboardContextMenu=function(a){var b=this._focusManager;if(b.objectType==AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE)this._handleColumnContextMenu(a,b.domElement);else{var c=this.ResolveContextMenuAlignElement(b.domElement),d=this.GetKeyboardContextMenuAlignHint();this.HandleRowContextMenu(a,b.currency,b.domElement,c,d)}};AdfDhtmlTableBasePeer.prototype.GetKeyboardContextMenuAlignHint=function(){return null};
AdfDhtmlTableBasePeer.prototype.ResolveContextMenuAlignElement=function(a){return a};
AdfDhtmlTableBasePeer.prototype._handleCtrlShiftEnd=function(){var a=this._focusManager,b=a.objectType,a=a.currency;if(b==AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE||b==AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE)if((b=this.GetDatabody())&&b.childNodes.length>0&& CSCOCall_getAttribute(b.childNodes[0].rows[0],"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY)==a)this._grabFocus(),this.getComponent().getSelectedRowKeys()[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]||this._selSelectAll()};
AdfDhtmlTableBasePeer.prototype._handleF2Key=function(a){var b=AdfAgent.AGENT,a=b.getEventTarget(a);if(this._isClickToEdit()){var c=this.GetFocusedRowKey(),d=this._getActiveRowKey();if(!d||c&&d!=c){if(b=c?c:this._getFirstRowKey())if(this._setActiveRowKey(b),this._editableTableReadOnlyMode&&(b=this._lastCTEIndex,this._editableTableReadOnlyMode=!1,b!=void 0))this._clickEditRequest={cellIndex:b};return}}if(this._isTargetCellEditable(a)&&(c=this.GetRowKeyAndRow(a,this.getDomElement()),c!=null))a=this._getCellAndIndexForNode(a,
c[1]).cell,this._setInputElementCursorAtEndInNode(b,a)};AdfDhtmlTableBasePeer._restoreSelectedItemOnArrowNav=function(a){a.elem.selectedIndex=a.index};
AdfDhtmlTableBasePeer.prototype._handleArrowKeyNavLeftRight=function(a,b,c,d){var e=null,f=AdfAgent.AGENT;if(a==AdfKeyStroke.ARROWRIGHT_KEY){a=this.__getVisibleLeafColumns().length;for(d+=1;d<a;){e=this.FindCellByIndex(b,d);e=this._setFocusOnEditableElementInNode(f,e);if(e!=null){this._dismissTargetPopupsOnArrowNav(c);break}d++}}else for(d-=1;d>=0;){e=this.FindCellByIndex(b,d);e=this._setFocusOnEditableElementInNode(f,e);if(e!=null){this._dismissTargetPopupsOnArrowNav(c);break}d--}e!=null&&f.getPlatform()==
AdfAgent.GECKO_PLATFORM&&e.nodeName=="SELECT"&&e.type=="select-one"&&AdfPage.PAGE.scheduleTimer(null,AdfDhtmlTableBasePeer._restoreSelectedItemOnArrowNav,{index:e.selectedIndex,elem:e},0)};
AdfDhtmlTableBasePeer.prototype._handleArrowKeyNav=function(a,b){var c=this.GetRowKeyAndRow(b,this.getDomElement());if(c!=null){var d=c[0];if(d!=null){var c=c[1],e=this._getCellAndIndexForNode(b,c).cellIndex;this._ctePatternStart=void 0;a==AdfKeyStroke.ARROWUP_KEY||a==AdfKeyStroke.ARROWDOWN_KEY?this._isClickToEdit()?this._clickToEditActivateRow(d,a==AdfKeyStroke.ARROWDOWN_KEY,e):this._setFocusOnEditableRowCell(d,a==AdfKeyStroke.ARROWDOWN_KEY,e):this._handleArrowKeyNavLeftRight(a,c,b,e)}return!1}else return!0};
AdfDhtmlTableBasePeer.prototype._dismissTargetPopupsOnArrowNav=function(a){a=AdfRichUIPeer.getFirstAncestorComponent(a);a!=this.getComponent()&&a.getPeer().cancelAllPopups(a)};
AdfDhtmlTableBasePeer.prototype._handleArrow=function(a,b){switch(this._focusManager.objectType){case AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE:this._handleRowHeaderArrow(a,b);break;case AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE:this._handleColumnHeaderArrow(a,b);break;case AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE:a==AdfKeyStroke.ARROWUP_KEY||a==AdfKeyStroke.ARROWDOWN_KEY?this._handleTableBodyArrowUpDown(a==AdfKeyStroke.ARROWUP_KEY,b.ctrlKey,b.shiftKey):(a==AdfKeyStroke.ARROWLEFT_KEY||
a==AdfKeyStroke.ARROWRIGHT_KEY)&&this.HandleTableBodyArrowLeftRight(a==AdfKeyStroke.ARROWLEFT_KEY,b.ctrlKey,b.shiftKey);break;case AdfDhtmlTableBasePeer._SELECT_ALL_FOCUS_TYPE:this._handleSelectAllArrow(a,b)}};
AdfDhtmlTableBasePeer.prototype._handleRowHeaderArrow=function(a){if(a==AdfKeyStroke.ARROWDOWN_KEY||a==AdfKeyStroke.ARROWUP_KEY){var b=a==AdfKeyStroke.ARROWUP_KEY,c=this._focusManager,a=c.currency;delete this._lastRowKeyInView;c=b?this._getPreviousRowKeyAndRow(a):this._getNextRowKeyAndRow(a);if(c.isAtTop)this._setFirstColumnHeaderFocus(!0);else{var d=c.lastRowKeyInView,a=c.rowKey;if(a!=null)c=c.row,b=this.GetRowHeaderCellFromRow(c),this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,
a,b),this._unclipRow(c);else if(d!=null){if(this.GetScroller(),a=this._currentScrollTop+(b?-this._averageRowHeight:this._averageRowHeight),a>0&&a<this._getScrollHeight())this._lastRowKeyInView=d,this._selectionRequest=b?AdfDhtmlTableBasePeer._FOCUS_RH_ARROW_UP:AdfDhtmlTableBasePeer._FOCUS_RH_ARROW_DOWN,this._scrollerScrollToPos(null,a)}else c=b?this._getLastVisibleRowKeyAndRow():this.GetFirstVisibleRowKeyAndRow(),c.rowKey!=null&&(b=this.GetRowHeaderCellFromRow(c.row),this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,
c.rowKey,b),this._unclipRow(c.row))}}else if(a==AdfKeyStroke.ARROWRIGHT_KEY&&this._focusManager.currency!=null&&this._isRowSelectionEnabled())c=this._focusManager,a=c.currency,c=c.domElement.parentNode,this._selUnselectAll(),this._selSelectRow(a,c),this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,a,c)};
AdfDhtmlTableBasePeer.prototype._handleColumnHeaderArrow=function(a,b){var c=b.ctrlKey,d=b.shiftKey,e=this._virtInitialized;switch(a){case AdfKeyStroke.ARROWRIGHT_KEY:if(e=this._getNextColumnHeaderFocusElement())this._unclipColumnElement(e),!this.getComponent().getDisableColumnReordering()&&c&&d?this._reorderColumnThroughKeyboard(!1):(this.UpdateFocusManager(AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,e),d&&this._isMultipleColumnSelect()&&this._shiftSelectColumnsThroughKeyboard(e));break;
case AdfKeyStroke.ARROWLEFT_KEY:if(e=this._getPrevColumnHeaderFocusElement())this._unclipColumnElement(e),!this.getComponent().getDisableColumnReordering()&&c&&d?this._reorderColumnThroughKeyboard(!0):CSCOCall_getAttribute(e,"getAttribute",AdfDhtmlTableBasePeer._SELECT_ALL)!=null?this.UpdateFocusManager(AdfDhtmlTableBasePeer._SELECT_ALL_FOCUS_TYPE,null,e):(this.UpdateFocusManager(AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,e),d&&this._isMultipleColumnSelect()&&this._shiftSelectColumnsThroughKeyboard(e));break;case AdfKeyStroke.ARROWUP_KEY:case AdfKeyStroke.ARROWDOWN_KEY:var f=
this._focusManager.domElement;if(f)if(c&&d)e&&this._handleKeyboardSort(AdfKeyStroke.ARROWUP_KEY==a?AdfDhtmlTableBasePeer._SORTED_ASCENDING:AdfDhtmlTableBasePeer._SORTED_DESCENDING);else if(f.colSpan>1){if(e=AdfKeyStroke.ARROWUP_KEY==a?this._resolveImmediateParentColumn(f):this._resolveImmediateChildColumn(f))this._unclipColumnElement(e),this.UpdateFocusManager(AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,e)}else if(AdfKeyStroke.ARROWDOWN_KEY==a&&this._isRowSelectionEnabled()&&(attrs=this.GetFirstVisibleRowKeyAndRow(),
rowKey=attrs.rowKey,rowKey!=null))c=attrs.row,this._selSelectRow(rowKey,c),this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,rowKey,c),this._unclipRow(c)}};AdfDhtmlTableBasePeer.prototype._shiftSelectColumnsThroughKeyboard=function(a){if(this._anchorColumnHeader){var b=[],c=[],d=[],e=[];this._resolveColumns(b,c,this._anchorColumnHeader);this._resolveColumns(d,e,a);this._selUnselectAll();this._selectColumnRange(b,c,d,e)}};
AdfDhtmlTableBasePeer.prototype._reorderColumnThroughKeyboard=function(a){var b=this._focusManager.domElement;if(b&& CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._ROOT_COLUMN)!=null){var c=null;if(a){c=this._getSiblingDomNode(b,!1);if(c==null){var d=AdfAgent.AGENT.getIntAttribute(b,"_d_index",-1);if(this._hasFrozenColumn()&&!this._isColumnFrozen(d)){var d=AdfDhtmlTableBasePeer.__getChildBySubId(this.__getColumnHeader(),"t"),e=this._isFilterable()?2:1;if(d&&d.rows&&d.rows[e].cells.length>0)c=d.rows[e].cells,
c=c[c.length-1]}} CSCOCall_getAttribute(c,"getAttribute",AdfDhtmlTableBasePeer._ROW_HEADER)!=null&&(c=null)}else c=this._getSiblingDomNode(b,!0),c==null&&(d=AdfAgent.AGENT.getIntAttribute(b,"_d_index",-1),this._isColumnFrozen(d)&&(d=AdfDhtmlTableBasePeer.__getChildBySubId(this.__getColumnHeader(),"d2"),d=AdfDhtmlTableBasePeer.__getChildBySubId(d,"t2"),e=this._isFilterable()?2:1,d&&d.rows&&d.rows[e].cells.length>0&&(c=d.rows[e].cells[0])));if(c)this._reorderTH=b,this._targetReorderTH=c,this._insertColumnAfter=a?AdfDhtmlTableBasePeer._isRTL()?
!0:!1:AdfDhtmlTableBasePeer._isRTL()?!1:!0,this._reorderId=this._reorderTH.id,this._reorderColumnComponentsWithoutAnimation(),this._reorderTH=this._targetReorderTH=null,delete this._insertColumnAfter}};
AdfDhtmlTableBasePeer.prototype._getNextColumnHeaderFocusElement=function(){var a=AdfAgent.AGENT,b=this._focusManager.domElement;if(b){if(b.colSpan>1)return this._resolveImmediateChildColumn(b);for(var c=this._getSiblingDomNode(b,!0),d=this._resolveImmediateParentColumn(b),e=d;!c&&e;)e=(c=this._getSiblingDomNode(d,!0))!=null?this._resolveImmediateParentColumn(c):null;if(c){if((c?this._resolveImmediateParentColumn(c):null)!=d)if(d=this._resolveImmediateParentColumn(c))return d;return c}a=a.getIntAttribute(b,
"_d_index",-1);if(this._hasFrozenColumn()&&this._isColumnFrozen(a)&&(a=this.__getColumnHeader(),a=AdfDhtmlTableBasePeer.__getChildBySubId(a,"d2"),a=AdfDhtmlTableBasePeer.__getChildBySubId(a,"t2"),b=this._isFilterable()?2:1,a&&a.rows&&a.rows[b].cells.length>0))return a.rows[b].cells[0];if(this._hasFrozenColumn()&&!this.IsEmpty&&(a=this.GetDatabody())&&a.childNodes.length>0)b=a.childNodes[0].rows[0],a=this.GetRowHeaderCellFromRow(b),b=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY),this._scrollerScrollToPos(0,
null),this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,b,a)}return null};
AdfDhtmlTableBasePeer.prototype._getPrevColumnHeaderFocusElement=function(){var a=AdfAgent.AGENT,b=this._focusManager.domElement;if(b){for(var c=this._getSiblingDomNode(b,!1),d=this._resolveImmediateParentColumn(b),e=c?this._resolveImmediateParentColumn(c):null,f=d;!c&&f;)f=(c=this._getSiblingDomNode(d,!1))!=null?this._resolveImmediateParentColumn(c):null;if(d!=null&&d!=e)return d;else if(c!=null)return this._resolveBotttomMostChildColumn(c);a=a.getIntAttribute(b,"_d_index",-1);if(this._hasFrozenColumn()&&
!this._isColumnFrozen(a)){if(a=this.__getColumnHeader(),(a=AdfDhtmlTableBasePeer.__getChildBySubId(a,"t"))&&a.rows)if(b=this._isFilterable()?2:1,a=a.rows[b].cells,b=a.length,b>0)return this._resolveBotttomMostChildColumn(a[b-1])}else this._hasFrozenColumn()&&this._setFirstColumnHeaderFocus(!0)}return null};AdfDhtmlTableBasePeer.prototype._getSiblingDomNode=function(a,b){for(var c=b?a.nextSibling:a.previousSibling;c&&c.nodeType!=1;)c=b?c.nextSibling:c.previousSibling;return c};
AdfDhtmlTableBasePeer.prototype._resolveBotttomMostChildColumn=function(a){var b=a;if(a.colSpan>1){var c=a;AdfAssert.assert(c!=null,"Table peer cannot resolve the bottom-most child column if the parent is null!");b=this._resolveImmediateChildColumn(a);for(a=b=this._resolveRightMostSiblingInGroup(c,b);a!=null;)if(c=a,(a=this._resolveImmediateChildColumn(a))!=null)b=a=this._resolveRightMostSiblingInGroup(c,a)}return b};
AdfDhtmlTableBasePeer.prototype._resolveRightMostSiblingInGroup=function(a,b){AdfAssert.assert(a!=null,"Table peer cannot resolve the right-most sibling in a group if the parent is null!");if(a.colSpan>1)for(var c=b,d=a.colSpan;c&&d>c.colSpan;)if(d-=c.colSpan,(c=this._getSiblingDomNode(c,!0))!=null)b=c;return b};
AdfDhtmlTableBasePeer.prototype.__getParentColumn=function(a){AdfAssert.assertPrototype(a,AdfRichColumn);if(!this._headerless&&(a=this._resolveImmediateParentColumn(a.getPeer().getDomElement())))return AdfPage.PAGE.findComponent(a.id);return null};
AdfDhtmlTableBasePeer.prototype._resolveImmediateParentColumn=function(a){for(var b=a.parentNode,c,d=null,e=b.parentNode.parentNode.rows,f=e.length,g=AdfAgent.AGENT,a=g.getIntAttribute(a,"_d_index",-1),h=0;h<f;h++)if(e[h]==b){c=h-1;break}if(c>=0){h=c;for(b=!1;h>=0&&!b;h--){c=e[h].cells;for(f=c.length-1;f>=0;f--){var k=c[f],l=g.getIntAttribute(k,"_d_index",-1);if(k.colSpan>1&&l<=a&&l+k.colSpan>=a){d=k;b=!0;break}}}}return d};
AdfDhtmlTableBasePeer.prototype._resolveImmediateChildColumn=function(a){for(var b=AdfAgent.AGENT,c=b.getIntAttribute(a,"_d_index",-1),d=a.parentNode,e,a=null,f=d.parentNode.parentNode.rows,g=f.length,h=g-1;h>=0;h--)if(f[h]==d){e=h+1;break}if(e<g){h=e;for(e=!1;h<g&&!e;h++)for(var d=f[h].cells,k=d.length,l=0;l<k;l++){var m=d[l];if(c==b.getIntAttribute(m,"_d_index",-1)){a=m;e=!0;break}}}return a};
AdfDhtmlTableBasePeer.prototype._unclipColumnElement=function(a){var b=AdfAgent.AGENT;if(this.IsEmpty){var c=this.getDomElement(),d=0;if(this._hasFrozenColumn())d=AdfDhtmlTableBasePeer.__getChildBySubId(this.__getColumnHeader(),"t").offsetWidth;a.offsetLeft+a.offsetWidth+d>c.clientWidth+c.offsetLeft&&b.setScrollLeft(c,a.offsetWidth+a.offsetLeft+d-c.clientWidth);c.offsetLeft>a.offsetLeft+d&&b.setScrollLeft(c,a.offsetLeft+d)}else b=this.GetDatabody(),a.offsetLeft+a.offsetWidth>b.clientWidth+this.__getScrollLeft()-
this._frozenWidth?this._scrollerScrollToPos(a.offsetWidth+a.offsetLeft-b.clientWidth+this._frozenWidth,null):this.__getScrollLeft()>a.offsetLeft&&this._scrollerScrollToPos(a.offsetLeft,null)};
AdfDhtmlTableBasePeer.prototype._handleSelectAllArrow=function(a){switch(a){case AdfKeyStroke.ARROWDOWN_KEY:a=this.GetDatabody().childNodes;if(a.length>0&&(a=a[0].rows[0])){var b=CSCOCall_getAttribute(a,"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY),c=this.GetRowHeaderCellFromRow(a);this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,b,c);this._unclipRow(a)}break;case AdfKeyStroke.ARROWRIGHT_KEY:b=this.__getColumnHeader(),c=AdfDhtmlTableBasePeer.__getChildBySubId(b,"t"),AdfAssert.assertDomNode(c),a=this._isFilterable()?
2:1,c.rows&&c.rows[a].cells.length>1?this.UpdateFocusManager(AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,c.rows[a].cells[1]):(b=AdfDhtmlTableBasePeer.__getChildBySubId(b,"d2"),c=AdfDhtmlTableBasePeer.__getChildBySubId(b,"t2"),c.rows&&c.rows[a].cells.length>1&&this.UpdateFocusManager(AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,c.rows[a].cells[0]))}};
AdfDhtmlTableBasePeer.prototype._setFirstColumnHeaderFocus=function(a,b){var c=!1;if(this._headerless)return!1;var d=this._selectAllElement;if(d==null){var e=this.__getColumnHeader();if(e==null)return!1;var e=AdfDhtmlTableBasePeer.__getChildBySubId(e,"t"),f=this._isFilterable()?2:1,e=e.rows[f].cells[0];CSCOCall_getAttribute(e,"getAttribute",AdfDhtmlTableBasePeer._SELECT_ALL)!=null?d=this._selectAllElement=e:a||(this.UpdateFocusManager(AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE,null,e),b||this._unclipColumnElement(e),
c=!0)}d&&(this.UpdateFocusManager(AdfDhtmlTableBasePeer._SELECT_ALL_FOCUS_TYPE,null,d),c=!0);return c};
AdfDhtmlTableBasePeer.prototype._handleTableBodyArrowUpDown=function(a,b,c){var d=this._isRowSelectionEnabled(),e=this._supportsFocusRowNavigation,f=this._currentScrollTop+(a?-this._averageRowHeight:this._averageRowHeight);if(!d&&!e)f>=0&&f<this._getScrollHeight()&&this._scrollerScrollToPos(null,f);else{var g=this.GetLastRowKey();delete this._lastRowKeyInView;var h=a?this._getPreviousRowKeyAndRow(g):this._getNextRowKeyAndRow(g);if(h.isAtTop)this._setFirstColumnHeaderFocus(!1);else{var k=this._isMultipleRowSelect(),
l=h.lastRowKeyInView,m=h.rowKey;if(m!=null){f=h.row;if(d)if(c&&k)this._selIsSelected(m)?this._selUnselectRow(m,f):this._selSelectRow(m,f);else if(!b||!k||!e)this.getComponent().getSelectionEventDelay()=="enabled"?(a=AdfPage.PAGE,(g=this.FindRowByKey(g))&&g.tr&&this._selUnhighlightRow(g.tr),this._selHighlightRow(f),this._selectRowTimer&&(a.cancelTimer(this._selectRowTimer),delete this._selectRowTimer),this._selectRowTimer=a.scheduleTimer(this,this._selectRowForTimer,[m,f],300)):(this._selUnselectAll(),
this._selSelectRow(m,f));this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,m,f);this._unclipRow(f);delete this._selectionRequest}else if(l!=null){if(f>0&&f<this._getScrollHeight()){this._lastRowKeyInView=l;this._selectionRequest=b&&k&&e||!d&&e?a?AdfDhtmlTableBasePeer._FOCUS_ROW_ARROW_UP:AdfDhtmlTableBasePeer._FOCUS_ROW_ARROW_DOWN:a?AdfDhtmlTableBasePeer._SELECT_ARROW_UP:AdfDhtmlTableBasePeer._SELECT_ARROW_DOWN;if(!c&&!b||!k){g=!1;if(!a&&(m=this.GetRowCount(),m>=0))g=this.GetDatabody().childNodes,
g=g[g.length-1],g=g.startRow+g.numRows==m;g||this._selUnselectAll()}this._scrollerScrollToPos(null,f)}}else if(h=a?this._getLastVisibleRowKeyAndRow():this.GetFirstVisibleRowKeyAndRow(),m=h.rowKey,m!=null)f=h.row,d&&this._selSelectRow(m,f),this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,m,f),this._unclipRow(f)}}};AdfDhtmlTableBasePeer.prototype._selectRowForTimer=function(a){var b=a[0],a=a[1];this._selUnselectAll();this._selSelectRow(b,a)};
AdfDhtmlTableBasePeer.prototype.HandleTableBodyArrowLeftRight=function(a,b){var c=this.__getScrollLeft()+(a?-20:20);if(b)c=Math.max(0,c),c<this._getScrollWidth()&&this._scrollerScrollToPos(c,null);else if(a&&(c=this._focusManager.currency)){var d=this.FindRowByKey(c);d&&(d=this.GetRowHeaderCellFromRow(d.tr))&&this.UpdateFocusManager(AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE,c,d)}this._hasDetailStamp&&!b&&(c=this.GetFocusedRowKey(),c!=null&&this.getComponent().setDisclosedRowKey(c,!a))};
AdfDhtmlTableBasePeer.prototype._hScrollPage=function(a){var b=this.IsEmpty?this.getDomElement():this._hasSingleScroller()&&!this._isPaged?this.GetScroller():this.GetScroller()[AdfDhtmlTableBasePeer._HSCROLLER];if(b&&b.scrollWidth>b.offsetWidth){var c=AdfAgent.AGENT.getScrollLeft(b)-(a?-1:1)*(b.clientWidth-b.clientWidth/10),c=a?Math.max(c,0):Math.min(c,b.scrollWidth);AdfAgent.AGENT.scrollToPos(b,c)}};
AdfDhtmlTableBasePeer.prototype._handlePageUp=function(a,b){if(a)this._hScrollPage(!0);else if(this._virtInitialized){var c=this.GetDatabody(),d=this._currentScrollTop-c.offsetHeight,e=d>0-c.offsetHeight,d=d<0?0:d,f=this.getComponent().getSelectedRowKeys(),g=!1,h;for(h in f){g=!0;break}if(!g||b)e&&this._scrollerScrollToPos(null,d);else if(g=this.GetFirstVisibleRowKeyAndRow(),(d=g.rowKey)!=null)g=g.row,f=f[d]!=null&&f[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]==null,this._selUnselectAll(),e&&f?
(this._selectionRequest=AdfDhtmlTableBasePeer._SELECT_PAGE_UP,d=g.offsetTop+g.parentNode.parentNode.startPos-c.offsetHeight,this._scrollerScrollToPos(null,d)):(this._selSelectRow(d,g),this._unclipRow(g))}};
AdfDhtmlTableBasePeer.prototype._handlePageDown=function(a,b){if(a)this._hScrollPage(!1);else if(this._virtInitialized){var c=this.GetDatabody(),d=this.getComponent().getSelectedRowKeys(),e=!1,f;for(f in d){e=!0;break}if(!e||b)d=this._currentScrollTop+c.offsetHeight,d<this._getScrollHeight()&&this._scrollerScrollToPos(null,d);else if(e=this._getLastVisibleRowKeyAndRow(),(c=e.rowKey)!=null)e=e.row,d=d[c]!=null&&d[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]==null,this._selUnselectAll(),d?(this._selectionRequest=
AdfDhtmlTableBasePeer._SELECT_PAGE_DOWN,this._scrollerScrollToPos(null,this._currentScrollTop+(e.offsetTop+e.offsetHeight-(this._currentScrollTop-e.parentNode.parentNode.startPos)))):(this._selSelectRow(c,e),this._unclipRow(e))}};
AdfDhtmlTableBasePeer.prototype._getLastVisibleRowKeyAndRow=function(){for(var a=AdfAgent.AGENT,b=this.GetDatabody(),c=b.childNodes,d={},e=c.length-1;e>=0&&!d.rowKey;--e)for(var f=c[e].startPos,g=c[e].rows,h=g.length-1;h>=0;--h){var k=g[h];if(k.offsetTop-(this._currentScrollTop-f)+AdfDhtmlTableBasePeer._MAXIMUM_ROW_REVEAL<b.offsetHeight){f=CSCOCall_getAttribute(a,"getAttribute",k,AdfDhtmlTableBasePeer._ROW_KEY);d.rowKey=f;d.row=k;break}}return d};
AdfDhtmlTableBasePeer.prototype.GetFirstVisibleRowKeyAndRow=function(a){var b=this._cachedFirstVisibleRowKeyAndRow;if(b)return b;for(var c=AdfAgent.AGENT,d=this.GetDatabody().childNodes,e=d.length,b={},a=a==void 0?AdfDhtmlTableBasePeer._MAXIMUM_ROW_REVEAL:a,f=0;f<e&&!b.rowKey;++f){var g=d[f],h=g.startPos,k=g.rows,l=0;if(k!=null)l=k.length;for(var m=0;m<l;++m)if(g=k[m],g.offsetTop+g.offsetHeight+h-a>this._currentScrollTop){h=CSCOCall_getAttribute(c,"getAttribute",g,AdfDhtmlTableBasePeer._ROW_KEY);b.rowKey=h;b.row=g;break}}return this._cachedFirstVisibleRowKeyAndRow=
b};
AdfDhtmlTableBasePeer.prototype.scrollToRowIndex=function(a,b){var c=a*this._averageRowHeight,d=this.getComponent(),e=this.GetFirstVisibleRowKeyAndRow(),d=e.rowKey?d.getRowIndex(e.rowKey):null,f;this._currentScrollTop!=c&&(f=this.scrollToPos(-1,c,!0,!1));d==a||f==AdfDhtmlTableBasePeer.VIEWPORT_SATISFIED?this._callCallbackWithStatus(b,this.SCROLL_SUCCEEDED):(c=this._postEvalCallback,this._callCallbackWithStatus(c,this.SCROLL_CANCELLED),this._postEvalCallback=b,c||AdfPage.PAGE.addEventListener(AdfDomReplacedEvent.EVENT_TYPE,this._domReplacedListener,
this))};AdfDhtmlTableBasePeer.prototype._callCallbackWithStatus=function(a,b){if(a){AdfAssert.assertFunction(a);var c={};c.status=b;a(c)}};AdfDhtmlTableBasePeer.prototype._domReplacedListener=function(a){var b=this.getComponent();AdfAssert.assertPrototype(b,AdfUIComponent);b=b.getClientId();if(a.containsClientId(b))AdfPage.PAGE.removeEventListener(AdfDomReplacedEvent.EVENT_TYPE,this._domReplacedListener,this),a=this._postEvalCallback,this._postEvalCallback=null,this._callCallbackWithStatus(a,this.SCROLL_SUCCEEDED)};
AdfDhtmlTableBasePeer.prototype._getNextRowKeyAndRow=function(a){for(var b=AdfAgent.AGENT,c=this.GetDatabody().childNodes,d=c.length,e={},f=0;f<d&&!e.rowKey;++f)for(var g=c[f].rows,h=g.length,k=0;k<h;++k){var l=g[k],m=CSCOCall_getAttribute(b,"getAttribute",l,AdfDhtmlTableBasePeer._ROW_KEY);if(a==null){e.rowKey=m;e.row=l;break}else if(m==a){e.lastRowKeyInView=m;if(k+1<h){l=g[k+1];if(this._hasDetailStamp&& CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",l,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1))if(k+2<h)l=g[k+2];else if(f+1<d&&c[f+1].rows.length>
0)l=c[f+1].rows[0];else return e;m=CSCOCall_getAttribute(b,"getAttribute",l,AdfDhtmlTableBasePeer._ROW_KEY);e.rowKey=m;e.row=l}else if(f+1<d&&(g=c[f+1].rows,g.length>0))l=g[0],m=CSCOCall_getAttribute(b,"getAttribute",l,AdfDhtmlTableBasePeer._ROW_KEY),e.rowKey=m,e.row=l;break}}return e};
AdfDhtmlTableBasePeer.prototype._getPreviousRowKeyAndRow=function(a){for(var b=AdfAgent.AGENT,c=this.GetDatabody().childNodes,d={},e=c.length-1;e>=0&&!d.rowKey;--e)for(var f=c[e],g=c[e].rows,h=g.length-1;h>=0;--h){var k=g[h],l=CSCOCall_getAttribute(b,"getAttribute",k,AdfDhtmlTableBasePeer._ROW_KEY);if(a==null){d.rowKey=l;d.row=k;break}else if(l==a){d.lastRowKeyInView=l;if(h-1>=0){k=g[h-1];if(this._hasDetailStamp&& CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",k,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1))if(h-2>=0)k=g[h-2];else if(e-1>=0&&
c[e-1].rows.length>0)k=c[e-1].rows[c[e-1].rows.length-1];else return d;l=CSCOCall_getAttribute(b,"getAttribute",k,AdfDhtmlTableBasePeer._ROW_KEY);d.rowKey=l;d.row=k}else if(e-1>=0){if(g=c[e-1].rows,g.length>0)k=g[g.length-1],l=CSCOCall_getAttribute(b,"getAttribute",k,AdfDhtmlTableBasePeer._ROW_KEY),d.rowKey=l,d.row=k}else if(b.getIntAttribute(f,"_startRow",-1)==0)d.isAtTop=!0;break}}return d};
AdfDhtmlTableBasePeer.prototype._handleSpaceKey=function(a,b){var c=this._focusManager;switch(c.objectType){case AdfDhtmlTableBasePeer._SELECT_ALL_FOCUS_TYPE:this._grabFocus();this.getComponent().getSelectedRowKeys()[AdfDhtmlTableBasePeer.SELECTALL_KEY_PROPERTY]||this._selSelectAll();break;case AdfDhtmlTableBasePeer._ROW_HEADER_FOCUS_TYPE:var d=this.GetRowKeyAndRow(c.domElement,this.getDomElement());d!=null&&(this._grabFocus(),this._doRowSelection(b,d[0],d[1]));break;case AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE:if(this._isColumnSelectionEnabled()){var d=
[],e=[];this._anchorColumnHeader=c=c.domElement;this._resolveColumns(d,e,c);this._doColumnSelections(b,d,e)}break;case AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE:if(this._supportsFocusRowNavigation)d=this._focusManager.currency,d!=null&&(this._selIsSelected(d)?b.ctrlKey&&this._selUnselectRow(d,this._focusManager.domElement):this._selSelectRow(d,this._focusManager.domElement))}};
AdfDhtmlTableBasePeer.prototype._handleEnterKey=function(a,b){var c=AdfAgent.AGENT,d=this._focusManager;if(this._isTargetCellFilter(a))c.getPlatform()==AdfAgent.GECKO_PLATFORM&&this._currentScrollLeft>0&&AdfFocusUtils.focusElement(this.getDomElement()),this._handleFilterCellAction();else if(this._isTargetCellEditable(a))d=this.GetRowKeyAndRow(a,this.getDomElement()),d!=null&&(c=d[0],c!=null&&(d=this._getCellAndIndexForNode(a,d[1]),d=this._ctePatternStart!=void 0&&!b.shiftKey?this._ctePatternStart:
d.cellIndex,this._isClickToEdit()?this._clickToEditActivateRow(c,!b.shiftKey,d):this._setFocusOnEditableRowCell(c,!b.shiftKey,d)));else if(this._focusManager.objectType==AdfDhtmlTableBasePeer._COLUMN_HEADER_FOCUS_TYPE){if((d=d.domElement)&&c.getElementById(AdfRichUIPeer.CreateSubId(d.id,AdfDhtmlTableBasePeer.__SORT_INDICATOR))!=null)c=AdfPage.PAGE.findComponent(d.id).getSortProperty(),d=AdfDhtmlTableBasePeer.__getSortOrderForColumn(d.id),AdfDhtmlTableBasePeer.__queueSortEvent(this.getComponent(),
c,d==null?!0:!d)}else if(this._isClickToEdit()&&this.GetFocusedRowKey()!=null)if(this._editableTableReadOnlyMode){if(this._setActiveRowKey(this.GetFocusedRowKey()),this._editableTableReadOnlyMode=!1,d=this._lastCTEIndex,d!=void 0)this._clickEditRequest={cellIndex:d}}else this._clickToEditActivateRow(this.GetFocusedRowKey(),!b.shiftKey,this._lastCTEIndex);else return!0};
AdfDhtmlTableBasePeer.prototype._setFocusOnEditableRowCell=function(a,b,c){var d=b?this._getNextRowKeyAndRow(a):this._getPreviousRowKeyAndRow(a),a=d.rowKey;if(a!=null){var b=AdfAgent.AGENT,d=d.row,c=this.FindCellByIndex(d,c),e=!0;this._setFocusOnEditableElementInNode(b,c)==null&&this._setFocusOnEditableElementInNode(b,d)==null&&(e=!1);e&&this._isRowSelectionEnabled()&&!this._selIsSelected(a)&&(this._selUnselectAll(),this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,a,d),this._selSelectRow(a,
d))}};AdfDhtmlTableBasePeer.prototype._indexOfDomElement=function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]==b)return d;return-1};
AdfDhtmlTableBasePeer.prototype._getFirstInputElementInNode=function(a,b){var c=a.getDomDocument(),d=null;if(c.evaluate)for(var c=c.evaluate('.//input[not(@type="hidden")]|.//select|.//textarea|.//button|.//a|.//*[@tabindex>=0]',b,null,XPathResult.ANY_TYPE,null),e=c.iterateNext();e;){if(!e.disabled&&e.tabIndex!=-1&&(e.nodeName!="A"||CSCOGet_href(e))){d=e;break}e=c.iterateNext()}else for(var c=b.getElementsByTagName("*"),f=c.length,g=AdfDhtmlTableBasePeer._INPUT_REGEXP,h=0;h<f;h++){var e=c[h],k=CSCOCall_getAttribute(e,"getAttribute","tabIndex",
2);if(k!=null&&k>=0&&k!=32768||e.tagName.match(g))if(!e.disabled&&k!=-1&&(e.nodeName!="A"||CSCOGet_href(e))){d=e;break}}return d};
AdfDhtmlTableBasePeer.prototype._setFocusOnEditableElementInNode=function(a,b){var c=this._getFirstInputElementInNode(a,b);if(c){var d=c.nodeName=="INPUT";if(a.getPlatform()!=AdfAgent.GECKO_PLATFORM||!(d&&c.type=="file")){var e=AdfPage.PAGE.getActiveDomElement();e&&e.blur&&e.blur();var e=!1,f=AdfPage.PAGE.getZOrderManager();f&&f.containsElement(this.getDomElement())&&(e=!0);a.getPlatform()==AdfAgent.IE_PLATFORM&&e&&!this._isClickToEdit()?AdfFocusUtils.focusElementDelayed(c,1):AdfFocusUtils.focusElement(c);
d&&typeof c.select!=void 0&&c.select();return c}}return null};AdfDhtmlTableBasePeer.prototype._setInputElementCursorAtEndInNode=function(a,b){var c=this._getFirstInputElementInNode(a,b);if(c&&(c.nodeName=="INPUT"&&c.type=="text"||c.nodeName=="TEXTAREA")){var d=CSCOGet_value(c).length;c.selectionStart!=null?c.selectionStart=c.selectionEnd=d:(d=c.createTextRange(),d.collapse(!1),d.select());AdfFocusUtils.focusElement(c);return c}return null};
AdfDhtmlTableBasePeer.prototype._unclipRow=function(a){AdfAssert.assert(a!=null,"Unable to unclipRow without a valid row being passed in!");var b=this.GetDatabody(),c=a.offsetTop+a.parentNode.parentNode.startPos;c<this._currentScrollTop?this._scrollerScrollToPos(null,c):(a=a.offsetTop+a.offsetHeight-(this._currentScrollTop-a.parentNode.parentNode.startPos),a>b.offsetHeight&&this._scrollerScrollToPos(null,this._currentScrollTop+(a-b.offsetHeight)))};
AdfDhtmlTableBasePeer.prototype.UpdateFocusManager=function(a,b,c){var d=this._focusManager;d.domElement!=null&&this._updateFocusCellStyle(!1);d.objectType=a;d.currency=b;d.domElement=c;this._updateFocusCellStyle(!0)};AdfDhtmlTableBasePeer.prototype._updateFocusCellStyle=function(a){var b=this._focusManager;a&&b.domElement?AdfDomUtils.addCSSClassName(b.domElement,AdfDhtmlTableBasePeer._FOCUSED_CLASS):!a&&b.domElement&&AdfDomUtils.removeCSSClassName(b.domElement,AdfDhtmlTableBasePeer._FOCUSED_CLASS)};
AdfDhtmlTableBasePeer.prototype._isFilterable=function(){return CSCOCall_getAttribute(this.getDomElement(),"getAttribute",AdfDhtmlTableBasePeer._FILTERABLE)!=null};AdfDhtmlTableBasePeer.prototype._isTargetCellFilter=function(a){for(var b=this.getDomElement(),c=AdfAgent.AGENT,d=CSCOCall_getAttribute(c,"getAttribute",a,AdfDhtmlTableBasePeer._FILTER_COLUMN);d==null;){if(a==null||a==b)return!1;a=a.parentNode;if(a==null||a.nodeType!=1)break;d=CSCOCall_getAttribute(c,"getAttribute",a,AdfDhtmlTableBasePeer._FILTER_COLUMN)}return d!=null};
AdfDhtmlTableBasePeer.prototype._handleFilterCellAction=function(){var a=this.getComponent();a.queueEvent(new AdfQueryEvent(a))};AdfDhtmlTableBasePeer.prototype.getRowKeyForEvent=function(a){var a=a.getNativeEventTarget(),b=this.getDomElement();if(this._getTargetRowHeader(a,b)==null&&(a=this.GetRowKeyAndRow(a,b),a!=null))return a[0];return null};
AdfDhtmlTableBasePeer.prototype.applyDragReadyStateForRowKeys=function(a,b,c){AdfAssert.assertArray(c);a=this._getDomNodesForDrag(c);b=0;for(c=a.length;b<c;++b)AdfDomUtils.addCSSClassName(a[b],AdfRichUIPeer.DRAG_READY_STYLECLASS);return a};AdfDhtmlTableBasePeer.prototype.ClearDragReadyState=function(a){AdfAssert.assertArray(a);for(var b=0,c=a.length;b<c;++b)AdfDomUtils.removeCSSClassName(a[b],AdfRichUIPeer.DRAG_READY_STYLECLASS)};
AdfDhtmlTableBasePeer.prototype.applyDragSourceStateForRowKeys=function(a,b,c){AdfAssert.assertArray(c);a=this._getDomNodesForDrag(c);b=0;for(c=a.length;b<c;++b)AdfDomUtils.addCSSClassName(a[b],AdfRichUIPeer.DRAG_SOURCE_STYLECLASS);return a};AdfDhtmlTableBasePeer.prototype.ClearDragSourceState=function(a){AdfAssert.assertArray(a);for(var b=0,c=a.length;b<c;++b)AdfDomUtils.removeCSSClassName(a[b],AdfRichUIPeer.DRAG_SOURCE_STYLECLASS)};
AdfDhtmlTableBasePeer.prototype.getDragOffsetForRowKeys=function(a,b){var c=a.getNativeEventTarget(),d=this.getDomElement(),e=this.GetRowKeyAndRow(c,d),d=c=0,f=AdfAgent.AGENT;if(e!=null)for(var g=e[0],e=e[1],h=0;h<b.length;h++)if(b[h]==g){g=f.getElementPosition(e);f=f.getMousePosition(a.getNativeEvent());c=f.x-g.x;d+=f.y-g.y;this._hasFrozenColumn()&&(c-=AdfDhtmlTableBasePeer.__getChildBySubId(this.__getColumnHeader(),"t").offsetWidth);break}else{var k=this.FindRowByKey(b[h]);AdfAssert.assert(k!=null);
d+=k.tr.offsetHeight}return{x:c,y:d}};
AdfDhtmlTableBasePeer.prototype.getDragNodeForRowKeys=function(a){AdfAssert.assertArray(a);for(var b=AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE,c=0,d=b?CSCOCall_createElement(this.getDomDocument(),"createElement","div"):CSCOCall_createElement(this.getDomDocument(),"createElement","table"),a=this._getDomNodesForDrag(a),e=0,f=a.length;e<f;++e){var g=a[e];b?c+=g.offsetHeight:(g=this._cloneCellForDrag(g), CSCOCall_appendChild(d.insertRow(-1),"appendChild",g))}if(b)d=AdfAgent.AGENT.createDraggableNode(d),d.style.height=c+"px",
d.style.width=this.getDomElement().offsetWidth+"px";return d};
AdfDhtmlTableBasePeer.prototype._getDomNodesForDrag=function(a){for(var b=[],c=this._lastFrozen,d=this.GetDatabody(),e=0;e<a.length;++e){var f=this.FindRowByKey(a[e]);if(f){var f=f.tr,g=f.parentNode.parentNode.startPos;f.offsetTop+f.offsetHeight+g-AdfDhtmlTableBasePeer._MAXIMUM_ROW_REVEAL>this._currentScrollTop&&f.offsetTop-(this._currentScrollTop-g)+AdfDhtmlTableBasePeer._MAXIMUM_ROW_REVEAL<d.offsetHeight&&(g=f.cells[0],this._freezeColumnsToStart()?g=this._getInnerTableCell(f,c+1):this._freezeColumnsToEnd()&&
(g=this._getInnerTableCell(f,0)),g==null&&(g=f.cells[0]),b.push(g))}}return b};AdfDhtmlTableBasePeer.prototype._cloneCellForDrag=function(a){var b=a.cloneNode(!0),c=AdfAgent.AGENT;c.copyStyle(a,b);a=b.style;a.width="";a.borderRight=a.borderBottom="0px";c.setOpacity(b,50);return b};
AdfDhtmlTableBasePeer.prototype.getRowKeyAndOrientationFromHints=function(a,b,c){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);AdfAssert.assert(c!=null);var d=c[AdfStampedDropTarget.HINT_LAST_ROWKEY],e=c[AdfStampedDropTarget.HINT_LAST_ROWKEY_BOUNDS],f=c[AdfStampedDropTarget.HINT_LAST_DROP_ORIENTATION];if(d&&e&&(AdfAssert.assertString(d),AdfAssert.assertObject(e),a>=e.left&&b>=e.top&&a<=e.right&&b<=e.bottom)){c[AdfStampedDropTarget.ROW_KEY]=d;c[AdfStampedDropTarget.DROP_ORIENTATION]=f;return}this._getRowKeyAndOrientationForPosition(a,
b,c)};
AdfDhtmlTableBasePeer.prototype._getRowKeyAndOrientationForPosition=function(a,b,c){AdfAssert.assertNumber(a);AdfAssert.assertNumber(b);var d=this.GetDatabody(),e=AdfDomUtils.getElementAtPoint(d,a,b);if(e&&(e=this.GetRowKeyAndRow(e,this.getDomElement()),e!=null)){c[AdfStampedDropTarget.ROW_KEY]=e[0];c[AdfStampedDropTarget.DROP_ORIENTATION]=AdfDropEvent.DROP_ORIENTATION_ON;return}this.IsEmpty?(c[AdfStampedDropTarget.ROW_KEY]=null,c[AdfStampedDropTarget.DROP_ORIENTATION]=AdfDropEvent.DROP_ORIENTATION_AFTER):AdfAgent.AGENT.pointInElementBounds(d,
a,b)?(c[AdfStampedDropTarget.ROW_KEY]=this._getLastRowKey(),c[AdfStampedDropTarget.DROP_ORIENTATION]=AdfDropEvent.DROP_ORIENTATION_AFTER):(c[AdfStampedDropTarget.ROW_KEY]=null,c[AdfStampedDropTarget.DROP_ORIENTATION]=AdfDropEvent.DROP_ORIENTATION_ON)};
AdfDhtmlTableBasePeer.prototype.showDragFeedback=function(a,b,c,d){AdfAssert.assertPrototype(a,AdfDnDContext);AdfAssert.assertStringOrNull(b);AdfAssert.assertNumber(c);AdfAssert.assertStringOrNull(d);c==AdfDnDContext.ACTION_NONE&&(AdfDomUtils.removeCSSClassName(this.GetDatabody(),AdfDhtmlTableBasePeer._DROP_TARGET_CLASS),b=null);if(d!=b&&(d&&(a=this.FindRowByKey(d))&&AdfDomUtils.removeCSSClassName(a.tr,AdfDhtmlTableBasePeer._DROP_TARGET_CLASS),b&&(a=this.FindRowByKey(b))))AdfDomUtils.addCSSClassName(a.tr,
AdfDhtmlTableBasePeer._DROP_TARGET_CLASS),AdfDomUtils.removeCSSClassName(this.GetDatabody(),AdfDhtmlTableBasePeer._DROP_TARGET_CLASS);b==null&&c!=AdfDnDContext.ACTION_NONE&&AdfDomUtils.addCSSClassName(this.GetDatabody(),AdfDhtmlTableBasePeer._DROP_TARGET_CLASS)};AdfDhtmlTableBasePeer.prototype.getRowKeyBounds=function(a){if(!a)return null;return(a=this.FindRowByKey(a))?AdfAgent.AGENT.getElementPageBounds(a.tr):null};
AdfDhtmlTableBasePeer.prototype.ShiftIndex=function(a,b,c){for(;a;)a.startRow+=b,a=c?a.nextSibling:a.previousSibling};AdfDhtmlTableBasePeer.prototype.IsReceivingActiveEvents=function(){return this._activeDataCount!=-1};AdfDhtmlTableBasePeer.prototype.RemoveAllBlocks=function(a){for(var b=a.childNodes,c=b.length-1;c>=0;c--)this.UnregisterNode(b[c]), CSCOCall_removeChild(a,"removeChild",b[c])};
AdfDhtmlTableBasePeer.prototype._getFirstRowKey=function(){var a=this.GetDatabody().childNodes;if(a.length>0)return this._getBlockFirstRowKey(a[0]);return null};AdfDhtmlTableBasePeer.prototype._getLastRowKey=function(){var a=this.GetDatabody().childNodes,b=a.length;if(b>0)return this._getBlockLastRowKey(a[b-1]);return null};
AdfDhtmlTableBasePeer.prototype._getBlockFirstRowKey=function(a){AdfAssert.assert(a.rows!=null&&a.rows.length>0,"Unable to get row key by index when the block contains no rows!");return CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",a.rows[0],AdfDhtmlTableBasePeer._ROW_KEY)};
AdfDhtmlTableBasePeer.prototype._getBlockLastRowKey=function(a){AdfAssert.assert(a.rows!=null&&a.rows.length>0,"Unable to get row key by index when the block contains no rows!");var b=AdfAgent.AGENT,a=a.rows[a.rows.length-1],c=CSCOCall_getAttribute(b,"getAttribute",a,AdfDhtmlTableBasePeer._ROW_KEY);c==null&&a.previousSibling&&(c=CSCOCall_getAttribute(b,"getAttribute",a.previousSibling,AdfDhtmlTableBasePeer._ROW_KEY));return c};AdfDhtmlTableBasePeer.prototype._isImmediateContentDelivery=function(a){return a.getContentDelivery()=="immediate"};
AdfDhtmlTableBasePeer.prototype._isInlineDataAvailable=function(a){return a.getProperty("_afrDataInline")};
AdfDhtmlTableBasePeer.prototype._sizeRegionsForFrozenColumns=function(a,b){if(this._hasFrozenColumn()&&!this._areAllColumnsFrozen(this._colCount)){for(var c=a.firstChild;c;)this._sizeBlockForFrozenColumns(c,b),c=c.nextSibling;var d=this.__getColumnHeader(),e=this._unfrozenWidth;if(d!=null)if(c=AdfDhtmlTableBasePeer.__getChildBySubId(d,"d2"),this._freezeColumnsToEnd()){if(d=AdfDhtmlTableBasePeer.__getChildBySubId(d,"t"))e=this._unfrozenWidth,b<this._totalWidth&&(e=Math.max(b-this._frozenWidth,0)),
c.style.width=e+"px",AdfDhtmlTableBasePeer.__getChildBySubId(c,"t2").style.width=e+"px",AdfDhtmlTableBasePeer._isRTL()?d.style.right=c.style.width:d.style.left=c.style.width}else c.style.width=Math.max(b-this._frozenWidth,0)+"px";e=this._getColumnFooter();if(e!=null)if(c=AdfDhtmlTableBasePeer.__getChildBySubId(e,"fd2"),this._freezeColumnsToEnd()){if(d=AdfDhtmlTableBasePeer.__getChildBySubId(e,"ft"))e=this._unfrozenWidth,b<this._totalWidth&&(e=b-this._frozenWidth),c.style.width=e+"px",AdfDhtmlTableBasePeer._isRTL()?
d.style.right=c.style.width:d.style.left=c.style.width}else c.style.width=Math.max(b-this._frozenWidth,0)+"px"}};AdfDhtmlTableBasePeer.prototype._getUnfrozenColumnsWidth=function(){var a=0,b=this.__getColumnHeader();if(b=AdfDhtmlTableBasePeer.__getChildBySubId(b,"d2"))a=b.offsetWidth;return a};
AdfDhtmlTableBasePeer.prototype._sizeBlockForFrozenColumns=function(a,b){if(this._hasFrozenColumn()){AdfAssert.assert(a.rows!=null&&a.rows[0]!=null,"Unable to _sizeBlockForFrozenColumns when block contains no rows!");var c=a.rows[0].cells;if(!this._areAllColumnsFrozen(c.length)){var d;if(this._freezeColumnsToEnd()){var d=Math.max(b-this._frozenWidth,0),e=this._frozenWidth;if(this._totalWidth>0&&b>=this._totalWidth)d=this._unfrozenWidth;this._frozenWidth>0&&b<this._frozenWidth&&(e=b);c=c[0];c.style.width=
d+"px";a.style.width=d+e+"px";if(this._processColGroup()&&(d=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"COLGROUP"))){for(d=d.childNodes[0];d&&d.tagName!="COL";)d=d.nextSibling;if(d)d.style.width=c.style.width,c.firstChild.style.width=c.style.width}}else if(c=c[c.length-1],c.style.width=Math.max(b-this._frozenWidth,0)+"px",a.style.width=b+"px",this._processColGroup()&&(d=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"COLGROUP"))){for(d=d.childNodes[d.childNodes.length-1];d&&d.tagName!="COL";)d=
d.previousSibling;if(d)d.style.width=c.style.width,c.firstChild.style.width=c.style.width}}}};
AdfDhtmlTableBasePeer.prototype._registerInnerScrollCallback=function(a){if(this._hasFrozenColumn()){AdfAssert.assert(a.rows!=null&&a.rows[0]!=null,"Unable to register inner scroll callback when the block contains no rows!");var b=a.rows[0].cells,c=b.length;if(!this._areAllColumnsFrozen(c))for(var d=0;d<a.rows.length;d++)b=a.rows[d].cells,b=this._freezeColumnsToEnd()?b[0]:b[c-1],AdfDhtmlTableBasePeer.FindFirstChildByTagName(b,"DIV").onscroll=this._innerTableScrollCallback}};
AdfDhtmlTableBasePeer.prototype._getNestedScrolledTable=function(a){AdfAssert.assert(a!=null,"Unable to get the nested scrolled table without a valid row passed in!");a=a.cells;a=this._freezeColumnsToEnd()?a[0]:a[a.length-1];a=AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"DIV");return AdfDhtmlTableBasePeer.FindFirstChildByTagName(a,"TABLE")};AdfDhtmlTableBasePeer._isRTL=function(){return AdfPage.PAGE.getLocaleContext().isRightToLeft()};
AdfDhtmlTableBasePeer.prototype._getExpandAction=function(a){var b=AdfPage.PAGE.getLookAndFeel(),c=b.getStyleClass(AdfDhtmlTableBasePeer._ICON_STYLE_EXPANDED),d=a.parentNode.className;if(c==a.className||c==d)return"collapse";b=b.getStyleClass(AdfDhtmlTableBasePeer._ICON_STYLE_COLLAPSED);if(b==a.className||b==d)return"expand";return null};AdfDhtmlTableBasePeer.prototype.ComponentScrollTopChanged=function(a,b,c){this.scrollToPos(-1,c,!0);return!1};
AdfDhtmlTableBasePeer.prototype.ComponentScrollLeftChanged=function(a,b,c){this.scrollToPos(c,-1,!0);return!1};AdfDhtmlTableBasePeer.prototype.ComponentDisclosedRowKeysChanged=function(a,b,c,d){this._savedDisclosedState=d;a=AdfCollections.removeAll(d,c);c=AdfCollections.removeAll(c,d);b=d=!1;a!=null&&!AdfCollections.isEmpty(a)&&(this.HandleComponentCollapseEvent(a),d=!0);c!=null&&!AdfCollections.isEmpty(c)&&(this.HandleComponentExpandEvent(a),b=!0);AdfAssert.assert(!(d&&b))};
AdfDhtmlTableBasePeer.prototype.HandleComponentCollapseEvent=function(){this._queueCollapseFetchEvent()};AdfDhtmlTableBasePeer.prototype.HandleComponentExpandEvent=function(){AdfPage.PAGE.isAttachmentMode()||this._queueExpandFetchEvent()};
AdfDhtmlTableBasePeer.prototype._changeDetailIcon=function(a,b){for(var c=AdfAgent.AGENT,d=null,e=a.cells,f=0;f<e.length;f++)if(CSCOCall_getAttribute(c,"getAttribute",e[f],AdfDhtmlTableBasePeer._DETAIL_COLUMN_MARKER,!1)){d=e[f];break}if(d){if(c=AdfDhtmlTableBasePeer.FindFirstChildByTagName(d,"A"))e=b?AdfDhtmlTableBasePeer._ICON_STYLE_EXPANDED:AdfDhtmlTableBasePeer._ICON_STYLE_COLLAPSED,d=AdfPage.PAGE.getLookAndFeel(),e=d.getStyleClass(e),c.className=e,d=b?d.getTranslatedString(AdfDhtmlTableBasePeer._EXPANDED_NODE_KEY):d.getTranslatedString(AdfDhtmlTableBasePeer._COLLAPSED_NODE_KEY),
c.title=d;(c=this._getDisclosureIcon(c))&&AdfDomUtils.swapIcon(c,b?AdfDhtmlTableBasePeer._ICON_EXPANDED:AdfDhtmlTableBasePeer._ICON_COLLAPSED)}};AdfDhtmlTableBasePeer.prototype._getDisclosureIcon=function(a){var b=AdfAgent.getAgent();if(a.firstChild!=null&&(a=a.firstChild,b=b.getNodeName(a).toLowerCase(),b=="img"||b=="span"||b=="#text"))return a;return null};AdfDhtmlTableBasePeer.prototype._getEstimatedRowCount=function(a){return AdfAgent.getAgent().getIntAttribute(a,"_estRowCount",-1)};
AdfDhtmlTableBasePeer._getBlockRowCount=function(a){var b=0,c=AdfAgent.getAgent();if(CSCOCall_getAttribute(c,"getAttribute",a,AdfDhtmlTableBasePeer._HAS_DETAIL_MARKER,!1))for(var a=a.rows,d=0;d<a.length;d++) CSCOCall_getAttribute(c,"getAttribute",a[d],AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)||b++;else return a.rows.length;return b};
AdfDhtmlTableBasePeer.prototype.__isOwnComponentEvent=function(a){for(var a=a.getSource(),b=this.getComponent(),c=!1,d=AdfPage.PAGE.getDomWindow().AdfUITree!=null;!c&&a;)if(a==b)c=!0;else{if(a instanceof AdfUITable||d&&a instanceof AdfUITree||a instanceof AdfUIPopup)break;a=a.getParent()}return c};AdfDhtmlTableBasePeer.prototype._isClickToEdit=function(){return this.getComponent().getEditingMode()==AdfDhtmlTableBasePeer._EDIT_MODE_CLICKTOEDIT};AdfDhtmlTableBasePeer.prototype._getActiveRowKey=function(){return this.getComponent().getProperty("_afrActiveRowKey")};
AdfDhtmlTableBasePeer.prototype.ComponentActiveRowKeyChanged=function(a,b,c){this._setActiveRowKey(c);return!1};
AdfDhtmlTableBasePeer.prototype._setActiveRowKey=function(a){if(AdfTableDataFetchEvent.CLICK_EDIT_ACTIVE_ROW!=this._pendingFetch&&!this._ignoreActiveRowKeyChange){var b=null;this._ignoreActiveRowKeyChange=!0;try{var c=this.getComponent(),d=c.getProperty("_afrActiveRowKey");CSCOCall_setProperty(c,"setProperty","_afrActiveRowKey",a,!1,AdfUIComponent.PROPAGATE_ALWAYS);CSCOCall_setProperty(c,"setProperty","activeRowKey",a,!1,AdfUIComponent.PROPAGATE_ALWAYS);b=this._queueFetchEvent(!1,AdfTableDataFetchEvent.CLICK_EDIT_ACTIVE_ROW,-1,a);d&&b?(b.setOldClientKey(d),
this._oldActiveRowKey=d):b||(CSCOCall_setProperty(c,"setProperty","_afrActiveRowKey",d,!1,AdfUIComponent.PROPAGATE_ALWAYS), CSCOCall_setProperty(c,"setProperty","activeRowKey",d,!1,AdfUIComponent.PROPAGATE_ALWAYS))}finally{this._ignoreActiveRowKeyChange=!1}return b}};
AdfDhtmlTableBasePeer.prototype._restoreActiveRowKey=function(){this._ignoreActiveRowKeyChange=!0;try{var a=this.getComponent();CSCOCall_setProperty(a,"setProperty","_afrActiveRowKey",this._oldActiveRowKey,!1,AdfUIComponent.PROPAGATE_NEVER);CSCOCall_setProperty(a,"setProperty","activeRowKey",this._oldActiveRowKey,!1,AdfUIComponent.PROPAGATE_NEVER);delete this._oldActiveRowKey}finally{this._ignoreActiveRowKeyChange=!1}};
AdfDhtmlTableBasePeer.prototype._getCellAndIndexForNode=function(a,b){for(var c=AdfAgent.AGENT,d=this.getDomElement(),e=null,f=-1,g=null;null!=a&&a!=d&&f==-1;)if(c.getNodeName(a)=="TD"){var h=a.parentNode;if(h==b){this._freezeColumnsToStart()?f=this._indexOfDomElement(b.cells,a):this._freezeColumnsToEnd()&&(f=this._firstFrozen+this._indexOfDomElement(b.cells,a)-1);g=a;break}else if(this._hasFrozenColumn()&&(e==null&&(e=this._getNestedScrolledTable(b).rows[0]),h==e)){this._freezeColumnsToStart()?f=
this._lastFrozen+this._indexOfDomElement(e.cells,a)+1:this._freezeColumnsToEnd()&&(f=this._indexOfDomElement(e.cells,a));g=a;break}a=h}else a=a.parentNode;return{cellIndex:f,cell:g}};AdfDhtmlTableBasePeer.prototype._saveClickToEditRequest=function(a,b){var c=this._getCellAndIndexForNode(AdfAgent.AGENT.getEventTarget(a),b),d={};d.cellIndex=c.cellIndex;this._clickEditRequest=d};
AdfDhtmlTableBasePeer.prototype._processClickToEditRequest=function(a){var b=AdfAgent.AGENT,c=this._clickEditRequest;if(c){var d=this._getActiveRowKey();this._lastCTEIndex=c?c.cellIndex:void 0;this._grabFocus();if(d){var e=this.FindRowByKey(d);if(e){e=e.tr;AdfAssert.assertDomElement(e);if(!c||c.activateCellType)if(c&&c.activateCellType=="last")for(b=this.__getVisibleLeafColumns().length-1;b>=0;){c=this._getInputElementsInNode(this.FindCellByIndex(e,b));if(c.length>0){AdfFocusUtils.focusElement(c[c.length-
1]);break}b--}else this._setFocusOnEditableElementInNode(b,e);else c=this.FindCellByIndex(e,c.cellIndex),AdfAssert.assertDomElement(c),this._setFocusOnEditableElementInNode(b,c)==null&&this._setFocusOnEditableElementInNode(b,e);a&&this._isRowSelectionEnabled()&&!this._selIsSelected(d)&&(this._selUnselectAll(),this.UpdateFocusManager(AdfDhtmlTableBasePeer._TABLE_BODY_FOCUS_TYPE,d,e),this._selSelectRow(d,e));this._clickEditRequest&&delete this._clickEditRequest;this._processClickToEditRequestTimerId&&
delete this._processClickToEditRequestTimerId}}}};
AdfDhtmlTableBasePeer.prototype._getInputElementsInNode=function(a){var b=AdfAgent.AGENT.getDomDocument(),c=[];if(b.evaluate){a=b.evaluate(".//input|.//select|.//textarea|.//button|.//a",a,null,XPathResult.ANY_TYPE,null);for(b=a.iterateNext();b;)!b.disabled&&b.tabIndex!=-1&&(b.nodeName!="A"||CSCOGet_href(b))&&c.push(b),b=a.iterateNext()}else for(var a=a.getElementsByTagName("*"),d=a.length,e=/^INPUT|SELECT|BUTTON|^A\b|TEXTAREA/,f=0;f<d;f++)b=a[f],b.tagName.match(e)&&!b.disabled&&b.tabIndex!=-1&&(b.nodeName!=
"A"||CSCOGet_href(b))&&c.push(b);return c};
AdfDhtmlTableBasePeer.prototype._handleTabKey=function(a,b){var c=this.GetRowKeyAndRow(a,this.getDomElement()),d=b.shiftKey,e=!0;if(c!=null){var f=c[1];if(f!=null){var g=this._getCellAndIndexForNode(a,f),h=g.cell;if(h){var k=g.cellIndex;if(!this._ctePatternStart)this._ctePatternStart=k;if(this._isClickToEdit()&&this._getActiveRowKey()!=null){var h=this._getInputElementsInNode(h),l=h.length;if(l>0)if(!d&&AdfDomUtils.isAncestorOrSelf(h[l-1],a)){if(this._hasDetailStamp&&(g=f.nextSibling)&& CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",g,
AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1))if(h=this._getInputElementsInNode(g),h.length>0)return!0;g=this.__getVisibleLeafColumns().length;d=k>=g-1;if(!d){for(k++;k<g;){h=this._getInputElementsInNode(this.FindCellByIndex(f,k));if(h.length>0)break;k++}d=k==g}d&&(this._clickToEditActivateRow(c[0],!0),e=!1)}else if(d&&AdfDomUtils.isAncestorOrSelf(h[0],a)){k=g.cellIndex==0;if(!k){for(k=g.cellIndex-1;k>=0;){h=this._getInputElementsInNode(this.FindCellByIndex(f,k));if(h.length>0)break;k--}k=k==-1}k&&
(this._clickToEditActivateRow(c[0],!1),e=!1)}}}}}else if(!d&&this._hasDetailStamp&&this._isClickToEdit())return this._handleTabKeyInCTEDetailRegion(a);return e};
AdfDhtmlTableBasePeer.prototype._handleTabKeyInCTEDetailRegion=function(a){for(var b=this.getDomElement(),c=a.parentNode,d=AdfAgent.AGENT,e=!0;c&&c!=b;){if(d.getNodeName(c)=="TR"&& CSCOCall_getAttribute(d,"getAttribute",c,AdfDhtmlTableBasePeer._DETAIL_ROW_MARKER,!1)){elems=this._getInputElementsInNode(c);elems.length>0&&elems[elems.length-1]==a&&(this._clickToEditActivateRow(CSCOCall_getAttribute(d,"getAttribute",c.previousSibling,AdfDhtmlTableBasePeer._ROW_KEY),!0),e=!1);break}c=c.parentNode}return e};
AdfDhtmlTableBasePeer.prototype._clickToEditActivateRow=function(a,b,c){delete this._lastRowKeyInView;var d=b?this._getNextRowKeyAndRow(a):this._getPreviousRowKeyAndRow(a);if(!d.isAtTop){var e=d.rowKey,f=d.lastRowKeyInView;if(e!=null)this._setActiveRowKey(e),this._unclipRow(d.row),this._clickEditRequest=c!=void 0?{cellIndex:c}:{activateCellType:!b?"last":"first"},b=AdfPage.PAGE.getActiveDomElement(),f=this.getComponent().getProperty("activeRowKey"),a!=f&&b&&b.blur&&b.blur();else if(f!=null){a=this.GetScroller();
if(!this._hasSingleScroller()||this._isPaged)a=a[AdfDhtmlTableBasePeer._VSCROLLER];c=this._currentScrollTop+(b?this._averageRowHeight:-this._averageRowHeight);if(c>0&&c<this._getScrollHeight())this._lastRowKeyInView=f,AdfAgent.AGENT.scrollToPos(a,null,c),this._clickEditRequest={activateRowType:b?"next":"previous"}}}};
AdfDhtmlTableBasePeer.prototype._processClickToEditActivateRequest=function(){var a=this._clickEditRequest;if(a&&a.activateRowType){var b=a.activateRowType=="next";attrs=b?this._getNextRowKeyAndRow(this._lastRowKeyInView):this._getPreviousRowKeyAndRow(this._lastRowKeyInView);a.activateCellType=b?"first":"last";attrs.rowKey&&this._setActiveRowKey(attrs.rowKey);delete this._lastRowKeyInView}};
AdfDhtmlTableBasePeer.prototype._restoreScrollPosition=function(){var a=this.getComponent().getScrollLeft();a>=0&&this.scrollToPos(a,-1,!0)};AdfDhtmlTableBasePeer.prototype._unclipInputElem=function(a){var b=AdfAgent.AGENT,c=this.GetScroller();if(c){if(!this._hasSingleScroller()||this._isPaged)c=c[AdfDhtmlTableBasePeer._HSCROLLER];var d=b.getElementLeft(a),e=b.getElementLeft(c);d+a.offsetWidth>e+c.clientWidth&&b.scrollToPos(c,this._currentScrollLeft+(a.offsetWidth+d-(e+c.clientWidth)),null)}};
AdfDhtmlTableBasePeer.prototype.scrollColumnIntoView=function(a,b){AdfAssert.assert(a!=null||b!=null);var c=AdfAgent.AGENT;if(!b&&(b=c.getElementById(a),!b))return;if(!this._isColumnFrozen(c.getIntAttribute(b,"_d_index",-1))){var d=this.GetScroller();if(!this._hasSingleScroller()||this._isPaged)d=d[AdfDhtmlTableBasePeer._HSCROLLER];var e=b.offsetLeft;if(e!=this._currentScrollLeft){var f=this._colScrollAnimationDuration;if(f==void 0)f=AdfPage.PAGE,this._colScrollAnimationDuration=f=f.isAnimationEnabled()?
parseInt(f.getLookAndFeel().getSkinProperty("af|table-tr-column-scroll-animation-duration")):0;f>0?AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_SLOW_FAST_SLOW,f,[{element:d,properties:{scrollLeft:e}}],null,null,null):c.scrollToPos(d,e,null)}}};AdfDhtmlTableBasePeer.prototype.getRowIndex=function(a){AdfAssert.assertString(a);AdfAssert.assert(a!=null,"Row Key cannot be null");var b=-1;if(a=this.FindRowByKey(a))b=a.index;return b};
AdfDhtmlTableBasePeer.prototype.getRowKey=function(a){AdfAssert.assertNumber(a);AdfAssert.assert(a>=0,"index must be greater than or equal to 0");for(var b=null,c=this.GetDatabody().childNodes,d=c.length,e=0;e<d;e++){var f=c[e],g=f.startRow;if(a>=g&&a<g+f.numRows){b=CSCOCall_getAttribute(AdfAgent.AGENT,"getAttribute",f.rows[a-g],AdfDhtmlTableBasePeer._ROW_KEY);break}}return b};AdfDhtmlTableBasePeer.prototype._clearColumnSelectionEventAddedSet=function(){this._colSelEventSelectedColIds={}};
AdfDhtmlTableBasePeer.prototype._clearColumnSelectionEventRemovedSet=function(){this._colSelEventUnselectedColIds={}};AdfDhtmlTableBasePeer.prototype._clearColumnSelectionEventChangedSets=function(){this._colSelEventSelectedColIds={};this._colSelEventUnselectedColIds={}};AdfDhtmlTableBasePeer.prototype._hasColumnSelectionEventChangedSets=function(){return!AdfCollections.isEmpty(this._colSelEventSelectedColIds)||!AdfCollections.isEmpty(this._colSelEventUnselectedColIds)};
AdfDhtmlTableBasePeer.prototype._queueColumnSelectionEvent=function(){if(this._hasColumnSelectionEventChangedSets()){var a=this.getComponent();AdfTableUtils.queueColumnSelectionEvent(a,this._colSelEventSelectedColIds,this._colSelEventUnselectedColIds);this._clearColumnSelectionEventChangedSets()}};
AdfDhtmlTableBasePeer.prototype.ConvertClientIdToLocator=function(a,b,c,d){b=a.getClientId();a=AdfStrings.count(b,":");AdfAssert.assert(c.indexOf(b)>=0);c=c.substring(b.length+1);b=c.indexOf(":");b>0&&(c=this.FindRowByKey(c.substring(0,b)),d.push([a+1,c?c.index:null]))};
AdfDhtmlTableBasePeer.prototype.convertLocatorToClientId=function(a,b){var c=a.getClientId(),d=null,e=this.GetDatabody();if(e!=null)for(var e=e.childNodes,f=0;f<e.length&&!d;f++){var g=e[f],h=g.startRow;if(b>=h&&b<h+g.numRows){d=CSCOCall_getAttribute(g.rows[b-h],"getAttribute",AdfDhtmlTableBasePeer._ROW_KEY);break}}return d?c+":"+d:null};
AdfDhtmlTableBasePeer.prototype._computeAutoHeight=function(){var a=AdfAgent.AGENT,b=0,c=this._autoHeightRows;if(c>0){var d=a.getPlatform()==AdfAgent.GECKO_PLATFORM,e=this.GetFirstVisibleRowKeyAndRow().row;if(e)for(var f=this.GetDatabody().childNodes,g=f.length,h=0,k=0,l=0;l<g&&h<c;l++){var k=l,m=f[l],m=m.rows,n=0;if(m!=null)n=m.length;for(var o=0;o<n&&h<c;o++)if(e===m[o]||h>0){h++;var q;d?(q=a.getComputedStyle(m[o]),q=parseFloat(q.height)):q=m[o].offsetHeight;b+=q}}if(h!=c&&h>0){g=!1;for(l=k;l>=
0;l--){m=f[l];m=m.rows;n=0;if(m!=null)n=m.length;for(o=n-1;o>=0&&h<c;o--)if(e===m[o])g=!0;else if(g)h++,d?(q=a.getComputedStyle(m[o]),q=parseFloat(q.height)):q=m[o].offsetHeight,b+=q}}}return d?Math.round(b):b};
AdfDhtmlTableBasePeer.prototype._setOuterHeightForBodyHeight=function(a){var b=this.getDomElement(),c=this._getScrollbarHeight(),d=a+this._cachedCHHeight+this._cachedCFHeight+this._cachedNBHeight+c;this._sizeOuterContainer(b,d);if(!this.IsEmpty){var e=this.GetScroller(),f=AdfAgent.getAgent(),g=f.getPlatform()==AdfAgent.IE_PLATFORM;if(e!=null&&g&&this.GetRowCount()<2){var h=null,k=0,l=f.getVersion();if(l>7&&l<9){h=e;if(!this._hasSingleScroller()||this._isPaged)h=e[AdfDhtmlTableBasePeer._HSCROLLER];
if(this._averageRowHeight!=null)k=this._averageRowHeight,h.style.minHeight=8+k+"px"}}this._setScrollerHeight(d,this._cachedCHHeight,this._cachedCFHeight,this._cachedNBHeight);this._setScrollerWidth(b.clientWidth,this._frozenWidth);g&&f.getVersion()<8&&this._setFakeCanvasHeight(this._canvasHeight);d=this._getScrollbarHeight();c!=d&&(d=a+this._cachedCHHeight+this._cachedCFHeight+d,this._sizeOuterContainer(b,d),this._setScrollerHeight(d,this._cachedCHHeight,this._cachedCFHeight,this._cachedNBHeight));
this.SizeDatabody(this.GetDatabody(),b.clientWidth,b.clientHeight);if(h!=null)h.style.minHeight=k+"px"}};AdfDhtmlTableBasePeer.prototype._sizeOuterContainer=function(a,b){var c=AdfAgent.AGENT;if(c.getBoxSizing(a)=="border-box"){var d=AdfAgent.getCSSLengthAsInt,c=c.getComputedStyle(a);a.style.height=b+d(c.paddingTop)+d(c.paddingBottom)+d(c.marginTop)+d(c.marginBottom)+d(c.borderTopWidth)+d(c.borderBottomWidth)+"px"}else a.style.height=b+"px"};
AdfDhtmlTableBasePeer.prototype.AdjustAutoHeight=function(){var a=this.GetPanelCollectionPeer();if(a&&a.isDetached()){var a=this.getDomElement(),b=a.clientHeight;this.__fixPanelCollectionDimensions(!0);this.SizeDatabody(this.GetDatabody(),a.clientWidth,b);this.IsEmpty||this._setScrollerHeight(b,this._cachedCHHeight,this._cachedCFHeight,this._cachedNBHeight)}else if(this.isHeightAutoSized()&&!this.BusyAnimating()){var b=this.GetDatabody(),c=!this.IsEmpty?this._computeAutoHeight():b.offsetHeight,d=
AdfAgent.AGENT,d=d.getPlatform()==AdfAgent.IE_PLATFORM&&d.getVersion()<9&&d.getVersion()>7;if(this.IsEmpty||c!=b.offsetHeight||d&&this.GetRowCount()<2)this._setOuterHeightForBodyHeight(c),a&&this.__fixPanelCollectionDimensions(!1);this._checkAutoHeightScrollbar(b);!this._stretchingTheColumns&&!this._desendentResizeQueued&&this._doStretch()}};
AdfDhtmlTableBasePeer.prototype._queueDescendantResize=function(){if(!this._desendentResizeQueued){this._desendentResizeQueued=!0;try{AdfPage.PAGE.__queueDescendantResizeNotifySource(this.getComponent()),AdfPage.PAGE.__doDescendantResizeNotify()}finally{delete this._desendentResizeQueued}}};AdfDhtmlTableBasePeer.prototype._doStretch=function(){this._stretchTheColumns();this._queueDescendantResize();return-1};
AdfDhtmlTableBasePeer.prototype._checkAutoHeightScrollbar=function(a){var b=a.childNodes,c=this._autoHeightRows,d=b.length,e=this._getRowCountWithDisclosedDetailStampRow(a);if(this._allRowsAvailableOnClient(b,d)&&e<=c&&(b=this._getScrollerClientHeight(),b!=this._canvasHeight))this._canvasHeight=b,this._setFakeCanvasHeight(b),b=this.getDomElement(),this._setScrollerWidth(b.clientWidth,this._frozenWidth),this.SizeDatabody(a,b.clientWidth,b.clientHeight)};
AdfDhtmlTableBasePeer.prototype._getRowCountWithDisclosedDetailStampRow=function(a){var b=0;if(this._hasDetailStamp)for(var a=a.childNodes,c=a.length,d=0;d<c;d++){var e=null;if(null!=a[d])e=a[d].rows;null!=e&&(b+=e.length)}else b=this.GetRowCount();return b};AdfDhtmlTableBasePeer.prototype.ApplyTooltipTitle=function(a){var b=this._getOnlyTextNode(a);b&&this._isCellTruncated(a)&& CSCOCall_setAttribute(a,"setAttribute","title",b.nodeValue)};
AdfDhtmlTableBasePeer.prototype._getParentMatchingId=function(a,b){for(var c=a,d=null,e=this.getDomElement();!d&&c&&c!=e.parent&&c.nodeType==1;)if(c.id&&c.id.indexOf(b)>=0){d=c;break}else c=c.parentNode;return d};
AdfDhtmlTableBasePeer.prototype._resizeNavBar=function(a){var b=!1;if(a<this._cachedNBWidth&&!this._nbarMin)b=this._nbarMin=!0;else if(a>=this._cachedNBWidth&&this._nbarMin)this._nbarMin=!1,b=!0;if(b){var a=AdfAgent.AGENT,c=this.getComponent().getClientId(),b=AdfRichUIPeer.CreateSubId(c,AdfDhtmlTableBasePeer._NAVBAR_RANGE_TEXT),b=a.getElementById(b),c=AdfRichUIPeer.CreateSubId(c,AdfDhtmlTableBasePeer._NAVBAR_PAGE_CNT),a=a.getElementById(c);this._nbarMin?(a.style.display="none",b.style.display="none"):
(a.style.display="",b.style.display="")}};
AdfDhtmlTableBasePeer.prototype.__handleNavBarItemsClick=function(a,b){var c=!1;if(this._isNavBarLink(b,AdfDhtmlTableBasePeer._NAVBAR_PREVIOUS))this._handlePrevClick(a),c=!0;else if(this._isNavBarLink(b,AdfDhtmlTableBasePeer._NAVBAR_NEXT))this._handleNextClick(a),c=!0;else if(this._isNavBarLink(b,AdfDhtmlTableBasePeer._NAVBAR_FIRST))this._handleFirstClick(a),c=!0;else{var d=this._getNavBarPageRow(b,AdfDhtmlTableBasePeer._NAVBAR_LAST);d!=null?(this._handlePageRowClick(d,a),c=!0):(d=this._getNavBarPageRow(b,
AdfDhtmlTableBasePeer._NAVBAR_PAGE),d!=null&&(this._handlePageRowClick(d,a),c=!0))}c&&AdfDomUtils.addCSSClassName(b,"p_AFActivated")};AdfDhtmlTableBasePeer.prototype.GetFirst=function(){return this.getComponent().getFirst()};AdfDhtmlTableBasePeer.prototype.RegisterFirstPropertyChange=function(){AdfRichUIPeer.addComponentPropertyChanges(AdfDhtmlTablePeer,"first")};AdfDhtmlTableBasePeer.prototype.GetRows=function(){return this.getComponent().getRows()};
AdfDhtmlTableBasePeer.prototype.ComponentFirstChanged=function(a,b,c,d){this.QueueRangeChangeEvent(d,c);this._isPaged&&AdfPage.PAGE.addPartialTargets(a);return!1};AdfDhtmlTableBasePeer.prototype.QueueRangeChangeEvent=function(a,b){var c=this.getComponent(),d=parseInt(this.GetRows()),e=parseInt(a),f=e+d-1,g=parseInt(b);AdfRangeChangeEvent.queue(c, CSCOCall_toString(e,"toString"), CSCOCall_toString(f,"toString"), CSCOCall_toString(g,"toString"), CSCOCall_toString((g+d-1),"toString"))};
AdfDhtmlTableBasePeer.prototype._isNavBarLink=function(a,b){var c=AdfRichUIPeer.CreateSubId(this.getComponent().getClientId(),b);return null!=this._getParentMatchingId(a,c)};AdfDhtmlTableBasePeer.prototype._getNavBarPageRow=function(a,b){var c=AdfRichUIPeer.CreateSubId(this.getComponent().getClientId(),b),d=this._getParentMatchingId(a,c);if(d!=null)return d.id.substring(c.length)};
AdfDhtmlTableBasePeer.prototype._handlePrevClick=function(a){var b=parseInt(this.GetFirst()),c=parseInt(this.GetRows());b-=c;b=Math.max(b,0);this.SetFirst(b);AdfAgent.AGENT.eatEvent(a)};AdfDhtmlTableBasePeer.prototype._handleFirstClick=function(a){this.SetFirst(0);AdfAgent.AGENT.eatEvent(a)};AdfDhtmlTableBasePeer.prototype._handleNextClick=function(a){var b=parseInt(this.GetFirst()),c=parseInt(this.GetRows());b+=c;this.SetFirst(b);AdfAgent.AGENT.eatEvent(a)};
AdfDhtmlTableBasePeer.prototype._handlePageRowClick=function(a,b){this.SetFirst(a);AdfAgent.AGENT.eatEvent(b)};AdfDhtmlTableBasePeer.prototype.setSelectedRowKeysWithoutEvent=function(a){this.suppressSelectionEventDelivery(!0);this.getComponent().setSelectedRowKeys(a);this.suppressSelectionEventDelivery(!1)};AdfDhtmlTableBasePeer.prototype.setBusy=function(a,b){AdfAgent.AGENT.supportsTransientStyleClasses()&&AdfDhtmlTableBasePeer.superclass.setBusy.call(this,a,b)};
AdfDhtmlTableBasePeer.prototype._processColGroup=function(){return AdfAgent.AGENT.getPlatform()==AdfAgent.WEBKIT_PLATFORM};
AdfRichUIPeer.createPeerClass(AdfDhtmlTableBasePeer,"AdfDhtmlTablePeer",!1);AdfDhtmlTablePeer.InitSubclass=function(){AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE)};AdfDhtmlTablePeer.prototype.__getColumnResizeMargin=function(){return 3};
AdfDhtmlTablePeer.prototype.HandleComponentMouseOver=function(a){if(!this._resizedTH&&!this._reorderTH){var b=AdfAgent.AGENT,c=a.getNativeEventTarget();if(this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY&&this._scrollbarHidden){var d,e;this._hasSingleScroller()&&!this._isPaged?(d=this.GetScroller(),e=this.GetScroller()):(d=this.GetScroller()[AdfDhtmlTableBasePeer._VSCROLLER],e=this.GetScroller()[AdfDhtmlTableBasePeer._HSCROLLER]);if(e!=null&&e!=null){var d=d.offsetWidth-
d.clientWidth,f=e.offsetHeight-e.clientHeight,e=this.getDomElement(),g=b.getElementById(AdfRichUIPeer.CreateSubId(e.id,AdfDhtmlTableBasePeer._DATAWRAPPER));if(g){g=g.style;g.width=e.offsetWidth-d-this._cachedScrollerWidthAddl+"px";g.height=e.offsetHeight-this._cachedCHHeight-this._cachedCFHeight-f-this._cachedScrollerHeightAddl+"px";if(f=this._getColumnFooter())f.style.width=e.offsetWidth-d-this._cachedScrollerWidthAddl+"px";this.GetDatabody().style.top=this._hShiftDatabody;this._scrollbarHidden=
!1}}}if(c!=null&&(d=c.tagName,(d=="TD"||d=="TH")&&c.noWrap&&!c.title&&this.ApplyTooltipTitle(c),this._hoverHighlightRow&&(c=this.GetRowKeyAndRow(c,this.getDomElement()),c!=null))){b=c[1];AdfDomUtils.containsCSSClassName(b,AdfDhtmlTableBasePeer._SELECTED_CLASS)||AdfDomUtils.addCSSClassName(b,AdfDhtmlTableBasePeer._HIGHLIGHTED_CLASS);return}if(!this._headerless&&(a=this._getParentTH(a.getNativeEvent()))&&a.colSpan<2)if(a=AdfRichUIPeer.CreateSubId(a.id,AdfDhtmlTableBasePeer.__SORT_INDICATOR),b=b.getElementById(a),
b!=null&&(a=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._SORTED_TYPE),c=CSCOCall_getAttribute(b,"getAttribute",AdfDhtmlTableBasePeer._SUPPORTS_HOVER),a==null&&c))b.style.display=""}};
AdfDhtmlTablePeer.prototype.HandleComponentMouseOut=function(a){if(!this._resizedTH&&!this._reorderTH){var b=AdfAgent.AGENT;if(this._scrollbarBehavior==AdfDhtmlTableBasePeer._SCROLLBAR_BEHAVIOR_OVERLAY){var c=this.getDomElement(),d=b.getElementById(AdfRichUIPeer.CreateSubId(c.id,AdfDhtmlTableBasePeer._DATAWRAPPER));if(d){var e=!1,f=a.getNativeEvent().clientX,g=a.getNativeEvent().clientY,h,k;this._hasSingleScroller()&&!this._isPaged?(h=this.GetScroller(),k=this.GetScroller()):(h=this.GetScroller()[AdfDhtmlTableBasePeer._VSCROLLER],
k=this.GetScroller()[AdfDhtmlTableBasePeer._HSCROLLER]);if(k!=null&&k!=null){var h=h.offsetWidth-h.clientWidth,k=k.offsetHeight-k.clientHeight,l=d.getBoundingClientRect();f>=l.left&&f<=l.right-h&&g>=l.top&&g<=l.bottom-k&&(e=!0)}if(a.getSource()!=null&&a.getSource().getId()==this.getComponent().getId()&&!e&&!this._scrollbarHidden){d=d.style;d.width=c.offsetWidth+"px";d.height=c.offsetHeight-this._cachedCHHeight-this._cachedCFHeight+"px";if(d=this._getColumnFooter())d.style.width=c.offsetWidth+"px";
this.GetDatabody().style.top="0px";this._scrollbarHidden=!0}}}if(this._hoverHighlightRow&&(c=this.GetRowKeyAndRow(a.getNativeEventTarget(),this.getDomElement()),c!=null)){AdfDomUtils.removeCSSClassName(c[1],AdfDhtmlTableBasePeer._HIGHLIGHTED_CLASS);return}this._headerless||(a=this._getParentTH(a.getNativeEvent()))&&a.colSpan<2&&this._hideColumnSortableIndicator(b,a)}};