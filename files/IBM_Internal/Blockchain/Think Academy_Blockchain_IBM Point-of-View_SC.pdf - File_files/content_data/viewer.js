/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/main":function(){define(["dojo/_base/kernel"],function(e){return e.dijit})},"dojox/main":function(){define(["dojo/_base/kernel"],function(e){return e.dojox})},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(e,t,i,o,n,a,r,s,l){i.add("dojo-preload-i18n-Api",1);var d=e.i18n={},c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,u=function(e,t,i,o){for(var n=[i+o],a=t.split("-"),r="",s=0;s<a.length;s++)r+=(r?"-":"")+a[s],(!e||e[r])&&(n.push(i+r+"/"+o),n.specificity=r);return n},h={},m=function(t,i,o){return o=o?o.toLowerCase():e.locale,t=t.replace(/\./g,"/"),i=i.replace(/\./g,"/"),/root/i.test(o)?t+"/nls/"+i:t+"/nls/"+o+"/"+i},p=e.getL10nName=function(e,t,i){return e=l.id+"!"+m(e,t,i)},g=function(e,t,i,o,n,r){e([t],function(s){var l=a.clone(s.root||s.ROOT),d=u(!s._v1x&&s,n,i,o);e(d,function(){for(var e=1;e<d.length;e++)l=a.mixin(a.clone(l),arguments[e]);var i=t+"/"+n;h[i]=l,l.$locale=d.specificity,r()})})},f=function(e,t){return/^\./.test(e)?t(e):e},_=function(e){var t=n.extraLocale||[];return t=a.isArray(t)?t:[t],t.push(e),t},y=function(t,n,r){if(i("dojo-preload-i18n-Api")){var l=t.split("*"),d="preload"==l[1];if(d&&(h[t]||(h[t]=1,x(l[2],s.parse(l[3]),1,n)),r(1)),d||N(t,n,r))return}var u=c.exec(t),m=u[1]+"/",p=u[5]||u[4],f=m+p,y=u[5]&&u[4],v=y||e.locale||"",b=f+"/"+v,k=y?[v]:_(v),w=k.length,j=function(){--w||r(a.delegate(h[b]))};o.forEach(k,function(e){var t=f+"/"+e;i("dojo-preload-i18n-Api")&&C(t),h[t]?j():g(n,f,m,p,e,j)})};if(i("dojo-unit-tests"))var v=d.unitTests=[];var b=d.normalizeLocale=function(t){var i=t?t.toLowerCase():e.locale;return"root"==i?"ROOT":i},k=function(e,i){return i.isXdUrl(t.toUrl(e+".js"))},w=0,j=[],x=d._preloadLocalizations=function(i,n,r,s){function l(e,t){k(e,s)||r?s([e],t):A([e],t,s)}function d(e,t){for(var i=e.split("-");i.length;){if(t(i.join("-")))return;i.pop()}t("ROOT")}function c(){w++}function u(){for(--w;!w&&j.length;)y.apply(null,j.shift())}function m(e,t,i,o){return o.toAbsMid(e+t+"/"+i)}function p(e){e=b(e),d(e,function(r){if(o.indexOf(n,r)>=0){var p=i.replace(/\./g,"/")+"_"+r;return c(),l(p,function(i){function o(i,o,n,r){var l=[],p=[];d(e,function(e){r[e]&&(l.push(t.toAbsMid(i+e+"/"+o)),p.push(m(i,o,e,t)))}),l.length?(c(),s(l,function(){for(var r=0;r<l.length;r++)n=a.mixin(a.clone(n),arguments[r]),h[p[r]]=n;h[m(i,o,e,t)]=a.clone(n),u()})):h[m(i,o,e,t)]=n}for(var n in i){var l,p,g=i[n],f=n.match(/(.+)\/([^\/]+)$/);if(f){l=f[2],p=f[1]+"/",g._localized=g._localized||{};var _;if("ROOT"===r){var y=_=g._localized;delete g._localized,y.root=g,h[t.toAbsMid(n)]=y}else _=g._localized,h[m(p,l,r,t)]=g;r!==e&&o(p,l,g,_)}}u()}),!0}return!1})}s=s||t,p(),o.forEach(e.config.extraLocale,p)},N=function(e,t,i){return w&&j.push([e,t,i]),w},C=function(){},S={},T=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},	   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),A=function(e,t,i){var n=[];o.forEach(e,function(e){function t(t){var i=T(t,C,e,S);i===S?n.push(h[o]=S.result):(i instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+o,i),i={}),n.push(h[o]=/nls\/[^\/]+\/[^\/]+$/.test(o)?i:{root:i,_v1x:1}))}var o=i.toUrl(e+".js");if(h[o])n.push(h[o]);else{var a=i.syncLoadNls(e);if(a)n.push(a);else if(r)r.get({url:o,sync:!0,load:t,error:function(){n.push(h[o]={})}});else try{i.getText(o,!0,t)}catch(s){n.push(h[o]={})}}}),t&&t.apply(null,n)};return C=function(t){for(var i,o=t.split("/"),n=e.global[o[0]],a=1;n&&a<o.length-1;n=n[o[a++]]);return n&&(i=n[o[a]],i||(i=n[o[a].replace(/-/g,"_")]),i&&(h[t]=i)),i},d.getLocalization=function(e,i,o){var n,a=m(e,i,o);return y(a,k(a,t)?t:function(e,i){A(e,i,t)},function(e){n=e}),n},i("dojo-unit-tests")&&v.push(function(e){e.register("tests.i18n.unit",function(e){var t;t=T("{prop:1}",C,"nonsense",S),e.is({prop:1},t),e.is(void 0,t[1]),t=T("({prop:1})",C,"nonsense",S),e.is({prop:1},t),e.is(void 0,t[1]),t=T("{'prop-x':1}",C,"nonsense",S),e.is({"prop-x":1},t),e.is(void 0,t[1]),t=T("({'prop-x':1})",C,"nonsense",S),e.is({"prop-x":1},t),e.is(void 0,t[1]),t=T("define({'prop-x':1})",C,"nonsense",S),e.is(S,t),e.is({"prop-x":1},S.result),t=T("define('some/module', {'prop-x':1})",C,"nonsense",S),e.is(S,t),e.is({"prop-x":1},S.result),t=T("this is total nonsense and should throw an error",C,"nonsense",S),e.is(t instanceof Error,!0)})}),a.mixin(d,{dynamic:!0,normalize:f,load:y,cache:h,getL10nName:p})})},"dojo/require":function(){define(["./_base/loader"],function(e){return{dynamic:0,normalize:function(e){return e},load:e.require}})},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g){return c("dijit-legacy-requires")&&g(0,function(){var t=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];e(t)}),i("dijit.Menu",p,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):t.forEach(this.targetNodeIds,this.bindDomNode,this),this.inherited(arguments)},_iframeContentWindow:function(e){return h.get(this._iframeContentDocument(e))||this._iframeContentDocument(e).__parent__||e.name&&document.frames[e.name]||null},_iframeContentDocument:function(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.name&&document.frames[e.name]&&document.frames[e.name].document||null},bindDomNode:function(e){e=o.byId(e,this.ownerDocument);var t;if("iframe"==e.tagName.toLowerCase()){var i=e,a=this._iframeContentWindow(i);t=u.body(a.document)}else t=e==u.body(this.ownerDocument)?this.ownerDocument.documentElement:e;var r={node:e,iframe:i};n.set(e,"_dijitMenu"+this.id,this._bindings.push(r));var c=l.hitch(this,function(e){var t=this.selector,o=t?function(e){return d.selector(t,e)}:function(e){return e},n=this;return[d(e,o(this.leftClickToOpen?"click":"contextmenu"),function(e){e.stopPropagation(),e.preventDefault(),(new Date).getTime()<this._lastKeyDown+500||n._scheduleOpen(this,i,{x:e.pageX,y:e.pageY},e.target)}),d(e,o("keydown"),function(e){(93==e.keyCode||e.shiftKey&&e.keyCode==s.F10||this.leftClickToOpen&&e.keyCode==s.SPACE)&&(e.stopPropagation(),e.preventDefault(),n._scheduleOpen(this,i,null,e.target),this._lastKeyDown=(new Date).getTime())})]});r.connects=t?c(t):[],i&&(r.onloadHandler=l.hitch(this,function(){var e=this._iframeContentWindow(i),t=u.body(e.document);r.connects=c(t)}),i.addEventListener?i.addEventListener("load",r.onloadHandler,!1):i.attachEvent("onload",r.onloadHandler))},unBindDomNode:function(e){var t;try{t=o.byId(e,this.ownerDocument)}catch(i){return}var a="_dijitMenu"+this.id;if(t&&n.has(t,a)){for(var r,s=n.get(t,a)-1,l=this._bindings[s];r=l.connects.pop();)r.remove();var d=l.iframe;d&&(d.removeEventListener?d.removeEventListener("load",l.onloadHandler,!1):d.detachEvent("onload",l.onloadHandler)),n.remove(t,a),delete this._bindings[s]}},_scheduleOpen:function(e,t,i,o){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer,this._openMyself({target:o,delegatedTarget:e,iframe:t,coords:i})},1))},_openMyself:function(e){function t(){y.refocus&&k&&k.focus(),m.close(y)}var i=e.target,n=e.iframe,s=e.coords,l=!s;if(this.currentTarget=e.delegatedTarget,s){if(n){var d=a.position(n,!0),u=this._iframeContentWindow(n),h=a.docScroll(u.document),p=r.getComputedStyle(n),g=r.toPixelValue,f=(c("ie")&&c("quirks")?0:g(n,p.paddingLeft))+(c("ie")&&c("quirks")?g(n,p.borderLeftWidth):0),_=(c("ie")&&c("quirks")?0:g(n,p.paddingTop))+(c("ie")&&c("quirks")?g(n,p.borderTopWidth):0);s.x+=d.x+f-h.x,s.y+=d.y+_-h.y}}else s=a.position(i,!0),s.x+=10,s.y+=10;var y=this,v=this._focusManager.get("prevNode"),b=this._focusManager.get("curNode"),k=!b||o.isDescendant(b,this.domNode)?v:b;m.open({popup:this,x:s.x,y:s.y,onExecute:t,onCancel:t,orient:this.isLeftToRight()?"L":"R"}),this.focus(),l||this.defer(function(){this._cleanUp(!0)}),this._onBlur=function(){this.inherited("_onBlur",arguments),m.close(this)}},destroy:function(){t.forEach(this._bindings,function(e){e&&this.unBindDomNode(e.node)},this),this.inherited(arguments)}})})},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(e,t,i,o,n,a,r){t.add("rtl-adjust-position-for-verticalScrollBar",function(e,t){var o=i.body(t),a=r.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},o,"last"),s=r.create("div",{style:{overflow:"hidden",direction:"ltr"}},a,"last"),l=0!=n.position(s).x;return a.removeChild(s),o.removeChild(a),l}),t.add("position-fixed-support",function(e,t){var o=i.body(t),a=r.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},o,"last"),s=r.create("span",{style:{position:"fixed",left:"0",top:"0"}},a,"last"),l=n.position(s).x!=n.position(a).x;return a.removeChild(s),o.removeChild(a),l});var s={getBox:function(e){e=e||i.doc;var o,a,r="BackCompat"==e.compatMode?i.body(e):e.documentElement,l=n.docScroll(e);if(t("touch")){var d=s.get(e);o=d.innerWidth||r.clientWidth,a=d.innerHeight||r.clientHeight}else o=r.clientWidth,a=r.clientHeight;return{l:l.x,t:l.y,w:o,h:a}},get:function(e){if(t("ie")&&s!==document.parentWindow){e.parentWindow.execScript("document._parentWindow = window;","Javascript");var i=e._parentWindow;return e._parentWindow=null,i}return e.parentWindow||e.defaultView},scrollIntoView:function(e,r){try{e=o.byId(e);var s=e.ownerDocument||i.doc,l=i.body(s),d=s.documentElement||l.parentNode,c=t("ie"),u=t("webkit");if(e==l||e==d)return;if(!(t("mozilla")||c||u||t("opera")||t("trident"))&&"scrollIntoView"in e)return void e.scrollIntoView(!1);var h="BackCompat"==s.compatMode,m=Math.min(l.clientWidth||d.clientWidth,d.clientWidth||l.clientWidth),p=Math.min(l.clientHeight||d.clientHeight,d.clientHeight||l.clientHeight),g=u||h?l:d,f=r||n.position(e),_=e.parentNode,y=function(e){return 6>=c||7==c&&h?!1:t("position-fixed-support")&&"fixed"==a.get(e,"position").toLowerCase()},v=this,b=function(e,t,i){"BODY"==e.tagName||"HTML"==e.tagName?v.get(e.ownerDocument).scrollBy(t,i):(t&&(e.scrollLeft+=t),i&&(e.scrollTop+=i))};if(y(e))return;for(;_;){_==l&&(_=g);var k=n.position(_),w=y(_),j="rtl"==a.getComputedStyle(_).direction.toLowerCase();if(_==g)k.w=m,k.h=p,g==d&&c&&j&&(k.x+=g.offsetWidth-k.w),(k.x<0||!c||c>=9)&&(k.x=0),(k.y<0||!c||c>=9)&&(k.y=0);else{var x=n.getPadBorderExtents(_);k.w-=x.w,k.h-=x.h,k.x+=x.l,k.y+=x.t;var N=_.clientWidth,C=k.w-N;N>0&&C>0&&(j&&t("rtl-adjust-position-for-verticalScrollBar")&&(k.x+=C),k.w=N),N=_.clientHeight,C=k.h-N,N>0&&C>0&&(k.h=N)}w&&(k.y<0&&(k.h+=k.y,k.y=0),k.x<0&&(k.w+=k.x,k.x=0),k.y+k.h>p&&(k.h=p-k.y),k.x+k.w>m&&(k.w=m-k.x));var S,T,A=f.x-k.x,M=f.y-k.y,I=A+f.w-k.w,D=M+f.h-k.h;I*A>0&&(_.scrollLeft||_==g||_.scrollWidth>_.offsetHeight)&&(S=Math[0>A?"max":"min"](A,I),j&&(8==c&&!h||c>=9)&&(S=-S),T=_.scrollLeft,b(_,S,0),S=_.scrollLeft-T,f.x-=S),D*M>0&&(_.scrollTop||_==g||_.scrollHeight>_.offsetHeight)&&(S=Math.ceil(Math[0>M?"max":"min"](M,D)),T=_.scrollTop,b(_,0,S),S=_.scrollTop-T,f.y-=S),_=_!=g&&!w&&_.parentNode}}catch(P){console.error("scrollIntoView: "+P),e.scrollIntoView(!1)}}};return 1&&e.setObject("dojo.window",s),s})},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g){function f(){this._popupWrapper&&(a.destroy(this._popupWrapper),delete this._popupWrapper)}var _=i(null,{_stack:[],_beginZIndex:1e3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var e=this._firstAroundPosition,t=r.position(this._firstAroundNode,!0),i=t.x-e.x,o=t.y-e.y;if(i||o){this._firstAroundPosition=t;for(var n=0;n<this._stack.length;n++){var a=this._stack[n].wrapper.style;a.top=parseInt(a.top,10)+o+"px","auto"==a.right?a.left=parseInt(a.left,10)+i+"px":a.right=parseInt(a.right,10)-i+"px"}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),i||o?10:50)}},_createWrapper:function(e){var i=e._popupWrapper,o=e.domNode;if(!i){i=a.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":e["aria-label"]||e.label||e.name||e.id},e.ownerDocumentBody),i.appendChild(o);var n=o.style;n.display="",n.visibility="",n.position="",n.top="0px",e._popupWrapper=i,t.after(e,"destroy",f,!0)}return i},moveOffScreen:function(e){var t=this._createWrapper(e),i=r.isBodyLtr(e.ownerDocument),o={visibility:"hidden",top:"-9999px",display:""};return o[i?"left":"right"]="-9999px",o[i?"right":"left"]="auto",s.set(t,o),t},hide:function(e){var t=this._createWrapper(e);s.set(t,{display:"none",height:"auto",overflow:"visible",border:""});var i=e.domNode;"_originalStyle"in i&&(i.style.cssText=i._originalStyle)},getTopPopup:function(){for(var e=this._stack,t=e.length-1;t>0&&e[t].parent===e[t-1].widget;t--);return e[t]},open:function(e){for(var t=this._stack,i=e.popup,a=i.domNode,g=e.orient||["below","below-alt","above","above-alt"],f=e.parent?e.parent.isLeftToRight():r.isBodyLtr(i.ownerDocument),_=e.around,y=e.around&&e.around.id?e.around.id+"_dropdown":"popup_"+this._idGen++;t.length&&(!e.parent||!o.isDescendant(e.parent.domNode,t[t.length-1].widget.domNode));)this.close(t[t.length-1].widget);var v=this.moveOffScreen(i);i.startup&&!i._started&&i.startup();var b,k=r.position(a);if("maxHeight"in e&&-1!=e.maxHeight)b=e.maxHeight||1/0;else{var w=p.getEffectiveBox(this.ownerDocument),j=_?r.position(_,!1):{y:e.y-(e.padding||0),h:2*(e.padding||0)};b=Math.floor(Math.max(j.y,w.h-(j.y+j.h)))}if(k.h>b){var x=s.getComputedStyle(a),N=x.borderLeftWidth+" "+x.borderLeftStyle+" "+x.borderLeftColor;s.set(v,{overflowY:"scroll",height:b+"px",border:N}),a._originalStyle=a.style.cssText,a.style.border="none"}n.set(v,{id:y,style:{zIndex:this._beginZIndex+t.length},"class":"dijitPopup "+(i.baseClass||i["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:e.parent?e.parent.id:""}),0==t.length&&_&&(this._firstAroundNode=_,this._firstAroundPosition=r.position(_,!0),this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),50)),l("config-bgIframe")&&!i.bgIframe&&(i.bgIframe=new m(v));var C=i.orient?c.hitch(i,"orient"):null,S=_?h.around(v,_,g,f,C):h.at(v,e,"R"==g?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],e.padding,C);v.style.visibility="visible",a.style.visibility="visible";var T=[];return T.push(u(v,"keydown",c.hitch(this,function(t){if(t.keyCode==d.ESCAPE&&e.onCancel)t.stopPropagation(),t.preventDefault(),e.onCancel();else if(t.keyCode==d.TAB){t.stopPropagation(),t.preventDefault();var i=this.getTopPopup();i&&i.onCancel&&i.onCancel()}}))),i.onCancel&&e.onCancel&&T.push(i.on("cancel",e.onCancel)),T.push(i.on(i.onExecute?"execute":"change",c.hitch(this,function(){var e=this.getTopPopup();e&&e.onExecute&&e.onExecute()}))),t.push({widget:i,wrapper:v,parent:e.parent,onExecute:e.onExecute,onCancel:e.onCancel,onClose:e.onClose,handlers:T}),i.onOpen&&i.onOpen(S),S},close:function(t){for(var i=this._stack;t&&e.some(i,function(e){return e.widget==t})||!t&&i.length;){var o=i.pop(),n=o.widget,a=o.onClose;n.onClose&&n.onClose();for(var r;r=o.handlers.pop();)r.remove();n&&n.domNode&&this.hide(n),a&&a()}0==i.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return g.popup=new _})},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,i,o,n,a,r){function s(o,r,s,l){var d=a.getEffectiveBox(o.ownerDocument);o.parentNode&&"body"==String(o.parentNode.tagName).toLowerCase()||n.body(o.ownerDocument).appendChild(o);var c=null;e.some(r,function(e){var i=e.corner,n=e.pos,a=0,r={w:{L:d.l+d.w-n.x,R:n.x-d.l,M:d.w}[i.charAt(1)],h:{T:d.t+d.h-n.y,B:n.y-d.t,M:d.h}[i.charAt(0)]},u=o.style;if(u.left=u.right="auto",s){var h=s(o,e.aroundCorner,i,r,l);a="undefined"==typeof h?0:h}var m=o.style,p=m.display,g=m.visibility;"none"==m.display&&(m.visibility="hidden",m.display="");var f=t.position(o);m.display=p,m.visibility=g;var _={L:n.x,R:n.x-f.w,M:Math.max(d.l,Math.min(d.l+d.w,n.x+(f.w>>1))-f.w)}[i.charAt(1)],y={T:n.y,B:n.y-f.h,M:Math.max(d.t,Math.min(d.t+d.h,n.y+(f.h>>1))-f.h)}[i.charAt(0)],v=Math.max(d.l,_),b=Math.max(d.t,y),k=Math.min(d.l+d.w,_+f.w),w=Math.min(d.t+d.h,y+f.h),j=k-v,x=w-b;return a+=f.w-j+(f.h-x),(null==c||a<c.overflow)&&(c={corner:i,aroundCorner:e.aroundCorner,x:v,y:b,w:j,h:x,overflow:a,spaceAvailable:r}),!a}),c.overflow&&s&&s(o,c.aroundCorner,c.corner,c.spaceAvailable,l);var u=c.y,h=c.x,m=n.body(o.ownerDocument);/relative|absolute/.test(i.get(m,"position"))&&(u-=i.get(m,"marginTop"),h-=i.get(m,"marginLeft"));var p=o.style;return p.top=u+"px",p.left=h+"px",p.right="auto",c}var l={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},d={at:function(t,i,o,n,a){var r=e.map(o,function(e){var t={corner:e,aroundCorner:l[e],pos:{x:i.x,y:i.y}};return n&&(t.pos.x+="L"==e.charAt(1)?n.x:-n.x,t.pos.y+="T"==e.charAt(0)?n.y:-n.y),t});return s(t,r,a)},around:function(n,a,r,l,d){function c(e,t){C.push({aroundCorner:e,corner:t,pos:{x:{L:w,R:w+x,M:w+(x>>1)}[e.charAt(1)],y:{T:j,B:j+N,M:j+(N>>1)}[e.charAt(0)]}})}var u;if("string"==typeof a||"offsetWidth"in a||"ownerSVGElement"in a){if(u=t.position(a,!0),/^(above|below)/.test(r[0])){var h=t.getBorderExtents(a),m=a.firstChild?t.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0},p=t.getBorderExtents(n),g=n.firstChild?t.getBorderExtents(n.firstChild):{t:0,l:0,b:0,r:0};u.y+=Math.min(h.t+m.t,p.t+g.t),u.h-=Math.min(h.t+m.t,p.t+g.t)+Math.min(h.b+m.b,p.b+g.b)}}else u=a;if(a.parentNode)for(var f="absolute"==i.getComputedStyle(a).position,_=a.parentNode;_&&1==_.nodeType&&"BODY"!=_.nodeName;){var y=t.position(_,!0),v=i.getComputedStyle(_);if(/relative|absolute/.test(v.position)&&(f=!1),!f&&/hidden|auto|scroll/.test(v.overflow)){var b=Math.min(u.y+u.h,y.y+y.h),k=Math.min(u.x+u.w,y.x+y.w);u.x=Math.max(u.x,y.x),u.y=Math.max(u.y,y.y),u.h=b-u.y,u.w=k-u.x}"absolute"==v.position&&(f=!0),_=_.parentNode}var w=u.x,j=u.y,x="w"in u?u.w:u.w=u.width,N="h"in u?u.h:(o.deprecated("place.around: dijit/place.__Rectangle: { x:"+w+", y:"+j+", height:"+u.height+", width:"+x+" } has been deprecated.  Please use { x:"+w+", y:"+j+", h:"+u.height+", w:"+x+" }","","2.0"),u.h=u.height),C=[];e.forEach(r,function(e){var t=l;switch(e){case"above-centered":c("TM","BM");break;case"below-centered":c("BM","TM");break;case"after-centered":t=!t;case"before-centered":c(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":c(t?"TL":"TR",t?"TR":"TL"),c(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":c(t?"BL":"BR",t?"TL":"TR"),c(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":c(t?"TL":"TR",t?"BL":"BR"),c(t?"TR":"TL",t?"BR":"BL");break;default:c(e.aroundCorner,e.corner)}});var S=s(n,C,d,{w:x,h:N});return S.aroundNodePos=u,S}};return r.place=d})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(e,t,i,o,n){var a,r=new e;return i(function(){var e=n.getBox();if(r._rlh=t(window,"resize",function(){var t=n.getBox();(e.h!=t.h||e.w!=t.w)&&(e=t,r.emit("resize"))}),8==o("ie")){var i=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=i&&(i=screen.deviceXDPI,r.emit("resize"))},500)}o("ios")&&(t(document,"focusin",function(e){a=e.target}),t(document,"focusout",function(){a=null}))}),r.getEffectiveBox=function(e){var t=n.getBox(e),i=a&&a.tagName&&a.tagName.toLowerCase();if(o("ios")&&a&&!a.readOnly&&("textarea"==i||"input"==i&&/^(color|email|number|password|search|tel|text|url)$/.test(a.type))){t.h*=0==orientation||180==orientation?.66:.4;var r=a.getBoundingClientRect();t.h=Math.max(t.h,r.top+r.height)}return t},r})},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(e,t,i,o,n,a,r,s){s.add("config-bgIframe",!s("touch"));var l=new function(){var t=[];this.pop=function(){var a;if(t.length)a=t.pop(),a.style.display="";else{if(s("ie")<9){var r=i.dojoBlankHtmlUrl||e.toUrl("dojo/resources/blank.html")||'javascript:""',l="<iframe src='"+r+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";a=document.createElement(l)}else a=o.create("iframe"),a.src='javascript:""',a.className="dijitBackgroundIframe",a.setAttribute("role","presentation"),n.set(a,"opacity",.1);a.tabIndex=-1}return a},this.push=function(e){e.style.display="none",t.push(e)}};return t.BackgroundIframe=function(e){if(!e.id)throw new Error("no id");if(s("config-bgIframe")){var t=this.iframe=l.pop();e.appendChild(t),s("ie")<7||s("quirks")?(this.resize(e),this._conn=r(e,"resize",a.hitch(this,"resize",e))):n.set(t,{width:"100%",height:"100%"})}},a.extend(t.BackgroundIframe,{resize:function(e){this.iframe&&n.set(this.iframe,{width:e.offsetWidth+"px",height:e.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null),this.iframe&&(l.push(this.iframe),delete this.iframe)}}),t.BackgroundIframe})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(e,t,i,o,n){return e("dijit.DropDownMenu",[n,o],{templateString:i,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(e){this._moveToPopup(e),e.stopPropagation(),e.preventDefault()},_onLeftArrow:function(e){this.parentMenu?this.parentMenu._isMenuBar?this.parentMenu.focusPrev():this.onCancel(!1):(e.stopPropagation(),e.preventDefault())}})})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(e,t,i,o){var n;n=function(e,t,i){o(e,{sync:!!t}).then(i)};var a={},r=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},s={},l={};return e.cache=function(e,i,o){var s;"string"==typeof e?/\//.test(e)?(s=e,o=i):s=t.toUrl(e.replace(/\./g,"/")+(i?"/"+i:"")):(s=e+"",o=i);var l=void 0!=o&&"string"!=typeof o?o.value:o,d=o&&o.sanitize;return"string"==typeof l?(a[s]=l,d?r(l):l):null===l?(delete a[s],null):(s in a||n(s,!0,function(e){a[s]=e}),d?r(a[s]):a[s])},{dynamic:!0,normalize:function(e,t){var i=e.split("!"),o=i[0];return(/^\./.test(o)?t(o):o)+(i[1]?"!"+i[1]:"")},load:function(e,t,i){var o=e.split("!"),d=o.length>1,c=o[0],u=t.toUrl(o[0]),h="url:"+u,m=s,p=function(e){i(d?r(e):e)};if(c in a?m=a[c]:t.cache&&h in t.cache?m=t.cache[h]:u in a&&(m=a[u]),m===s)if(l[u])l[u].push(p);else{var g=l[u]=[p];n(u,!t.async,function(e){a[c]=a[u]=e;for(var t=0;t<g.length;)g[t++](e);delete l[u]})}else p(m)}}})},"dojo/request":function(){define(["./request/default!"],function(e){return e})},"dojo/request/default":function(){define(["exports","require","../has"],function(e,t,i){var o,n=i("config-requestProvider");o="./xhr",n||(n=o),e.getPlatformDefaultId=function(){return o},e.load=function(e,i,a){t(["platform"==e?o:n],function(e){a(e)})}})},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(e,t,i,o,n,a){var r=o("dijit._OnDijitClickMixin",null,{connect:function(e,t,i){return this.inherited(arguments,[e,"ondijitclick"==t?a:t,i])}});return r.a11yclick=a,r})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(e,t,i,o){function n(t){if((t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&!/input|button|textarea/i.test(t.target.nodeName))for(var i=t.target;i;i=i.parentNode)if(i.dojoClick)return!0}var a;i(document,"keydown",function(e){n(e)?(a=e.target,e.preventDefault()):a=null}),i(document,"keyup",function(e){n(e)&&e.target==a&&(a=null,i.emit(e.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type}))});var r=function(e,t){return e.dojoClick=!0,i(e,"click",t)};return r.click=r,r.press=function(n,a){var r=i(n,o.press,function(e){("mousedown"!=e.type||t.isLeft(e))&&a(e)}),s=i(n,"keydown",function(t){(t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&a(t)});return{remove:function(){r.remove(),s.remove()}}},r.release=function(n,a){var r=i(n,o.release,function(e){("mouseup"!=e.type||t.isLeft(e))&&a(e)}),s=i(n,"keyup",function(t){(t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&a(t)});return{remove:function(){r.remove(),s.remove()}}},r.move=o.move,r})},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(e,t,i,o,n,a,r,s,l,d){function c(e,t,i){return N&&i?function(e,t){return a(e,i,t)}:j?function(i,o){var n=a(i,t,function(e){o.call(this,e),k=(new Date).getTime()}),r=a(i,e,function(e){(!k||(new Date).getTime()>k+1e3)&&o.call(this,e)});return{remove:function(){n.remove(),r.remove()}}}:function(t,i){return a(t,e,i)}}function u(e){do if(void 0!==e.dojoClick)return e.dojoClick;while(e=e.parentNode)}function h(e,t,n){function r(e){d.doc.addEventListener(e,function(t){t._dojo_click||!((new Date).getTime()<=b+1e3)||"INPUT"==t.target.tagName&&o.contains(t.target,"dijitOffScreen")||(t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),"click"!=e||"INPUT"==t.target.tagName&&"radio"!=t.target.type&&"checkbox"!=t.target.type||"TEXTAREA"==t.target.tagName||"AUDIO"==t.target.tagName||"VIDEO"==t.target.tagName||t.preventDefault())},!0)}p=!e.target.disabled&&u(e.target),p&&(g=e.target,f=e.changedTouches?e.changedTouches[0].pageX:e.clientX,_=e.changedTouches?e.changedTouches[0].pageY:e.clientY,y=("object"==typeof p?p.x:"number"==typeof p?p:0)||4,v=("object"==typeof p?p.y:"number"==typeof p?p:0)||4,m||(m=!0,d.doc.addEventListener(t,function(e){p=p&&(e.changedTouches?e.changedTouches[0].target:e.target)==g&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-f)<=y&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_)<=v},!0),d.doc.addEventListener(n,function(e){if(p){b=(new Date).getTime();var t=e.target;"LABEL"===t.tagName&&(t=i.byId(t.getAttribute("for"))||t);var o=e.changedTouches?e.changedTouches[0]:e,n=document.createEvent("MouseEvents");n._dojo_click=!0,n.initMouseEvent("click",!0,!0,e.view,e.detail,o.screenX,o.screenY,o.clientX,o.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),setTimeout(function(){a.emit(t,"click",n)},0)}},!0),r("click"),r("mousedown"),r("mouseup")))}var m,p,g,f,_,y,v,b,k,w,j=r("touch"),x=r("ios")<5,N=navigator.pointerEnabled||navigator.msPointerEnabled,C=function(){var e={};for(var t in{down:1,move:1,up:1,cancel:1,over:1,out:1})e[t]=navigator.pointerEnabled?"pointer"+t:"MSPointer"+t.charAt(0).toUpperCase()+t.slice(1);return e}();j&&l(N?function(){d.doc.addEventListener(C.down,function(e){h(e,C.move,C.up)},!0)}:function(){function e(e){var t=n.delegate(e,{bubbles:!0});return r("ios")>=6&&(t.touches=e.touches,t.altKey=e.altKey,t.changedTouches=e.changedTouches,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.targetTouches=e.targetTouches),t}w=d.body(),d.doc.addEventListener("touchstart",function(e){k=(new Date).getTime();var t=w;w=e.target,a.emit(t,"dojotouchout",{relatedTarget:w,bubbles:!0}),a.emit(w,"dojotouchover",{relatedTarget:t,bubbles:!0}),h(e,"touchmove","touchend")},!0),a(d.doc,"touchmove",function(t){k=(new Date).getTime();var i=d.doc.elementFromPoint(t.pageX-(x?0:d.global.pageXOffset),t.pageY-(x?0:d.global.pageYOffset));i&&(w!==i&&(a.emit(w,"dojotouchout",{relatedTarget:i,bubbles:!0}),a.emit(i,"dojotouchover",{relatedTarget:w,bubbles:!0}),w=i),a.emit(i,"dojotouchmove",e(t))||t.preventDefault())}),a(d.doc,"touchend",function(t){k=(new Date).getTime();var i=d.doc.elementFromPoint(t.pageX-(x?0:d.global.pageXOffset),t.pageY-(x?0:d.global.pageYOffset))||d.body();a.emit(i,"dojotouchend",e(t))})});var S={press:c("mousedown","touchstart",C.down),move:c("mousemove","dojotouchmove",C.move),release:c("mouseup","dojotouchend",C.up),cancel:c(s.leave,"touchcancel",j?C.cancel:null),over:c("mouseover","dojotouchover",C.over),out:c("mouseout","dojotouchout",C.out),enter:s._eventHandler(c("mouseover","dojotouchover",C.over)),leave:s._eventHandler(c("mouseout","dojotouchout",C.out))};return 1&&(e.touch=S),S})},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p){return t("dijit._MenuBase",[u,p,m,h],{selected:null,_setSelectedAttr:function(e){this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),e&&e._setSelected(!0),this._set("selected",e))},activated:!1,_setActivatedAttr:function(e){n.toggle(this.domNode,"dijitMenuActive",e),n.toggle(this.domNode,"dijitMenuPassive",!e),this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:1/0,autoFocus:!1,childSelector:function(e){var t=c.byNode(e);return e.parentNode==this.containerNode&&t&&t.focus},postCreate:function(){var e=this,t="string"==typeof this.childSelector?this.childSelector:a.hitch(this,"childSelector");this.own(s(this.containerNode,s.selector(t,r.enter),function(){e.onItemHover(c.byNode(this))}),s(this.containerNode,s.selector(t,r.leave),function(){e.onItemUnhover(c.byNode(this))}),s(this.containerNode,s.selector(t,d),function(t){e.onItemClick(c.byNode(this),t),t.stopPropagation(),t.preventDefault()})),this.inherited(arguments)},onKeyboardSearch:function(e,t,i,o){this.inherited(arguments),e&&(-1==o||e.popup&&1==o)&&this.onItemClick(e,t)},_keyboardSearchCompare:function(e,t){return e.shortcutKey?t==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else{var t=this._getTopMenu();t&&t._isMenuBar&&t.focusNext()}},_onPopupHover:function(){this.set("selected",this.currentPopupItem),this._stopPendingCloseTimer()},onItemHover:function(e){this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(e)},this.popupDelay))):this.passivePopupDelay<1/0&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"})},this.passivePopupDelay)),this._hoveredChild=e,e._set("hovering",!0)},_onChildDeselect:function(e){this._stopPopupTimer(),this.currentPopupItem==e&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null,this.currentPopupItem=null,e._closePopup()},this.popupDelay))},onItemUnhover:function(e){this._hoveredChild==e&&(this._hoveredChild=null),this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null),e._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())
},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e,t){if(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.focusChild(e),e.disabled)return!1;if(e.popup){this.set("selected",e),this.set("activated",!0);var i=/^key/.test(t._origType||t.type)||0==t.clientX&&0==t.clientY;this._openItemPopup(e,i)}else this.onExecute(),e._onClick?e._onClick(t):e.onClick(t)},_openItemPopup:function(e,t){if(e!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup()),this._stopPopupTimer();var i=e.popup;i.parentMenu=this,this.own(this._mouseoverHandle=s.once(i.domNode,"mouseover",a.hitch(this,"_onPopupHover")));var o=this;e._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){t&&o.focusChild(e),o._cleanUp()},onExecute:a.hitch(this,"_cleanUp",!0),onClose:function(){o._mouseoverHandle&&(o._mouseoverHandle.remove(),delete o._mouseoverHandle)}},t),this.currentPopupItem=e}},onOpen:function(){this.isShowingNow=!0,this.set("activated",!0)},onClose:function(){this.set("activated",!1),this.set("selected",null),this.isShowingNow=!1,this.parentMenu=null},_closeChild:function(){this._stopPopupTimer(),this.currentPopupItem&&(this.focused&&(o.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(e){this._hoveredChild&&this._hoveredChild!=e&&this.onItemUnhover(this._hoveredChild),this.set("selected",e)},_onBlur:function(){this._cleanUp(!0),this.inherited(arguments)},_cleanUp:function(e){this._closeChild(),"undefined"==typeof this.isShowingNow&&this.set("activated",!1),e&&this.set("selected",null)}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(e,t,i,o){var n={},a={},r={length:0,add:function(e){if(a[e.id])throw new Error("Tried to register widget with id=="+e.id+" but that id is already registered");a[e.id]=e,this.length++},remove:function(e){a[e]&&(delete a[e],this.length--)},byId:function(e){return"string"==typeof e?a[e]:e},byNode:function(e){return a[e.getAttribute("widgetId")]},toArray:function(){var e=[];for(var t in a)e.push(a[t]);return e},getUniqueId:function(e){var t;do t=e+"_"+(e in n?++n[e]:n[e]=0);while(a[t]);return"dijit"==o._scopeName?t:o._scopeName+"_"+t},findWidgets:function(e,t){function i(e){for(var n=e.firstChild;n;n=n.nextSibling)if(1==n.nodeType){var r=n.getAttribute("widgetId");if(r){var s=a[r];s&&o.push(s)}else n!==t&&i(n)}}var o=[];return i(e),o},_destroyAll:function(){o._curFocus=null,o._prevFocus=null,o._activeStack=[],e.forEach(r.findWidgets(i.body()),function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy())})},getEnclosingWidget:function(e){for(;e;){var t=1==e.nodeType&&e.getAttribute("widgetId");if(t)return a[t];e=e.parentNode}return null},_hash:a};return o.registry=r,r})},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(e,t,i,o,n,a,r,s,l,d,c,u,h){function m(){}function p(e){return function(t,o,n,a){return t&&"string"==typeof o&&t[o]==m?t.on(o.substring(2).toLowerCase(),r.hitch(n,a)):e.apply(i,arguments)}}e.around(i,"connect",p),a.connect&&e.around(a,"connect",p);var g=o("dijit._Widget",[c,u,h],{onClick:m,onDblClick:m,onKeyDown:m,onKeyPress:m,onKeyUp:m,onMouseDown:m,onMouseMove:m,onMouseOut:m,onMouseOver:m,onMouseLeave:m,onMouseEnter:m,onMouseUp:m,constructor:function(e){this._toConnect={};for(var t in e)this[t]===m&&(this._toConnect[t.replace(/^on/,"").toLowerCase()]=e[t],delete e[t])},postCreate:function(){this.inherited(arguments);for(var e in this._toConnect)this.on(e,this._toConnect[e]);delete this._toConnect},on:function(e,t){return this[this._onMap(e)]===m?i.connect(this.domNode,e.toLowerCase(),this,t):this.inherited(arguments)},_setFocusedAttr:function(e){this._focused=e,this._set("focused",e)},setAttribute:function(e,t){a.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0"),this.set(e,t)},attr:function(e){var t=arguments.length;return t>=2||"object"==typeof e?this.set.apply(this,arguments):this.get(e)},getDescendants:function(){return a.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0"),this.containerNode?s("[widgetId]",this.containerNode).map(d.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});return n("dijit-legacy-requires")&&l(0,function(){var e=["dijit/_base"];require(e)}),g})},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g,f,_,y,v,b,k,w){function j(e){var t={};for(var i in e)t[i.toLowerCase()]=!0;return t}function x(e){return function(t){s[t?"set":"remove"](this.domNode,e,t),this._set(e,t)}}function N(e,t){return e===t||e!==e&&t!==t}h.add("dijit-legacy-requires",!m.isAsync),h.add("dojo-bidi",!1),h("dijit-legacy-requires")&&f(0,function(){var t=["dijit/_base/manager"];e(t)});var C={},S=a("dijit._WidgetBase",[_,b],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:x("lang"),dir:"",_setDirAttr:x("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(e){this._set("ownerDocument",e)},attributeMap:{},_blankGif:o.blankGif||e.toUrl("dojo/resources/blank.gif"),_introspect:function(){var e=this.constructor;if(!e._setterAttrs){var t=e.prototype,i=e._setterAttrs=[],o=e._onMap={};for(var n in t.attributeMap)i.push(n);for(n in t)/^on/.test(n)&&(o[n.substring(2).toLowerCase()]=n),/^_set[A-Z](.*)Attr$/.test(n)&&(n=n.charAt(4).toLowerCase()+n.substr(5,n.length-9),t.attributeMap&&n in t.attributeMap||i.push(n))}},postscript:function(e,t){this.create(e,t)},create:function(e,t){this._introspect(),this.srcNodeRef=r.byId(t),this._connects=[],this._supportingWidgets=[],this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id),e&&(this.params=e,p.mixin(this,e)),this.postMixInProperties(),this.id||(this.id=w.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id),this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document),this.ownerDocumentBody=v.body(this.ownerDocument),w.add(this),this.buildRendering();var i;if(this.domNode){this._applyAttributes();var o=this.srcNodeRef;o&&o.parentNode&&this.domNode!==o&&(o.parentNode.replaceChild(this.domNode,o),i=!0),this.domNode.setAttribute("widgetId",this.id)}this.postCreate(),i&&delete this.srcNodeRef,this._created=!0},_applyAttributes:function(){var e={};for(var i in this.params||{})e[i]=this._get(i);t.forEach(this.constructor._setterAttrs,function(t){if(!(t in e)){var i=this._get(t);i&&this.set(t,i)}},this);for(i in e)this.set(i,e[i])},postMixInProperties:function(){},buildRendering:function(){if(this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")),this.baseClass){var e=this.baseClass.split(" ");this.isLeftToRight()||(e=e.concat(t.map(e,function(e){return e+"Rtl"}))),l.add(this.domNode,e)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,t.forEach(this.getChildren(),function(e){e._started||e._destroyed||!p.isFunction(e.startup)||(e.startup(),e._started=!0)}))},destroyRecursive:function(e){this._beingDestroyed=!0,this.destroyDescendants(e),this.destroy(e)},destroy:function(e){function i(t){t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e)}this._beingDestroyed=!0,this.uninitialize(),t.forEach(this._connects,p.hitch(this,"disconnect")),t.forEach(this._supportingWidgets,i),this.domNode&&t.forEach(w.findWidgets(this.domNode,this.containerNode),i),this.destroyRendering(e),w.remove(this.id),this._destroyed=!0},destroyRendering:function(e){this.bgIframe&&(this.bgIframe.destroy(e),delete this.bgIframe),this.domNode&&(e?s.remove(this.domNode,"widgetId"):d.destroy(this.domNode),delete this.domNode),this.srcNodeRef&&(e||d.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(e){t.forEach(this.getChildren(),function(t){t.destroyRecursive&&t.destroyRecursive(e)})},uninitialize:function(){return!1},_setStyleAttr:function(e){var t=this.domNode;p.isObject(e)?u.set(t,e):t.style.cssText?t.style.cssText+="; "+e:t.style.cssText=e,this._set("style",e)},_attrToDom:function(e,i,o){o=arguments.length>=3?o:this.attributeMap[e],t.forEach(p.isArray(o)?o:[o],function(t){var o=this[t.node||t||"domNode"],n=t.type||"attribute";switch(n){case"attribute":p.isFunction(i)&&(i=p.hitch(this,i));var a=t.attribute?t.attribute:/^on[A-Z][a-zA-Z]*$/.test(e)?e.toLowerCase():e;o.tagName?s.set(o,a,i):o.set(a,i);break;case"innerText":o.innerHTML="",o.appendChild(this.ownerDocument.createTextNode(i));break;case"innerHTML":o.innerHTML=i;break;case"class":l.replace(o,i,this[e])}},this)},get:function(e){var t=this._getAttrNames(e);return this[t.g]?this[t.g]():this._get(e)},set:function(e,t){if("object"==typeof e){for(var i in e)this.set(i,e[i]);return this}var o=this._getAttrNames(e),n=this[o.s];if(p.isFunction(n))var a=n.apply(this,Array.prototype.slice.call(arguments,1));else{var r=this.focusNode&&!p.isFunction(this.focusNode)?"focusNode":"domNode",s=this[r]&&this[r].tagName,l=s&&(C[s]||(C[s]=j(this[r]))),d=e in this.attributeMap?this.attributeMap[e]:o.s in this?this[o.s]:l&&o.l in l&&"function"!=typeof t||/^aria-|^data-|^role$/.test(e)?r:null;null!=d&&this._attrToDom(e,t,d),this._set(e,t)}return a||this},_attrPairNames:{},_getAttrNames:function(e){var t=this._attrPairNames;if(t[e])return t[e];var i=e.replace(/^[a-z]|-[a-zA-Z]/g,function(e){return e.charAt(e.length-1).toUpperCase()});return t[e]={n:e+"Node",s:"_set"+i+"Attr",g:"_get"+i+"Attr",l:i.toLowerCase()}},_set:function(e,t){var i=this[e];this[e]=t,this._created&&!N(i,t)&&(this._watchCallbacks&&this._watchCallbacks(e,i,t),this.emit("attrmodified-"+e,{detail:{prevValue:i,newValue:t}}))},_get:function(e){return this[e]},emit:function(e,t,i){t=t||{},void 0===t.bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0),t.detail||(t.detail={}),t.detail.widget=this;var o,n=this["on"+e];return n&&(o=n.apply(this,i?i:[t])),this._started&&!this._beingDestroyed&&g.emit(this.domNode,e.toLowerCase(),t),o},on:function(e,t){var o=this._onMap(e);return o?i.after(this,o,t,!0):this.own(g(this.domNode,e,t))[0]},_onMap:function(e){var t=this.constructor,i=t._onMap;if(!i){i=t._onMap={};for(var o in t.prototype)/^on/.test(o)&&(i[o.replace(/^on/,"").toLowerCase()]=o)}return i["string"==typeof e&&e.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?w.findWidgets(this.containerNode):[]},getParent:function(){return w.getEnclosingWidget(this.domNode.parentNode)},connect:function(e,t,i){return this.own(n.connect(e,t,this,i))[0]},disconnect:function(e){e.remove()},subscribe:function(e,t){return this.own(y.subscribe(e,p.hitch(this,t)))[0]},unsubscribe:function(e){e.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:c.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=u.get(this.domNode,"display")},placeAt:function(e,t){var i=!e.tagName&&w.byId(e);if(!i||!i.addChild||t&&"number"!=typeof t){var o=i?i.containerNode&&!/after|before|replace/.test(t||"")?i.containerNode:i.domNode:r.byId(e,this.ownerDocument);d.place(this.domNode,o,t),!this._started&&(this.getParent()||{})._started&&this.startup()}else i.addChild(this,t);return this},defer:function(e,t){var i=setTimeout(p.hitch(this,function(){i&&(i=null,this._destroyed||p.hitch(this,e)())}),t||0);return{remove:function(){return i&&(clearTimeout(i),i=null),null}}}});return h("dojo-bidi")&&S.extend(k),S})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(e,t,i,o){return e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(e){var t=this._attrPairNames;return t[e]?t[e]:t[e]={s:"_"+e+"Setter",g:"_"+e+"Getter"}},postscript:function(e){e&&this.set(e)},_get:function(e,t){return"function"==typeof this[t.g]?this[t.g]():this[e]},get:function(e){return this._get(e,this._getAttrNames(e))},set:function(e,t){if("object"==typeof e){for(var i in e)e.hasOwnProperty(i)&&"_watchCallbacks"!=i&&this.set(i,e[i]);return this}var n,a=this._getAttrNames(e),r=this._get(e,a),s=this[a.s];if("function"==typeof s?n=s.apply(this,Array.prototype.slice.call(arguments,1)):this[e]=t,this._watchCallbacks){var l=this;o(n,function(){l._watchCallbacks(e,r,t)})}return this},_changeAttrValue:function(e,t){var i=this.get(e);return this[e]=t,this._watchCallbacks&&this._watchCallbacks(e,i,t),this},watch:function(e,t){var o=this._watchCallbacks;if(!o){var n=this;o=this._watchCallbacks=function(e,t,i,a){var r=function(o){if(o){o=o.slice();for(var a=0,r=o.length;r>a;a++)o[a].call(n,e,t,i)}};r(o["_"+e]),a||r(o["*"])}}t||"function"!=typeof e?e="_"+e:(t=e,e="*");var a=o[e];"object"!=typeof a&&(a=o[e]=[]),a.push(t);var r={};return r.unwatch=r.remove=function(){var e=i.indexOf(a,t);e>-1&&a.splice(e,1)},r}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(e,t,i){return i("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){return e.forEach(arguments,function(e){var i="destroyRecursive"in e?"destroyRecursive":"destroy"in e?"destroy":"remove",o=t.before(this,"destroy",function(t){e[i](t)}),n=t.after(e,i,function(){o.remove(),n.remove()},!0)},this),arguments}})})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(e,t,i,o){return o.extend(t,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}}),i("dijit._FocusMixin",null,{_focusManager:e})})},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g,f){var _,y=t([u,r],{curNode:null,activeStack:[],constructor:function(){var t=s.hitch(this,function(e){i.isDescendant(this.curNode,e)&&this.set("curNode",null),i.isDescendant(this.prevNode,e)&&this.set("prevNode",null)});e.before(a,"empty",t),e.before(a,"destroy",t)},registerIframe:function(e){return this.registerWin(e.contentWindow,e)},registerWin:function(e,t){var i=this,o=e.document&&e.document.body;if(o){var n=l(e.document,"mousedown, touchstart",function(e){i._justMouseDowned=!0,setTimeout(function(){i._justMouseDowned=!1},13),e&&e.target&&null==e.target.parentNode||i._onTouchNode(t||e.target,"mouse")}),a=l(o,"focusin",function(e){if(_=(new Date).getTime(),e.target.tagName){var o=e.target.tagName.toLowerCase();"#document"!=o&&"body"!=o&&(p.isFocusable(e.target)?i._onFocusNode(t||e.target):i._onTouchNode(t||e.target))}}),r=l(o,"focusout",function(e){(new Date).getTime()<_+100||i._onBlurNode(t||e.target)});return{remove:function(){n.remove(),a.remove(),r.remove(),n=a=r=null,o=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(s.hitch(this,function(){this.set("prevNode",this.curNode),this.set("curNode",null)}),0),this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(s.hitch(this,function(){delete this._clearActiveWidgetsTimer,this._setStack([])}),0))},_onTouchNode:function(e,t){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer),n.contains(e,"dijitPopup")&&(e=e.firstChild);var i=[];try{for(;e;){var a=o.get(e,"dijitPopupParent");if(a)e=g.byId(a).domNode;else if(e.tagName&&"body"==e.tagName.toLowerCase()){if(e===h.body())break;e=m.get(e.ownerDocument).frameElement}else{var r=e.getAttribute&&e.getAttribute("widgetId"),s=r&&g.byId(r);!s||"mouse"==t&&s.get("disabled")||i.unshift(r),e=e.parentNode}}}catch(l){}this._setStack(i,t)},_onFocusNode:function(e){e&&9!=e.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(e),e!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",e)))},_setStack:function(e,t){var i=this.activeStack,o=i.length-1,n=e.length-1;if(e[n]!=i[o]){this.set("activeStack",e);var a,r;for(r=o;r>=0&&i[r]!=e[r];r--)a=g.byId(i[r]),a&&(a._hasBeenBlurred=!0,a.set("focused",!1),a._focusManager==this&&a._onBlur(t),this.emit("widget-blur",a,t));for(r++;n>=r;r++)a=g.byId(e[r]),a&&(a.set("focused",!0),a._focusManager==this&&a._onFocus(t),this.emit("widget-focus",a,t))}},focus:function(e){if(e)try{e.focus()}catch(t){}}}),v=new y;d(function(){var e=v.registerWin(m.get(document));c("ie")&&l(window,"unload",function(){e&&(e.remove(),e=null)})}),f.focus=function(e){v.focus(e)};for(var b in v)/^_/.test(b)||(f.focus[b]="function"==typeof v[b]?s.hitch(v,b):v[b]);return v.watch(function(e,t,i){f.focus[e]=i}),v})},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(e,t,i,o,n,a,r){var s,l={_isElementShown:function(e){var t=o.get(e);return"hidden"!=t.visibility&&"collapsed"!=t.visibility&&"none"!=t.display&&"hidden"!=i.get(e,"type")},hasDefaultTabStop:function(e){switch(e.nodeName.toLowerCase()){case"a":return i.has(e,"href");case"area":case"button":case"input":case"object":case"select":case"textarea":return!0;case"iframe":var t;try{var o=e.contentDocument;if("designMode"in o&&"on"==o.designMode)return!0;t=o.body}catch(n){try{t=e.contentWindow.document.body}catch(a){return!1}}return t&&("true"==t.contentEditable||t.firstChild&&"true"==t.firstChild.contentEditable);default:return"true"==e.contentEditable}},effectiveTabIndex:function(e){return i.get(e,"disabled")?s:i.has(e,"tabIndex")?+i.get(e,"tabIndex"):l.hasDefaultTabStop(e)?0:s},isTabNavigable:function(e){return l.effectiveTabIndex(e)>=0},isFocusable:function(e){return l.effectiveTabIndex(e)>=-1},_getTabNavigable:function(e){function t(e){return e&&"input"==e.tagName.toLowerCase()&&e.type&&"radio"==e.type.toLowerCase()&&e.name&&e.name.toLowerCase()}function o(e){return h[t(e)]||e}var n,r,s,d,c,u,h={},m=l._isElementShown,p=l.effectiveTabIndex,g=function(e){for(var o=e.firstChild;o;o=o.nextSibling)if(!(1!=o.nodeType||a("ie")<=9&&"HTML"!==o.scopeName)&&m(o)){var l=p(o);if(l>=0){0==l?(n||(n=o),r=o):l>0&&((!s||d>l)&&(d=l,s=o),(!c||l>=u)&&(u=l,c=o));var f=t(o);i.get(o,"checked")&&f&&(h[f]=o)}"SELECT"!=o.nodeName.toUpperCase()&&g(o)}};return m(e)&&g(e),{first:o(n),last:o(r),lowest:o(s),highest:o(c)}},getFirstInTabbingOrder:function(e,i){var o=l._getTabNavigable(t.byId(e,i));return o.lowest?o.lowest:o.first},getLastInTabbingOrder:function(e,i){var o=l._getTabNavigable(t.byId(e,i));return o.last?o.last:o.highest}};return 1&&n.mixin(r,l),l})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(e,t,i,o,n){var a=n.doc.documentElement,r=o("ie"),s=o("opera"),l=Math.floor,d=o("ff"),c=e.boxModel.replace(/-/,""),u={dj_quirks:o("quirks"),dj_opera:s,dj_khtml:o("khtml"),dj_webkit:o("webkit"),dj_safari:o("safari"),dj_chrome:o("chrome"),dj_gecko:o("mozilla"),dj_ios:o("ios"),dj_android:o("android")};r&&(u.dj_ie=!0,u["dj_ie"+l(r)]=!0,u.dj_iequirks=o("quirks")),d&&(u["dj_ff"+l(d)]=!0),u["dj_"+c]=!0;var h="";for(var m in u)u[m]&&(h+=m+" ");return a.className=t.trim(a.className+" "+h),i(function(){if(!e.isBodyLtr()){var i="dj_rtl dijitRtl "+h.replace(/ /g,"-rtl ");a.className=t.trim(a.className+" "+i+"dj_rtl dijitRtl "+h.replace(/ /g,"-rtl "))}}),o})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(e,t,i,o){return i(function(){t("highcontrast")&&e.add(o.body(),"dijit_a11y")}),t})},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(e,t,i,o,n,a,r){return n.add("highcontrast",function(){var i=r.doc.createElement("div");i.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(t.blankGif||e.toUrl("./resources/blank.gif"))+");",r.body().appendChild(i);var a=o.getComputedStyle(i),s=a.backgroundImage,l=a.borderTopColor==a.borderRightColor||s&&("none"==s||"url(invalid-url:)"==s);return n("ie")<=8?i.outerHTML="":r.body().removeChild(i),l}),a(function(){n("highcontrast")&&i.add(r.body(),"dj_a11y")}),n})},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(e,t,i,o,n,a,r,s,l,d,c,u){var h=t("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments),e.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(e){this.watch(e,a.hitch(this,"_setStateClass"))},this);for(var t in this.cssStateNodes||{})this._trackMouseState(this[t],this.cssStateNodes[t]);this._trackMouseState(this.domNode,this.baseClass),this._setStateClass()},_cssMouseEvent:function(e){if(!this.disabled)switch(e.type){case"mouseover":case"MSPointerOver":case"pointerover":this._set("hovering",!0),this._set("active",this._mouseDown);break;case"mouseout":case"MSPointerOut":case"pointerout":this._set("hovering",!1),this._set("active",!1);break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":this._set("active",!0);break;case"mouseup":case"dojotouchend":case"MSPointerUp":case"pointerup":case"keyup":this._set("active",!1)}},_setStateClass:function(){function t(t){i=i.concat(e.map(i,function(e){return e+t}),"dijit"+t)}var i=this.baseClass.split(" ");this.isLeftToRight()||t("Rtl");var o="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&t(o),this.state&&t(this.state),this.selected&&t("Selected"),this._opened&&t("Opened"),this.disabled?t("Disabled"):this.readOnly?t("ReadOnly"):this.active?t("Active"):this.hovering&&t("Hover"),this.focused&&t("Focused");var n=this.stateNode||this.domNode,a={};e.forEach(n.className.split(" "),function(e){a[e]=!0}),"_stateClasses"in this&&e.forEach(this._stateClasses,function(e){delete a[e]}),e.forEach(i,function(e){a[e]=!0});var r=[];for(var s in a)r.push(s);n.className=r.join(" "),this._stateClasses=i},_subnodeCssMouseEvent:function(e,t,i){function n(i){o.toggle(e,t+"Hover",i)}function a(i){o.toggle(e,t+"Active",i)}function r(i){o.toggle(e,t+"Focused",i)}if(!this.disabled&&!this.readOnly)switch(i.type){case"mouseover":case"MSPointerOver":case"pointerover":n(!0);break;case"mouseout":case"MSPointerOut":case"pointerout":n(!1),a(!1);break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":a(!0);break;case"mouseup":case"MSPointerUp":case"pointerup":case"dojotouchend":case"keyup":a(!1);break;case"focus":case"focusin":r(!0);break;case"blur":case"focusout":r(!1)}},_trackMouseState:function(e,t){e._cssState=t}});return s(function(){function e(e,t,o){if(!o||!i.isDescendant(o,t))for(var n=t;n&&n!=o;n=n.parentNode)if(n._cssState){var a=u.getEnclosingWidget(n);a&&(n==a.domNode?a._cssMouseEvent(e):a._subnodeCssMouseEvent(n,n._cssState,e))}}var t,o=d.body();r(o,l.over,function(t){e(t,t.target,t.relatedTarget)}),r(o,l.out,function(t){e(t,t.target,t.relatedTarget)}),r(o,c.press,function(i){t=i.target,e(i,t)}),r(o,c.release,function(i){e(i,t),t=null}),r(o,"focusin, focusout",function(e){var t=e.target;if(t._cssState&&!t.getAttribute("widgetId")){var i=u.getEnclosingWidget(t);i&&i._subnodeCssMouseEvent(t,t._cssState,e)}})}),h})},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(e,t,i,o,n,a,r,s,l,d){return t("dijit._KeyNavContainer",[l,d,s],{connectKeyNavHandlers:function(t,i){var o=this._keyNavCodes={},r=a.hitch(this,"focusPrev"),s=a.hitch(this,"focusNext");e.forEach(t,function(e){o[e]=r}),e.forEach(i,function(e){o[e]=s}),o[n.HOME]=a.hitch(this,"focusFirstChild"),o[n.END]=a.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){o.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments),e.forEach(this.getChildren(),a.hitch(this,"_startupChild"))},addChild:function(e){this.inherited(arguments),this._startupChild(e)},_startupChild:function(e){e.set("tabIndex","-1")},_getFirst:function(){var e=this.getChildren();return e.length?e[0]:null},_getLast:function(){var e=this.getChildren();return e.length?e[e.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(e){var e=r.byNode(e);return e&&e.getParent()==this}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(e,t,i,o){return t("dijit._Container",null,{buildRendering:function(){this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode)},addChild:function(e,t){var o=this.containerNode;if(t>0){for(o=o.firstChild;t>0;)1==o.nodeType&&t--,o=o.nextSibling;o?t="before":(o=this.containerNode,t="last")}i.place(e.domNode,o,t),this._started&&!e._started&&e.startup()},removeChild:function(e){if("number"==typeof e&&(e=this.getChildren()[e]),e){var t=e.domNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},hasChildren:function(){return this.getChildren().length>0},_getSiblingOfChild:function(t,i){o.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var n=this.getChildren(),a=e.indexOf(n,t);return n[a+i]},getIndexOfChild:function(t){return e.indexOf(this.getChildren(),t)}})})},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(e,t,i,o,n,a,r,s){return t("dijit._KeyNavMixin",s,{tabIndex:"0",childSelector:null,postCreate:function(){if(this.inherited(arguments),i.set(this.domNode,"tabIndex",this.tabIndex),!this._keyNavCodes){var e=this._keyNavCodes={};e[o.HOME]=n.hitch(this,"focusFirstChild"),e[o.END]=n.hitch(this,"focusLastChild"),e[this.isLeftToRight()?o.LEFT_ARROW:o.RIGHT_ARROW]=n.hitch(this,"_onLeftArrow"),e[this.isLeftToRight()?o.RIGHT_ARROW:o.LEFT_ARROW]=n.hitch(this,"_onRightArrow"),e[o.UP_ARROW]=n.hitch(this,"_onUpArrow"),e[o.DOWN_ARROW]=n.hitch(this,"_onDownArrow")}var t=this,s="string"==typeof this.childSelector?this.childSelector:n.hitch(this,"childSelector");this.own(a(this.domNode,"keypress",n.hitch(this,"_onContainerKeypress")),a(this.domNode,"keydown",n.hitch(this,"_onContainerKeydown")),a(this.domNode,"focus",n.hitch(this,"_onContainerFocus")),a(this.containerNode,a.selector(s,"focusin"),function(e){t._onChildFocus(r.getEnclosingWidget(this),e)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(e,t){e&&(this.focusedChild&&e!==this.focusedChild&&this._onChildBlur(this.focusedChild),e.set("tabIndex",this.tabIndex),e.focus(t?"end":"start"))},_onContainerFocus:function(e){e.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){i.set(this.domNode,"tabIndex","-1"),this.inherited(arguments)},_onBlur:function(){i.set(this.domNode,"tabIndex",this.tabIndex),this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null)),this.inherited(arguments)},_onChildFocus:function(e){e&&e!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),e.set("tabIndex",this.tabIndex),this.lastFocused=e,this._set("focusedChild",e))},_searchString:"",multiCharSearchDuration:1e3,onKeyboardSearch:function(e){e&&this.focusChild(e)},_keyboardSearchCompare:function(e,t){var i=e.domNode,o=e.label||(i.focusNode?i.focusNode.label:"")||i.innerText||i.textContent||"",n=o.replace(/^\s+/,"").substr(0,t.length).toLowerCase();return t.length&&n==t?-1:0},_onContainerKeydown:function(e){var t=this._keyNavCodes[e.keyCode];t?(t(e,this.focusedChild),e.stopPropagation(),e.preventDefault(),this._searchString=""):e.keyCode==o.SPACE&&this._searchTimer&&!(e.ctrlKey||e.altKey||e.metaKey)&&(e.stopImmediatePropagation(),e.preventDefault(),this._keyboardSearch(e," "))},_onContainerKeypress:function(e){e.charCode<=o.SPACE||e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),e.stopPropagation(),this._keyboardSearch(e,String.fromCharCode(e.charCode).toLowerCase()))},_keyboardSearch:function(e,t){var i,o=null,a=0,r=n.hitch(this,function(){this._searchTimer&&this._searchTimer.remove(),this._searchString+=t;var e=/^(.)\1*$/.test(this._searchString),n=e?1:this._searchString.length;i=this._searchString.substr(0,n),this._searchTimer=this.defer(function(){this._searchTimer=null,this._searchString=""},this.multiCharSearchDuration);var r=this.focusedChild||null;if(1!=n&&r||(r=this._getNextFocusableChild(r,1))){var s=r;do{var l=this._keyboardSearchCompare(r,i);if(l&&0==a++&&(o=r),-1==l){a=-1;break}r=this._getNextFocusableChild(r,1)}while(r!=s)}});r(),this.onKeyboardSearch(o,e,i,a)},_onChildBlur:function(){},_getNextFocusableChild:function(e,t){var i=e;do{if(e)e=this._getNext(e,t);else if(e=this[t>0?"_getFirst":"_getLast"](),!e)break;if(null!=e&&e!=i&&e.isFocusable())return e}while(e!=i);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(e,t){if(e)for(e=e.domNode;e;)if(e=e[0>t?"previousSibling":"nextSibling"],e&&"getAttribute"in e){var i=r.byNode(e);if(i)return i}return null}})})},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(e,t,i,o,n,a,r,s){var l=t("dijit._TemplatedMixin",s,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(e){var t=this.declaredClass,i=this;return r.substitute(e,this,function(e,n){if("!"==n.charAt(0)&&(e=o.getObject(n.substr(1),!1,i)),"undefined"==typeof e)throw new Error(t+" template:"+n);return null==e?"":"!"==n.charAt(0)?e:e.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=e(this.templatePath,{sanitize:!0}));var t,n=l.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);
if(o.isString(n)){if(t=i.toDom(this._stringRepl(n),this.ownerDocument),1!=t.nodeType)throw new Error("Invalid template: "+n)}else t=n.cloneNode(!0);this.domNode=t}this.inherited(arguments),this._rendered||this._fillContent(this.srcNodeRef),this._rendered=!0},_fillContent:function(e){var t=this.containerNode;if(e&&t)for(;e.hasChildNodes();)t.appendChild(e.firstChild)}});return l._templateCache={},l.getCachedTemplate=function(e,t,o){var n=l._templateCache,a=e,s=n[a];if(s){try{if(!s.ownerDocument||s.ownerDocument==(o||document))return s}catch(d){}i.destroy(s)}if(e=r.trim(e),t||e.match(/\$\{([^\}]+)\}/g))return n[a]=e;var c=i.toDom(e,o);if(1!=c.nodeType)throw new Error("Invalid template: "+e);return n[a]=c},a("ie")&&n(window,"unload",function(){var e=l._templateCache;for(var t in e){var o=e[t];"object"==typeof o&&i.destroy(o),delete e[t]}}),l})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(e){return e.cache})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(e,t){var i={};return t.setObject("dojo.string",i),i.rep=function(e,t){if(0>=t||!e)return"";for(var i=[];1&t&&i.push(e),t>>=1;)e+=e;return i.join("")},i.pad=function(e,t,o,n){o||(o="0");var a=String(e),r=i.rep(o,Math.ceil((t-a.length)/o.length));return n?a+r:r+a},i.substitute=function(i,o,n,a){return a=a||e.global,n=n?t.hitch(a,n):function(e){return e},i.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,i,r){var s=t.getObject(i,!1,o);return r&&(s=t.getObject(r,!1,a).call(a,s,i)),n(s,i).toString()})},i.trim=String.prototype.trim?t.trim:function(e){e=e.replace(/^\s+/,"");for(var t=e.length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e},i})},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(e,t,i,o,n,a,r,s,l){var d,c=n.delegate(s,{mouseenter:a.enter,mouseleave:a.leave,keypress:i._keypress}),u=o("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[],this._attachEvents=[]},buildRendering:function(){this.inherited(arguments),this._attachTemplateNodes(this.domNode),this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(e){for(var t=e;;)if(1==t.nodeType&&(this._processTemplateNode(t,function(e,t){return e.getAttribute(t)},this._attach)||this.searchContainerNode)&&t.firstChild)t=t.firstChild;else{if(t==e)return;for(;!t.nextSibling;)if(t=t.parentNode,t==e)return;t=t.nextSibling}},_processTemplateNode:function(e,t,i){var o=!0,a=this.attachScope||this,r=t(e,"dojoAttachPoint")||t(e,"data-dojo-attach-point");if(r)for(var s,l=r.split(/\s*,\s*/);s=l.shift();)n.isArray(a[s])?a[s].push(e):a[s]=e,o="containerNode"!=s,this._attachPoints.push(s);var d=t(e,"dojoAttachEvent")||t(e,"data-dojo-attach-event");if(d)for(var c,u=d.split(/\s*,\s*/),h=n.trim;c=u.shift();)if(c){var m=null;if(-1!=c.indexOf(":")){var p=c.split(":");c=h(p[0]),m=h(p[1])}else c=h(c);m||(m=c),this._attachEvents.push(i(e,c,n.hitch(a,m)))}return o},_attach:function(t,i,o){return i=i.replace(/^on/,"").toLowerCase(),i="dijitclick"==i?d||(d=e("./a11yclick")):c[i]||i,r(t,i,o)},_detachTemplateNodes:function(){var e=this.attachScope||this;t.forEach(this._attachPoints,function(t){delete e[t]}),this._attachPoints=[],t.forEach(this._attachEvents,function(e){e.remove()}),this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes(),this.inherited(arguments)}});return n.extend(l,{dojoAttachEvent:"",dojoAttachPoint:""}),u})},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(e,t,i,o,n,a,r,s,l,d,c,u){var h=e("dijit.MenuItem"+(a("dojo-bidi")?"_NoBidi":""),[s,l,d,c],{templateString:u,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(e){this._set("label",e);var t,i="",o=e.search(/{\S}/);if(o>=0){i=e.charAt(o+1);var n=e.substr(0,o),a=e.substr(o+3);t=n+i+a,e=n+'<span class="dijitMenuItemShortcutKey">'+i+"</span>"+a}else t=e;this.domNode.setAttribute("aria-label",t+" "+this.accelKey),this.containerNode.innerHTML=e,this._set("shortcutKey",i)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(e){!e||"label"in this.params||this._set("label",e.innerHTML)},buildRendering:function(){this.inherited(arguments);var e=this.id+"_text";i.set(this.containerNode,"id",e),this.accelKeyNode&&i.set(this.accelKeyNode,"id",this.id+"_accel"),t.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==a("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(e){}},_onFocus:function(){this.getParent()._onItemFocus(this),this.inherited(arguments)},_setSelected:function(e){o.toggle(this.domNode,"dijitMenuItemSelected",e)},setLabel:function(e){n.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),this.set("label",e)},setDisabled:function(e){n.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0"),this.set("disabled",e)},_setDisabledAttr:function(e){this.focusNode.setAttribute("aria-disabled",e?"true":"false"),this._set("disabled",e)},_setAccelKeyAttr:function(e){this.accelKeyNode&&(this.accelKeyNode.style.display=e?"":"none",this.accelKeyNode.innerHTML=e,i.set(this.containerNode,"colSpan",e?"1":"2")),this._set("accelKey",e)}});return a("dojo-bidi")&&(h=e("dijit.MenuItem",h,{_setLabelAttr:function(){this.inherited(arguments),"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}})),h})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(e,t){return e("dijit._Contained",null,{_getSibling:function(e){var i=this.domNode;do i=i[e+"Sibling"];while(i&&1!=i.nodeType);return i&&t.byNode(i)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var e=this.getParent();return e&&e.getIndexOfChild?e.getIndexOfChild(this):-1}})})},"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g){var f=i("dijit.layout._Splitter",[h,m],{live:!0,templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region),this._factor=/top|left/.test(this.region)?1:-1,this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){if(this.inherited(arguments),o.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")),this.container.persist){var e=t(this._cookieName);e&&(this.child.domNode.style[this.horizontal?"height":"width"]=e)}},_computeMaxSize:function(){var t=this.horizontal?"h":"w",i=a.getMarginBox(this.child.domNode)[t],o=e.filter(this.container.getChildren(),function(e){return"center"==e.region})[0],n=a.getContentBox(o.domNode)[t]-10;return Math.min(this.child.maxSize,i+n)},_startDrag:function(e){this.cover||(this.cover=n.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after")),o.add(this.cover,"dijitSplitterCoverActive"),this.fake&&n.destroy(this.fake),(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),o.add(this.domNode,"dijitSplitterShadow"),n.place(this.fake,this.domNode,"after")),o.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active"),this.fake&&o.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var t=this._factor,i=this.horizontal,s=i?"pageY":"pageX",u=e[s],h=this.domNode.style,m=i?"h":"w",p=r.getComputedStyle(this.child.domNode),g=a.getMarginBox(this.child.domNode,p)[m],f=this._computeMaxSize(),_=Math.max(this.child.minSize,a.getPadBorderExtents(this.child.domNode,p)[m]+10),y=this.region,v="top"==y||"bottom"==y?"top":"left",b=parseInt(h[v],10),k=this._resize,w=l.hitch(this.container,"_layoutChildren",this.child.id),j=this.ownerDocument;this._handlers=this._handlers.concat([d(j,c.move,this._drag=function(e,i){var o=e[s]-u,n=t*o+g,a=Math.max(Math.min(n,f),_);(k||i)&&w(a),h[v]=o+b+t*(a-n)+"px"}),d(j,"dragstart",function(e){e.stopPropagation(),e.preventDefault()}),d(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation(),e.preventDefault()}),d(j,c.release,l.hitch(this,"_stopDrag"))]),e.stopPropagation(),e.preventDefault()},_onMouse:function(e){var t="mouseover"==e.type||"mouseenter"==e.type;o.toggle(this.domNode,"dijitSplitterHover",t),o.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",t)},_stopDrag:function(e){try{this.cover&&o.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&n.destroy(this.fake),o.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(e),this._drag(e,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&t(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var e;e=this._handlers.pop();)e.remove()},_onKeyDown:function(e){this._resize=!0;var t=this.horizontal,i=1;switch(e.keyCode){case t?s.UP_ARROW:s.LEFT_ARROW:i*=-1;case t?s.DOWN_ARROW:s.RIGHT_ARROW:break;default:return}var o=a.getMarginSize(this.child.domNode)[t?"h":"w"]+this._factor*i;this.container._layoutChildren(this.child.id,Math.max(Math.min(o,this._computeMaxSize()),this.child.minSize)),e.stopPropagation(),e.preventDefault()},destroy:function(){this._cleanupHandlers(),delete this.child,delete this.container,delete this.cover,delete this.fake,this.inherited(arguments)}}),_=i("dijit.layout._Gutter",[h,m],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments),o.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}}),y=i("dijit.layout.BorderContainer",p,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:f,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter"),this.inherited(arguments)},_setupChild:function(e){this.inherited(arguments);var t=e.region,i=e.isLeftToRight();if("leading"==t&&(t=i?"left":"right"),"trailing"==t&&(t=i?"right":"left"),t&&"center"!=t&&(e.splitter||this.gutters)&&!e._splitterWidget){var o=e.splitter?this._splitterClass:_;l.isString(o)&&(o=l.getObject(o));var a=new o({id:e.id+"_splitter",container:this,child:e,region:t,live:this.liveSplitters});a.isSplitter=!0,e._splitterWidget=a;var r="bottom"==t||t==(this.isLeftToRight()?"right":"left");n.place(a.domNode,e.domNode,r?"before":"after"),a.startup()}},layout:function(){this._layoutChildren()},removeChild:function(e){var t=e._splitterWidget;t&&(t.destroy(),delete e._splitterWidget),this.inherited(arguments)},getChildren:function(){return e.filter(this.inherited(arguments),function(e){return!e.isSplitter})},getSplitter:function(t){return e.filter(this.getChildren(),function(e){return e.region==t})[0]._splitterWidget},resize:function(){if(!this.cs||!this.pe){var e=this.domNode;this.cs=r.getComputedStyle(e),this.pe=a.getPadExtents(e,this.cs),this.pe.r=r.toPixelValue(e,this.cs.paddingRight),this.pe.b=r.toPixelValue(e,this.cs.paddingBottom),r.set(e,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(t,i){if(this._borderBox&&this._borderBox.h){var o=[];e.forEach(this._getOrderedChildren(),function(e){o.push(e),e._splitterWidget&&o.push(e._splitterWidget)});var n={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};g.layoutChildren(this.domNode,n,o,t,i)}},destroyRecursive:function(){e.forEach(this.getChildren(),function(e){var t=e._splitterWidget;t&&t.destroy(),delete e._splitterWidget}),this.inherited(arguments)}});return y.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:1/0},l.mixin(y.ChildWidgetProperties,p.ChildWidgetProperties),l.extend(u,y.ChildWidgetProperties),y._Splitter=f,y._Gutter=_,y})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(e,t){return e.cookie=function(e,i,o){var n,a=document.cookie;if(1==arguments.length){var r=a.match(new RegExp("(?:^|; )"+t.escapeString(e)+"=([^;]*)"));n=r?decodeURIComponent(r[1]):void 0}else{o=o||{};var s=o.expires;if("number"==typeof s){var l=new Date;l.setTime(l.getTime()+24*s*60*60*1e3),s=o.expires=l}s&&s.toUTCString&&(o.expires=s.toUTCString()),i=encodeURIComponent(i);var d,c=e+"="+i;for(d in o){c+="; "+d;var u=o[d];u!==!0&&(c+="="+u)}document.cookie=c}return n},e.cookie.isSupported=function(){return"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1})),navigator.cookieEnabled},e.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(e,t){var i={};return t.setObject("dojo.regexp",i),i.escapeString=function(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){return t&&-1!=t.indexOf(e)?e:"\\"+e})},i.buildGroupRE=function(e,t,o){if(!(e instanceof Array))return t(e);for(var n=[],a=0;a<e.length;a++)n.push(t(e[a]));return i.group(n.join("|"),o)},i.group=function(e,t){return"("+(t?"?:":"")+e+")"},i})},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(e,t,i,o,n,a,r,s){var l=t("dijit.layout.LayoutContainer",r,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(e.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(e){this.inherited(arguments);var t=e.region;t&&i.add(e.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var t=e.map(this.getChildren(),function(e,t){return{pane:e,weight:["center"==e.region?1/0:0,e.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(e.region)?1:-1),t]}},this);return t.sort(function(e,t){for(var i=e.weight,o=t.weight,n=0;n<i.length;n++)if(i[n]!=o[n])return i[n]-o[n];return 0}),e.map(t,function(e){return e.pane})},layout:function(){s.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(){this.inherited(arguments),this._started&&this.layout()},removeChild:function(e){this.inherited(arguments),this._started&&this.layout(),i.remove(e.domNode,this.baseClass+"Pane"),o.set(e.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"}),o.set(e.domNode,/top|bottom/.test(e.region)?"width":"height","auto")}});return l.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0},n.extend(a,l.ChildWidgetProperties),l})},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(e,t,i,o,n,a,r,s,l){return a("dijit.layout._LayoutWidget",[t,i,o],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments),r.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var t=this.getParent&&this.getParent();t&&t.isLayoutContainer||(this.resize(),this.own(n.on("resize",e.hitch(this,"resize"))))}},resize:function(t,i){var o=this.domNode;t&&s.setMarginBox(o,t);var n=i||{};e.mixin(n,t||{}),"h"in n&&"w"in n||(n=e.mixin(s.getMarginBox(o),n));var a=l.getComputedStyle(o),r=s.getMarginExtents(o,a),d=s.getBorderExtents(o,a),c=this._borderBox={w:n.w-(r.w+d.w),h:n.h-(r.h+d.h)},u=s.getPadExtents(o,a);this._contentBox={l:l.toPixelValue(o,a.paddingLeft),t:l.toPixelValue(o,a.paddingTop),w:c.w-u.w,h:c.h-u.h},this.layout()},layout:function(){},_setupChild:function(e){var t=this.baseClass+"-child "+(e.baseClass?this.baseClass+"-"+e.baseClass:"");r.add(e.domNode,t)},addChild:function(e){this.inherited(arguments),this._started&&this._setupChild(e)},removeChild:function(e){var t=this.baseClass+"-child"+(e.baseClass?" "+this.baseClass+"-"+e.baseClass:"");r.remove(e.domNode,t),this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(e,t,i,o,n){function a(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function r(e,t){var o=e.resize?e.resize(t):i.setMarginBox(e.domNode,t);o?n.mixin(e,o):(n.mixin(e,i.getMarginBox(e.domNode)),n.mixin(e,t))}var s={marginBox2contentBox:function(e,t){var n=o.getComputedStyle(e),a=i.getMarginExtents(e,n),r=i.getPadBorderExtents(e,n);return{l:o.toPixelValue(e,n.paddingLeft),t:o.toPixelValue(e,n.paddingTop),w:t.w-(a.w+r.w),h:t.h-(a.h+r.h)}},layoutChildren:function(i,o,s,l,d){o=n.mixin({},o),t.add(i,"dijitLayoutContainer"),s=e.filter(s,function(e){return"center"!=e.region&&"client"!=e.layoutAlign}).concat(e.filter(s,function(e){return"center"==e.region||"client"==e.layoutAlign})),e.forEach(s,function(e){var i=e.domNode,n=e.region||e.layoutAlign;if(!n)throw new Error("No region setting for "+e.id);var s=i.style;s.left=o.l+"px",s.top=o.t+"px",s.position="absolute",t.add(i,"dijitAlign"+a(n));var c={};l&&l==e.id&&(c["top"==e.region||"bottom"==e.region?"h":"w"]=d),"leading"==n&&(n=e.isLeftToRight()?"left":"right"),"trailing"==n&&(n=e.isLeftToRight()?"right":"left"),"top"==n||"bottom"==n?(c.w=o.w,r(e,c),o.h-=e.h,"top"==n?o.t+=e.h:s.top=o.t+o.h+"px"):"left"==n||"right"==n?(c.h=o.h,r(e,c),o.w-=e.w,"left"==n?o.l+=e.w:s.left=o.l+o.w+"px"):("client"==n||"center"==n)&&r(e,o)})}};return n.setObject("dijit.layout.utils",s),s})},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g,f){return d("dijit.layout.ContentPane",[i,o,n],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:e._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(e,t,i){var o=new i(e,t);return!o.href&&o._contentSetter&&o._contentSetter.parseDeferred&&!o._contentSetter.parseDeferred.isFulfilled()?o._contentSetter.parseDeferred.then(function(){return o}):o},create:function(e,i){if(!(e&&e.template||!i||"href"in e||"content"in e)){i=u.byId(i);for(var o=i.ownerDocument.createDocumentFragment();i.firstChild;)o.appendChild(i.firstChild);e=t.delegate(e,{content:o})}this.inherited(arguments,[e,i])},postMixInProperties:function(){this.inherited(arguments);var e=g.getLocalization("dijit","loading",this.lang);this.loadingMessage=a.substitute(this.loadingMessage,e),this.errorMessage=a.substitute(this.errorMessage,e)},buildRendering:function(){this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode),this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments),this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)},this)},_startChildren:function(){l.forEach(this.getChildren(),function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)}),this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)},this)},setHref:function(t){return e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0"),this.set("href",t)},_setHrefAttr:function(e){return this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._set("href",e),this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0,this.onLoadDeferred},setContent:function(t){e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0"),this.set("content",t)},_setContentAttr:function(e){return this._set("href",""),this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),this._created&&this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._setContent(e||""),this._isDownloaded=!1,this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel(),delete this._xhrDfd,this.onLoadDeferred=null},destroy:function(){this.cancel(),this.inherited(arguments)},destroyRecursive:function(){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){return this.inherited(arguments),!this.href||this._xhrDfd||this.isLoaded&&!this._hrefChanged&&!this.refreshOnShow?void 0:this.refresh()},refresh:function(){return this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._load(),this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var e=this,i={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};t.isObject(this.ioArgs)&&t.mixin(i,this.ioArgs);var o,n=this._xhrDfd=(this.ioMethod||p.get)(i);n.then(function(t){o=t;try{return e._isDownloaded=!0,e._setContent(t,!1)}catch(i){e._onError("Content",i)}},function(t){return n.canceled||e._onError("Download",t),delete e._xhrDfd,t}).then(function(){return e.onDownloadEnd(),delete e._xhrDfd,o}),delete this._hrefChanged},_onLoadHandler:function(e){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(e)}catch(t){console.error("Error "+this.widgetId+" running custom onLoad code: "+t.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message)}},destroyDescendants:function(e){this.isLoaded&&this._onUnloadHandler();var t=this._contentSetter;l.forEach(this.getChildren(),function(t){t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),t._destroyed=!0}),t&&(l.forEach(t.parseResults,function(t){t._destroyed||(t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),t._destroyed=!0)}),delete t.parseResults),e||m.empty(this.containerNode),delete this._singleChild},_setContent:function(e,i){this.destroyDescendants();var o=this._contentSetter;o&&o instanceof r._ContentSetter||(o=this._contentSetter=new r._ContentSetter({node:this.containerNode,_onError:t.hitch(this,this._onError),onContentError:t.hitch(this,function(e){var t=this.onContentError(e);try{this.containerNode.innerHTML=t}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e)}})}));var n=t.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!e.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),a=o.set(t.isObject(e)&&e.domNode?e.domNode:e,n),s=this;return f(a&&a.then?a:o.parseDeferred,function(){delete s._contentSetterParams,i||(s._started&&(s._startChildren(),s._scheduleLayout()),s._onLoadHandler(e))})},_onError:function(e,t,i){this.onLoadDeferred.reject(t);var o=this["on"+e+"Error"].call(this,t);i?console.error(i,t):o&&this._setContent(o,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(e,t,i,o,n,a,r,s,l,d,c){return t("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var e=this.getParent();this._childOfLayoutWidget=e&&e.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(d.on("resize",a.hitch(this,"resize")))}},_checkIfSingleChild:function(){var e=[],t=!1;r("> *",this.containerNode).some(function(i){var o=l.byNode(i);o&&o.resize?e.push(o):!/script|link|style/i.test(i.nodeName)&&i.offsetHeight&&(t=!0)}),this._singleChild=1!=e.length||t?null:e[0],i.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(e,t){this._resizeCalled=!0,this._scheduleLayout(e,t)},_scheduleLayout:function(e,t){this._isShown()?this._layout(e,t):(this._needLayout=!0,this._changeSize=e,this._resultSize=t)},_layout:function(e,t){delete this._needLayout,this._wasShown||this.open===!1||this._onShow(),e&&o.setMarginBox(this.domNode,e);var i=this.containerNode;if(i===this.domNode){var n=t||{};a.mixin(n,e||{}),"h"in n&&"w"in n||(n=a.mixin(o.getMarginBox(i),n)),this._contentBox=c.marginBox2contentBox(i,n)}else this._contentBox=o.getContentBox(i);this._layoutChildren()},_layoutChildren:function(){if(this.doLayout&&this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){var e=this._contentBox||o.getContentBox(this.containerNode);this._singleChild.resize({w:e.w,h:e.h})}else for(var t,i=this.getChildren(),n=0;t=i[n++];)t.resize&&t.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var e=this.domNode,t=this.domNode.parentNode;return"none"!=e.style.display&&"hidden"!=e.style.visibility&&!i.contains(e,"dijitHidden")&&t&&t.style&&"none"!=t.style.display},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),this.inherited(arguments)}})})},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(e,t,i,o,n,a,r){var s=0,l={_secureForInnerHtml:function(e){return e.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/gi,"")},_emptyNode:a.empty,_setNodeContent:function(e,i){if(a.empty(e),i)if("string"==typeof i&&(i=a.toDom(i,e.ownerDocument)),!i.nodeType&&t.isArrayLike(i))for(var o=i.length,n=0;n<i.length;n=o==i.length?n+1:0)a.place(i[n],e,"last");else a.place(i,e,"last");return e},_ContentSetter:o("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:e._scopeName,startup:!0,constructor:function(e,i){t.mixin(this,e||{}),i=this.node=n.byId(this.node||i),this.id||(this.id=["Setter",i?i.id||i.tagName:"",s++].join("_"))},set:function(e,t){void 0!==e&&(this.content=e),t&&this._mixin(t),this.onBegin(),this.setContent();var i=this.onEnd();return i&&i.then?i:this.node},setContent:function(){var e=this.node;if(!e)throw new Error(this.declaredClass+": setContent given no node");try{e=l._setNodeContent(e,this.content)}catch(t){var i=this.onContentError(t);try{e.innerHTML=i}catch(t){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+t.message,t)}}this.node=e},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred),this.parseResults&&this.parseResults.length&&(i.forEach(this.parseResults,function(e){e.destroy&&e.destroy()}),delete this.parseResults),a.empty(this.node)},onBegin:function(){var e=this.content;if(t.isString(e)&&(this.cleanContent&&(e=l._secureForInnerHtml(e)),this.extractContent)){var i=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);i&&(e=i[1])}return this.empty(),this.content=e,this.node},onEnd:function(){return this.parseContent&&this._parse(),this.node},tearDown:function(){delete this.parseResults,delete this.parseDeferred,delete this.node,delete this.content},onContentError:function(e){return"Error occurred setting content: "+e},onExecError:function(e){return"Error occurred executing scripts: "+e},_mixin:function(e){var t,i={};for(t in e)t in i||(this[t]=e[t])},_parse:function(){var e=this.node;try{var t={};i.forEach(["dir","lang","textDir"],function(e){this[e]&&(t[e]=this[e])},this);var o=this;this.parseDeferred=r.parse({rootNode:e,noStart:!this.startup,inherited:t,scope:this.parserScope}).then(function(e){return o.parseResults=e},function(e){o._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)})}catch(n){this._onError("Content",n,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(e,t,i){var o=this["on"+e+"Error"].call(this,t);i?console.error(i,t):o&&l._setNodeContent(this.node,o,!0)}}),set:function(e,i,o){if(void 0==i&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),i=""),o){var n=new l._ContentSetter(t.mixin(o,{content:i,node:e}));return n.set()}return l._setNodeContent(e,i,!0)}};return t.setObject("dojo.html",l),l})},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(require,dojo,dlang,darray,config,dom,dwindow,_Url,aspect,all,dates,Deferred,has,query,don,ready){function myEval(text){return eval("("+text+")")}function getNameMap(e){var t=e._nameCaseMap,i=e.prototype;if(!t||t._extendCnt<extendCnt){t=e._nameCaseMap={};for(var o in i)"_"!==o.charAt(0)&&(t[o.toLowerCase()]=o);t._extendCnt=extendCnt}return t}function getCtor(e,t){var i=e.join();if(!_ctorMap[i]){for(var o=[],n=0,a=e.length;a>n;n++){var r=e[n];o[o.length]=_ctorMap[r]=_ctorMap[r]||dlang.getObject(r)||~r.indexOf("/")&&(t?t(r):require(r))}var s=o.shift();_ctorMap[i]=o.length?s.createSubclass?s.createSubclass(o):s.extend.apply(s,o):s}return _ctorMap[i]}new Date("X");var extendCnt=0;aspect.after(dlang,"extend",function(){extendCnt++},!0);var _ctorMap={},parser={_clearCache:function(){extendCnt++,_ctorMap={}},_functionFromScript:function(e,t){var i="",o="",n=e.getAttribute(t+"args")||e.getAttribute("args"),a=e.getAttribute("with"),r=(n||"").split(/\s*,\s*/);return a&&a.length&&darray.forEach(a.split(/\s*,\s*/),function(e){i+="with("+e+"){",o+="}"}),new Function(r,i+e.innerHTML+o)},instantiate:function(e,t,i){t=t||{},i=i||{};var o=(i.scope||dojo._scopeName)+"Type",n="data-"+(i.scope||dojo._scopeName)+"-",a=n+"type",r=n+"mixins",s=[];return darray.forEach(e,function(e){var i=o in t?t[o]:e.getAttribute(a)||e.getAttribute(o);if(i){var n=e.getAttribute(r),l=n?[i].concat(n.split(/\s*,\s*/)):[i];s.push({node:e,types:l})}}),this._instantiate(s,t,i)},_instantiate:function(e,t,i,o){function n(e){return t._started||i.noStart||darray.forEach(e,function(e){"function"!=typeof e.startup||e._started||e.startup()}),e}var a=darray.map(e,function(e){var o=e.ctor||getCtor(e.types,i.contextRequire);if(!o)throw new Error("Unable to resolve constructor for: '"+e.types.join()+"'");return this.construct(o,e.node,t,i,e.scripts,e.inherited)},this);return o?all(a).then(n):n(a)
},construct:function(e,t,i,o,n,a){function r(e){for(f&&dlang.setObject(f,e),y=0;y<T.length;y++)aspect[T[y].advice||"after"](e,T[y].method,dlang.hitch(e,T[y].func),!0);for(y=0;y<A.length;y++)A[y].call(e);for(y=0;y<M.length;y++)e.watch(M[y].prop,M[y].func);for(y=0;y<I.length;y++)don(e,I[y].event,I[y].func);return e}var s=e&&e.prototype;o=o||{};var l={};o.defaults&&dlang.mixin(l,o.defaults),a&&dlang.mixin(l,a);var d;if(has("dom-attributes-explicit"))d=t.attributes;else if(has("dom-attributes-specified-flag"))d=darray.filter(t.attributes,function(e){return e.specified});else{var c=/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1),u=c.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");d=darray.map(u.split(/\s+/),function(e){var i=e.toLowerCase();return{name:e,value:"LI"==t.nodeName&&"value"==e||"enctype"==i?t.getAttribute(i):t.getAttributeNode(i).value}})}var h=o.scope||dojo._scopeName,m="data-"+h+"-",p={};"dojo"!==h&&(p[m+"props"]="data-dojo-props",p[m+"type"]="data-dojo-type",p[m+"mixins"]="data-dojo-mixins",p[h+"type"]="dojoType",p[m+"id"]="data-dojo-id");for(var g,f,_,y=0,v=[];g=d[y++];){var b=g.name,k=b.toLowerCase(),w=g.value;switch(p[k]||k){case"data-dojo-type":case"dojotype":case"data-dojo-mixins":break;case"data-dojo-props":_=w;break;case"data-dojo-id":case"jsid":f=w;break;case"data-dojo-attach-point":case"dojoattachpoint":l.dojoAttachPoint=w;break;case"data-dojo-attach-event":case"dojoattachevent":l.dojoAttachEvent=w;break;case"class":l["class"]=t.className;break;case"style":l.style=t.style&&t.style.cssText;break;default:if(!(b in s)){var j=getNameMap(e);b=j[k]||b}if(b in s)switch(typeof s[b]){case"string":l[b]=w;break;case"number":l[b]=w.length?Number(w):0/0;break;case"boolean":l[b]="false"!=w.toLowerCase();break;case"function":l[b]=""===w||-1!=w.search(/[^\w\.]+/i)?new Function(w):dlang.getObject(w,!1)||new Function(w),v.push(b);break;default:var x=s[b];l[b]=x&&"length"in x?w?w.split(/\s*,\s*/):[]:x instanceof Date?""==w?new Date(""):"now"==w?new Date:dates.fromISOString(w):x instanceof _Url?dojo.baseUrl+w:myEval(w)}else l[b]=w}}for(var N=0;N<v.length;N++){var C=v[N].toLowerCase();t.removeAttribute(C),t[C]=null}if(_)try{_=myEval.call(o.propsThis,"{"+_+"}"),dlang.mixin(l,_)}catch(S){throw new Error(S.toString()+" in data-dojo-props='"+_+"'")}dlang.mixin(l,i),n||(n=e&&(e._noScript||s._noScript)?[]:query("> script[type^='dojo/']",t));var T=[],A=[],M=[],I=[];if(n)for(y=0;y<n.length;y++){var D=n[y];t.removeChild(D);var P=D.getAttribute(m+"event")||D.getAttribute("event"),E=D.getAttribute(m+"prop"),B=D.getAttribute(m+"method"),R=D.getAttribute(m+"advice"),L=D.getAttribute("type"),F=this._functionFromScript(D,m);P?"dojo/connect"==L?T.push({method:P,func:F}):"dojo/on"==L?I.push({event:P,func:F}):l[P]=F:"dojo/aspect"==L?T.push({method:B,advice:R,func:F}):"dojo/watch"==L?M.push({prop:E,func:F}):A.push(F)}var z=e.markupFactory||s.markupFactory,O=z?z(l,t,e):new e(l,t);return O.then?O.then(r):r(O)},scan:function(e,t){function i(e,t){return e.getAttribute&&e.getAttribute(t)||e.parentNode&&i(e.parentNode,t)}function o(e){if(!e.inherited){e.inherited={};var t=e.node,i=o(e.parent),n={dir:t.getAttribute("dir")||i.dir,lang:t.getAttribute("lang")||i.lang,textDir:t.getAttribute(c)||i.textDir};for(var a in n)n[a]&&(e.inherited[a]=n[a])}return e.inherited}var n=[],a=[],r={},s=(t.scope||dojo._scopeName)+"Type",l="data-"+(t.scope||dojo._scopeName)+"-",d=l+"type",c=l+"textdir",u=l+"mixins",h=e.firstChild,m=t.inherited;if(!m){m={dir:i(e,"dir"),lang:i(e,"lang"),textDir:i(e,c)};for(var p in m)m[p]||delete m[p]}for(var g,f,_={inherited:m};;)if(h)if(1==h.nodeType)if(g&&"script"==h.nodeName.toLowerCase())y=h.getAttribute("type"),y&&/^dojo\/\w/i.test(y)&&g.push(h),h=h.nextSibling;else if(f)h=h.nextSibling;else{var y=h.getAttribute(d)||h.getAttribute(s),v=h.firstChild;if(y||v&&(3!=v.nodeType||v.nextSibling)){var b,k=null;if(y){var w=h.getAttribute(u),j=w?[y].concat(w.split(/\s*,\s*/)):[y];try{k=getCtor(j,t.contextRequire)}catch(x){}k||darray.forEach(j,function(e){~e.indexOf("/")&&!r[e]&&(r[e]=!0,a[a.length]=e)});var N=k&&!k.prototype._noScript?[]:null;b={types:j,ctor:k,parent:_,node:h,scripts:N},b.inherited=o(b),n.push(b)}else b={node:h,scripts:g,parent:_};g=N,f=h.stopParser||k&&k.prototype.stopParser&&!t.template,_=b,h=v}else h=h.nextSibling}else h=h.nextSibling;else{if(!_||!_.node)break;h=_.node.nextSibling,f=!1,_=_.parent,g=_.scripts}var C=new Deferred;if(a.length){has("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+a.join(", "));var S=t.contextRequire||require;S(a,function(){C.resolve(darray.filter(n,function(e){if(!e.ctor)try{e.ctor=getCtor(e.types,t.contextRequire)}catch(i){}for(var o=e.parent;o&&!o.types;)o=o.parent;var n=e.ctor&&e.ctor.prototype;return e.instantiateChildren=!(n&&n.stopParser&&!t.template),e.instantiate=!o||o.instantiate&&o.instantiateChildren,e.instantiate}))})}else C.resolve(n);return C.promise},_require:function(e,t){var i=myEval("{"+e.innerHTML+"}"),o=[],n=[],a=new Deferred,r=t&&t.contextRequire||require;for(var s in i)o.push(s),n.push(i[s]);return r(n,function(){for(var e=0;e<o.length;e++)dlang.setObject(o[e],arguments[e]);a.resolve(arguments)}),a.promise},_scanAmd:function(e,t){var i=new Deferred,o=i.promise;i.resolve(!0);var n=this;return query("script[type='dojo/require']",e).forEach(function(e){o=o.then(function(){return n._require(e,t)}),e.parentNode.removeChild(e)}),o},parse:function(e,t){var i;!t&&e&&e.rootNode?(t=e,i=t.rootNode):!e||!dlang.isObject(e)||"nodeType"in e?i=e:t=e,i=i?dom.byId(i):dwindow.body(),t=t||{};var o=t.template?{template:!0}:{},n=[],a=this,r=this._scanAmd(i,t).then(function(){return a.scan(i,t)}).then(function(e){return a._instantiate(e,o,t,!0)}).then(function(e){return n=n.concat(e)}).otherwise(function(e){throw console.error("dojo/parser::parse() error",e),e});return dlang.mixin(n,r),n}};return dojo.parser=parser,config.parseOnLoad&&ready(100,parser,"parse"),parser})},"dojo/_base/url":function(){define(["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),o=function(){for(var e=null,n=arguments,a=[n[0]],r=1;r<n.length;r++)if(n[r]){var s=new o(n[r]+""),l=new o(a[0]+"");if(""!=s.path||s.scheme||s.authority||s.query){if(!s.scheme&&(s.scheme=l.scheme,!s.authority&&(s.authority=l.authority,"/"!=s.path.charAt(0)))){for(var d=l.path.substring(0,l.path.lastIndexOf("/")+1)+s.path,c=d.split("/"),u=0;u<c.length;u++)"."==c[u]?u==c.length-1?c[u]="":(c.splice(u,1),u--):u>0&&(1!=u||""!=c[0])&&".."==c[u]&&".."!=c[u-1]&&(u==c.length-1?(c.splice(u,1),c[u-1]=""):(c.splice(u-1,2),u-=2));s.path=c.join("/")}}else s.fragment!=e&&(l.fragment=s.fragment),s=l;a=[],s.scheme&&a.push(s.scheme,":"),s.authority&&a.push("//",s.authority),a.push(s.path),s.query&&a.push("?",s.query),s.fragment&&a.push("#",s.fragment)}this.uri=a.join("");var h=this.uri.match(t);this.scheme=h[2]||(h[1]?"":e),this.authority=h[4]||(h[3]?"":e),this.path=h[5],this.query=h[7]||(h[6]?"":e),this.fragment=h[9]||(h[8]?"":e),this.authority!=e&&(h=this.authority.match(i),this.user=h[3]||e,this.password=h[4]||e,this.host=h[6]||h[7],this.port=h[9]||e)};return o.prototype.toString=function(){return this.uri},e._Url=o})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(e,t,i){"use strict";var o=e.some;return function(e){var n,a;e instanceof Array?a=e:e&&"object"==typeof e&&(n=e);var r,s=[];if(n){a=[];for(var l in n)Object.hasOwnProperty.call(n,l)&&(s.push(l),a.push(n[l]));r={}}else a&&(r=[]);if(!a||!a.length)return(new t).resolve(r);var d=new t;d.promise.always(function(){r=s=null});var c=a.length;return o(a,function(e,t){return n||s.push(t),i(e,function(e){d.isFulfilled()||(r[s[t]]=e,0===--c&&d.resolve(r))},d.reject),d.isFulfilled()}),d.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(e,t){var i={};return e.setObject("dojo.date.stamp",i),i.fromISOString=function(e,o){i._isoRegExp||(i._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var n=i._isoRegExp.exec(e),a=null;if(n){n.shift(),n[1]&&n[1]--,n[6]&&(n[6]*=1e3),o&&(o=new Date(o),t.forEach(t.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(e){return o["get"+e]()}),function(e,t){n[t]=n[t]||e})),a=new Date(n[0]||1970,n[1]||0,n[2]||1,n[3]||0,n[4]||0,n[5]||0,n[6]||0),n[0]<100&&a.setFullYear(n[0]||1970);var r=0,s=n[7]&&n[7].charAt(0);"Z"!=s&&(r=60*(n[8]||0)+(Number(n[9])||0),"-"!=s&&(r*=-1)),s&&(r-=a.getTimezoneOffset()),r&&a.setTime(a.getTime()+6e4*r)}return a},i.toISOString=function(e,t){var i=function(e){return 10>e?"0"+e:e};t=t||{};var o=[],n=t.zulu?"getUTC":"get",a="";if("time"!=t.selector){var r=e[n+"FullYear"]();a=["0000".substr((r+"").length)+r,i(e[n+"Month"]()+1),i(e[n+"Date"]())].join("-")}if(o.push(a),"date"!=t.selector){var s=[i(e[n+"Hours"]()),i(e[n+"Minutes"]()),i(e[n+"Seconds"]())].join(":"),l=e[n+"Milliseconds"]();if(t.milliseconds&&(s+="."+(100>l?"0":"")+i(l)),t.zulu)s+="Z";else if("time"!=t.selector){var d=e.getTimezoneOffset(),c=Math.abs(d);s+=(d>0?"-":"+")+i(Math.floor(c/60))+":"+i(c%60)}o.push(s)}return o.join("T")},i})},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(e,t,i,o,n,a,r,s){return i("dijit-legacy-requires")&&n(0,function(){var t=["dijit/ToolbarSeparator"];e(t)}),t("dijit.Toolbar",[a,s,r],{templateString:'<div class="dijit" role="toolbar" tabIndex="${tabIndex}" data-dojo-attach-point="containerNode"></div>',baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()}})})},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(e,t,i,o,n,a,r,s,l,d){o("dijit-legacy-requires")&&r(0,function(){var t=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];e(t)});var c=t("dijit.form.Button"+(o("dojo-bidi")?"_NoBidi":""),[s,l],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:d,_setValueAttr:"valueNode",_setNameAttr:function(e){this.valueNode&&this.valueNode.setAttribute("name",e)},_fillContent:function(e){if(!(!e||this.params&&"label"in this.params)){var t=a.trim(e.innerHTML);t&&(this.label=t)}},_setShowLabelAttr:function(e){this.containerNode&&i.toggle(this.containerNode,"dijitDisplayNone",!e),this._set("showLabel",e)},setLabel:function(e){n.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),this.set("label",e)},_setLabelAttr:function(){this.inherited(arguments),this.showLabel||"title"in this.params||(this.titleNode.title=a.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});return o("dojo-bidi")&&(c=t("dijit.form.Button",c,{_setLabelAttr:function(){this.inherited(arguments),this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this._setLabelAttr(this.label))}})),c})},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(e,t,i,o,n,a,r,s){return t("dijit-legacy-requires")&&o(0,function(){var e=["dijit/form/_FormValueWidget"];require(e)}),e("dijit.form._FormWidget",[n,r,a,s],{setDisabled:function(e){i.deprecated("setDisabled("+e+") is deprecated. Use set('disabled',"+e+") instead.","","2.0"),this.set("disabled",e)},setValue:function(e){i.deprecated("dijit.form._FormWidget:setValue("+e+") is deprecated.  Use set('value',"+e+") instead.","","2.0"),this.set("value",e)},getValue:function(){return i.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!t("msapp")?'name="'+this.name.replace(/"/g,"&quot;")+'"':"",this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(e,t,i,o,n,a,r,s,l,d){return t("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(t){if(this._set("disabled",t),i.set(this.focusNode,"disabled",t),this.valueNode&&i.set(this.valueNode,"disabled",t),this.focusNode.setAttribute("aria-disabled",t?"true":"false"),t){this._set("hovering",!1),this._set("active",!1);var o="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode";e.forEach(n.isArray(o)?o:[o],function(e){var t=this[e];s("webkit")||d.hasDefaultTabStop(t)?t.setAttribute("tabIndex","-1"):t.removeAttribute("tabIndex")},this)}else""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(e){if("mouse"==e&&this.isFocusable())var t=this.own(r(this.focusNode,"focus",function(){i.remove(),t.remove()}))[0],i=this.own(r(this.ownerDocumentBody,"mouseup, touchend",n.hitch(this,function(e){i.remove(),t.remove(),this.focused&&("touchend"==e.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){l.scrollIntoView(this.domNode)}),this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=o.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(e){}},compare:function(e,t){return"number"==typeof e&&"number"==typeof t?isNaN(e)&&isNaN(t)?0:e-t:e>t?1:t>e?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(e,t){void 0!=this._lastValueReported||null!==t&&this._onChangeActive||(this._resetValue=this._lastValueReported=e),this._pendingOnChange=this._pendingOnChange||typeof e!=typeof this._lastValueReported||0!=this.compare(e,this._lastValueReported),(this.intermediateChanges||t||void 0===t)&&this._pendingOnChange&&(this._lastValueReported=e,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null,this.onChange(e)})))},create:function(){this.inherited(arguments),this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported)),this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(e,t,i,o){var n=e("dijit.form._ButtonMixin"+(i("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){return e.stopPropagation(),e.preventDefault(),this.disabled||this.valueNode.click(e),!1},_onClick:function(e){if(this.disabled)return e.stopPropagation(),e.preventDefault(),!1;this.onClick(e)===!1&&e.preventDefault();var t=e.defaultPrevented;if(!t&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var i=this.domNode;i.parentNode;i=i.parentNode){var n=o.byNode(i);if(n&&"function"==typeof n._onSubmit){n._onSubmit(e),e.preventDefault(),t=!0;break}}return!t},postCreate:function(){this.inherited(arguments),t.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(e){this._set("label",e);var t=this.containerNode||this.focusNode;t.innerHTML=e}});return i("dojo-bidi")&&(n=e("dijit.form._ButtonMixin",n,{_setLabelAttr:function(){this.inherited(arguments);var e=this.containerNode||this.focusNode;this.applyTextDir(e)}})),n})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(e,t,i,o){return e("dijit.form.ToggleButton",[i,o],{baseClass:"dijitToggleButton",setChecked:function(e){t.deprecated("setChecked("+e+") is deprecated. Use set('checked',"+e+") instead.","","2.0"),this.set("checked",e)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(e,t){return e("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(){var e=this.checked;this._set("checked",!e);var t=this.inherited(arguments);return this.set("checked",t?this.checked:e),t},_setCheckedAttr:function(e,i){this._set("checked",e);var o=this.focusNode||this.domNode;this._created&&t.get(o,"checked")!=!!e&&t.set(o,"checked",!!e),o.setAttribute(this._aria_attr,String(e)),this._handleOnChange(e,i)},postCreate:function(){this.inherited(arguments);var e=this.focusNode||this.domNode;this.checked&&e.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1,this.set("checked",this.params.checked||!1)}})})},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(e,t,i,o,n,a,r,s,l){return e("dijit.form.DropDownButton",[a,r,s],{baseClass:"dijitDropDownButton",templateString:l,_fillContent:function(){if(this.srcNodeRef){var e=i("*",this.srcNodeRef);this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var e=i("[widgetId]",this.dropDownContainer)[0];e&&(this.dropDown=o.byNode(e)),delete this.dropDownContainer}this.dropDown&&n.hide(this.dropDown),this.inherited(arguments)}},isLoaded:function(){var e=this.dropDown;return!!e&&(!e.href||e.isLoaded)},loadDropDown:function(e){var i=this.dropDown,o=i.on("load",t.hitch(this,function(){o.remove(),e()}));i.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g){return e("dijit._HasDropDown",g,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(e){this.disabled||this.readOnly||("MSPointerDown"!=e.type&&"pointerdown"!=e.type&&e.preventDefault(),this._docHandler=this.own(c(this.ownerDocument,u.release,d.hitch(this,"_onDropDownMouseUp")))[0],this.toggleDropDown())},_onDropDownMouseUp:function(e){e&&this._docHandler&&(this._docHandler.remove(),this._docHandler=null);var t=this.dropDown,i=!1;if(e&&this._opened){var o=a.position(this._buttonNode,!0);if(!(e.pageX>=o.x&&e.pageX<=o.x+o.w&&e.pageY>=o.y&&e.pageY<=o.y+o.h)){for(var r=e.target;r&&!i;)n.contains(r,"dijitPopup")?i=!0:r=r.parentNode;if(i){if(r=e.target,t.onItemClick){for(var s;r&&!(s=h.byNode(r));)r=r.parentNode;s&&s.onClick&&s.getParent&&s.getParent().onItemClick(s,e)}return}}}this._opened?t.focus&&(t.autoFocus!==!1||"mouseup"==e.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){t.focus(),delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(e){this._stopClickEvents&&(e.stopPropagation(),e.preventDefault())},buildRendering:function(){this.inherited(arguments),this._buttonNode=this._buttonNode||this.focusNode||this.domNode,this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var e={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";n.add(this._arrowWrapperNode||this._buttonNode,"dijit"+e+"ArrowButton")},postCreate:function(){this.inherited(arguments);var e=this.focusNode||this.domNode;this.own(c(this._buttonNode,u.press,d.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",d.hitch(this,"_onDropDownClick")),c(e,"keydown",d.hitch(this,"_onKey")),c(e,"keyup",d.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown),this.inherited(arguments)},_onKey:function(e){if(!this.disabled&&!this.readOnly){var t=this.dropDown,i=e.target;return t&&this._opened&&t.handleKey&&t.handleKey(e)===!1?(e.stopPropagation(),void e.preventDefault()):void(t&&this._opened&&e.keyCode==l.ESCAPE?(this.closeDropDown(),e.stopPropagation(),e.preventDefault()):!this._opened&&(e.keyCode==l.DOWN_ARROW||(e.keyCode==l.ENTER||e.keyCode==l.SPACE&&(!this._searchTimer||e.ctrlKey||e.altKey||e.metaKey))&&("input"!==(i.tagName||"").toLowerCase()||i.type&&"text"!==i.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,e.stopPropagation(),e.preventDefault()))}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp,this.toggleDropDown();var e=this.dropDown;e&&e.focus&&this.defer(d.hitch(e,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1),this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(e){e()},loadAndOpenDropDown:function(){var e=new t,i=d.hitch(this,function(){this.openDropDown(),e.resolve(this.dropDown)});return this.isLoaded()?i():this.loadDropDown(i),e},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var e=this.dropDown,t=e.domNode,i=this._aroundNode||this.domNode,r=this,s=p.open({parent:this,popup:e,around:i,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){r.closeDropDown(!0)},onCancel:function(){r.closeDropDown(!0)},onClose:function(){o.set(r._popupStateNode,"popupActive",!1),n.remove(r._popupStateNode,"dijitHasDropDownOpen"),r._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&i.offsetWidth>e._popupWrapper.offsetWidth){var l=i.offsetWidth-e._popupWrapper.offsetWidth,c={w:e.domNode.offsetWidth+l};d.isFunction(e.resize)?e.resize(c):a.setMarginBox(t,c),"R"==s.corner[1]&&(e._popupWrapper.style.left=e._popupWrapper.style.left.replace("px","")-l+"px")}return o.set(this._popupStateNode,"popupActive","true"),n.add(this._popupStateNode,"dijitHasDropDownOpen"),this._set("_opened",!0),this._popupStateNode.setAttribute("aria-expanded","true"),this._popupStateNode.setAttribute("aria-owns",e.id),"presentation"===t.getAttribute("role")||t.getAttribute("aria-labelledby")||t.setAttribute("aria-labelledby",this.id),s},closeDropDown:function(e){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer),this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),e&&this.focus(),p.close(this.dropDown),this._opened=!1)}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(e,t,i){return e("dijit.form.ComboBox",[t,i],{})})},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(e,t,i,o,n,a){var r;return r=e("dijit.form.ValidationTextBox",o,{templateString:a,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(e,i){i!=r.prototype[e]&&(t.deprecated("ValidationTextBox id="+this.id+", set('"+e+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",i))},_setRegExpGenAttr:function(e){this._deprecateRegExp("regExpGen",e),this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(e){this._deprecateRegExp("regExp",e)},_setValueAttr:function(){this.inherited(arguments),this._refreshState()},validator:function(e,t){return!(!new RegExp("^(?:"+this._computeRegexp(t)+")"+(this.required?"":"?")+"$").test(e)||this.required&&this._isEmpty(e)||!this._isEmpty(e)&&void 0===this.parse(e,t))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(e){return(this.trim?/^\s*$/:/^$/).test(e)},getErrorMessage:function(){var e="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,t="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:e;return this.required&&this._isEmpty(this.textbox.value)?t:e},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(e){var t="",i=this.disabled||this.isValid(e);i&&(this._maskValidSubsetError=!0);var o=this._isEmpty(this.textbox.value),n=!i&&e&&this._isValidSubset();return this._set("state",i?"":((!this._hasBeenBlurred||e)&&o||n)&&(this._maskValidSubsetError||n&&!this._hasBeenBlurred&&e)?"Incomplete":"Error"),this.focusNode.setAttribute("aria-invalid",i?"false":"true"),"Error"==this.state?(this._maskValidSubsetError=e&&n,t=this.getErrorMessage(e)):"Incomplete"==this.state?(t=this.getPromptMessage(e),this._maskValidSubsetError=!this._hasBeenBlurred||e):o&&(t=this.getPromptMessage(e)),this.set("message",t),i},displayMessage:function(e){e&&this.focused?n.show(e,this.domNode,this.tooltipPosition,!this.isLeftToRight()):n.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused),this.inherited(arguments)},constructor:function(){this.constraints={},this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments),this._refreshState()},_setConstraintsAttr:function(e){!e.locale&&this.lang&&(e.locale=this.lang),this._set("constraints",e),this._refreshState()},_setPatternAttr:function(e){this._set("pattern",e),this._refreshState()},_computeRegexp:function(e){var t=this.pattern;if("function"==typeof t&&(t=t.call(this,e)),t!=this._lastRegExp){var i="";this._lastRegExp=t,".*"!=t&&t.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(e){switch(e.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":case"(":i+=e;break;case")":i+="|$)";break;default:i+="(?:"+e+"|$)"}});try{"".search(i)}catch(o){i=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+i+")$"}return t},postMixInProperties:function(){this.inherited(arguments),this.messages=i.getLocalization("dijit.form","validate",this.lang),this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(){this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(e){this._set("required",e),this.focusNode.setAttribute("aria-required",e),this._refreshState()},_setMessageAttr:function(e){this._set("message",e),this.displayMessage(e)},reset:function(){this._maskValidSubsetError=!0,this.inherited(arguments)},_onBlur:function(){this.displayMessage(""),this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(e,t,i,o,n,a,r,s,l,d,c){var u=e("dijit.form.TextBox"+(r("dojo-bidi")?"_NoBidi":""),[s,l],{templateString:d,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:r("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var e=this.type.toLowerCase();(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==e||"file"==e)&&this.templateString==this.constructor.prototype.templateString)&&(this.templateString=this._singleNodeTemplate),this.inherited(arguments)},postCreate:function(){this.inherited(arguments),r("ie")<9&&this.defer(function(){try{var e=i.getComputedStyle(this.domNode);if(e){var t=e.fontFamily;if(t){var o=this.domNode.getElementsByTagName("INPUT");if(o)for(var n=0;n<o.length;n++)o[n].style.fontFamily=t}}}catch(a){}})},_setPlaceHolderAttr:function(e){this._set("placeHolder",e),this._phspan||(this._attachPoints.push("_phspan"),this._phspan=t.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(a(this._phspan,"mousedown",function(e){e.preventDefault()}),a(this._phspan,"touchend, pointerup, MSPointerUp",n.hitch(this,function(){this.focus()})))),this._phspan.innerHTML="",this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(e)),this._updatePlaceHolder()},_onInput:function(){this.inherited(arguments),this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(){this.inherited(arguments),this._updatePlaceHolder()},getDisplayedValue:function(){return o.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0"),this.get("displayedValue")},setDisplayedValue:function(e){o.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0"),this.set("displayedValue",e)},_onBlur:function(){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),r("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});return r("ie")<9&&(u.prototype._isTextSelected=function(){var e=this.ownerDocument.selection.createRange(),t=e.parentElement();return t==this.textbox&&e.text.length>0},c._setSelectionRange=l._setSelectionRange=function(e,t,i){if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",-99999),o.moveStart("character",t),o.moveEnd("character",i-t),o.select()}}),r("dojo-bidi")&&(u=e("dijit.form.TextBox",u,{_setPlaceHolderAttr:function(){this.inherited(arguments),this.applyTextDir(this._phspan)}})),u})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(e,t,i,o){return e("dijit.form._FormValueWidget",[i,o],{_layoutHackIE7:function(){if(7==t("ie"))for(var e=this.domNode,i=e.parentNode,o=e.firstChild||e,n=o.style.filter,a=this;i&&0==i.clientHeight;)!function(){var e=a.connect(i,"onscroll",function(){a.disconnect(e),o.style.filter=(new Date).getMilliseconds(),a.defer(function(){o.style.filter=n})})}(),i=i.parentNode}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(e,t,i,o,n,a,r){return e("dijit.form._FormValueMixin",r,{readOnly:!1,_setReadOnlyAttr:function(e){t.set(this.focusNode,"readOnly",e),this._set("readOnly",e)},postCreate:function(){this.inherited(arguments),void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(e,t){this._handleOnChange(e,t)},_handleOnChange:function(e){this._set("value",e),this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0)}})})},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(e,t,i,o,n,a,r,s){var l=t("dijit.form._TextBoxMixin"+(o("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)
},_setValueAttr:function(e,t,i){var o;void 0!==e&&(o=this.filter(e),"string"!=typeof i&&(i=null===o||"number"==typeof o&&isNaN(o)?"":this.filter(this.format(o,this.constraints)))),null==i||"number"==typeof i&&isNaN(i)||this.textbox.value==i||(this.textbox.value=i,this._set("displayedValue",this.get("displayedValue"))),this.inherited(arguments,[o,t])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(e){null==e?e="":"string"!=typeof e&&(e=String(e)),this.textbox.value=e,this._setValueAttr(this.get("value"),void 0),this._set("displayedValue",this.get("displayedValue"))},format:function(e){return null==e?"":e.toString?e.toString():e},parse:function(e){return e},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(e){this._processInput(e),this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(){this._refreshState(),this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){function e(e){var t;if("keydown"==e.type){switch(t=e.keyCode){case n.SHIFT:case n.ALT:case n.CTRL:case n.META:case n.CAPS_LOCK:case n.NUM_LOCK:case n.SCROLL_LOCK:return}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(t){case n.NUMPAD_0:case n.NUMPAD_1:case n.NUMPAD_2:case n.NUMPAD_3:case n.NUMPAD_4:case n.NUMPAD_5:case n.NUMPAD_6:case n.NUMPAD_7:case n.NUMPAD_8:case n.NUMPAD_9:case n.NUMPAD_MULTIPLY:case n.NUMPAD_PLUS:case n.NUMPAD_ENTER:case n.NUMPAD_MINUS:case n.NUMPAD_PERIOD:case n.NUMPAD_DIVIDE:return}if(t>=65&&90>=t||t>=48&&57>=t||t==n.SPACE)return;var i=!1;for(var o in n)if(n[o]===e.keyCode){i=!0;break}if(!i)return}}if(t=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode,t||(t=e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode==n.SPACE?String.fromCharCode(e.keyCode):e.keyCode),t||(t=229),"keypress"==e.type){if("string"!=typeof t)return;if((t>="a"&&"z">=t||t>="A"&&"Z">=t||t>="0"&&"9">=t||" "===t)&&(e.ctrlKey||e.metaKey||e.altKey))return}if("input"==e.type){if(this.__skipInputEvent)return void(this.__skipInputEvent=!1)}else this.__skipInputEvent=!0;var r,s={faux:!0};for(r in e)if(!/^(layer[XY]|returnValue|keyLocation)$/.test(r)){var l=e[r];"function"!=typeof l&&"undefined"!=typeof l&&(s[r]=l)}a.mixin(s,{charOrCode:t,_wasConsumed:!1,preventDefault:function(){s._wasConsumed=!0,e.preventDefault()},stopPropagation:function(){e.stopPropagation()}}),this.onInput(s)===!1&&(s.preventDefault(),s.stopPropagation()),s._wasConsumed||this.defer(function(){this._onInput(s)})}this.textbox.setAttribute("value",this.textbox.value),this.inherited(arguments),this.own(r(this.textbox,"keydown, keypress, paste, cut, input, compositionend",a.hitch(this,e)),r(this.domNode,"keypress",function(e){e.stopPropagation()}))},_blankValue:"",filter:function(e){return null===e?this._blankValue:"string"!=typeof e?e:(this.trim&&(e=a.trim(e)),this.uppercase&&(e=e.toUpperCase()),this.lowercase&&(e=e.toLowerCase()),this.propercase&&(e=e.replace(/[^\s]+/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})),e)},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(e){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==e&&(this._selectOnClickHandle=r.once(this.domNode,"mouseup, touchend",a.hitch(this,function(){this._isTextSelected()||l.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="",this.inherited(arguments)}});return o("dojo-bidi")&&(l=t("dijit.form._TextBoxMixin",l,{_setValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode),this.inherited(arguments)}})),l._setSelectionRange=s._setSelectionRange=function(e,t,i){e.setSelectionRange&&e.setSelectionRange(t,i)},l.selectInputText=s.selectInputText=function(e,t,o){e=i.byId(e),isNaN(t)&&(t=0),isNaN(o)&&(o=e.value?e.value.length:0);try{e.focus(),l._setSelectionRange(e,t,o)}catch(n){}},l})},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g,f,_){var y=t("dijit._MasterTooltip",[m,p],{duration:u.defaultDuration,templateString:f,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.bgIframe=new g(this.domNode),this.fadeIn=i.fadeIn({node:this.domNode,duration:this.duration,onEnd:s.hitch(this,"_onShow")}),this.fadeOut=i.fadeOut({node:this.domNode,duration:this.duration,onEnd:s.hitch(this,"_onHide")})},show:function(e,t,i,o,n){if(!this.aroundNode||this.aroundNode!==t||this.containerNode.innerHTML!=e){if("playing"==this.fadeOut.status())return void(this._onDeck=arguments);this.containerNode.innerHTML=e,n&&this.set("textDir",n),this.containerNode.align=o?"right":"left";var a=h.around(this.domNode,t,i&&i.length?i:v.defaultPosition,!o,s.hitch(this,"orient")),l=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=l.y+(l.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)?this.connectorNode.style.left=l.x+(l.w-this.connectorNode.offsetWidth>>1)-a.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top=""),r.set(this.domNode,"opacity",0),this.fadeIn.play(),this.isShowingNow=!0,this.aroundNode=t}},orient:function(e,t,i,o,n){this.connectorNode.style.top="";var r=o.h,s=o.w;e.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[t+"-"+i],this.domNode.style.width="auto";var l=a.position(this.domNode);9==c("ie")&&(l.w+=2);var d=Math.min(Math.max(s,1),l.w);if(a.setMarginBox(this.domNode,{w:d}),"B"==i.charAt(0)&&"B"==t.charAt(0)){var u=a.position(e),h=this.connectorNode.offsetHeight;if(u.h>r){var m=r-(n.h+h>>1);this.connectorNode.style.top=m+"px",this.connectorNode.style.bottom=""}else this.connectorNode.style.bottom=Math.min(Math.max(n.h/2-h/2,0),u.h-h)+"px",this.connectorNode.style.top=""}else this.connectorNode.style.top="",this.connectorNode.style.bottom="";return Math.max(0,l.w-s)},_onShow:function(){c("ie")&&(this.domNode.style.filter="")},hide:function(e){this._onDeck&&this._onDeck[1]==e?this._onDeck=null:this.aroundNode===e&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="",this.containerNode.innerHTML="",this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});c("dojo-bidi")&&y.extend({_setAutoTextDir:function(t){this.applyTextDir(t),e.forEach(t.children,function(e){this._setAutoTextDir(e)},this)},_setTextDirAttr:function(e){this._set("textDir",e),"auto"==e?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}}),_.showTooltip=function(t,i,o,n,a){return o&&(o=e.map(o,function(e){return{after:"after-centered",before:"before-centered"}[e]||e})),v._masterTT||(_._masterTT=v._masterTT=new y),v._masterTT.show(t,i,o,n,a)},_.hideTooltip=function(e){return v._masterTT&&v._masterTT.hide(e)};var v=t("dijit.Tooltip",m,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(t){e.forEach(this._connections||[],function(t){e.forEach(t,function(e){e.remove()})},this),this._connectIds=e.filter(s.isArrayLike(t)?t:t?[t]:[],function(e){return o.byId(e,this.ownerDocument)},this),this._connections=e.map(this._connectIds,function(e){var t=o.byId(e,this.ownerDocument),i=this.selector,n=i?function(e){return d.selector(i,e)}:function(e){return e},a=this;return[d(t,n(l.enter),function(){a._onHover(this)}),d(t,n("focusin"),function(){a._onHover(this)}),d(t,n(l.leave),s.hitch(a,"_onUnHover")),d(t,n("focusout"),s.hitch(a,"_onUnHover"))]},this),this._set("connectId",t)},addTarget:function(t){var i=t.id||t;-1==e.indexOf(this._connectIds,i)&&this.set("connectId",this._connectIds.concat(i))},removeTarget:function(t){var i=t.id||t,o=e.indexOf(this._connectIds,i);o>=0&&(this._connectIds.splice(o,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments),n.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var t=this.connectId;e.forEach(s.isArrayLike(t)?t:[t],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(e){this._showTimer||(this._showTimer=this.defer(function(){this.open(e)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer),this.close()},open:function(e){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);var t=this.getContent(e);t&&(v.show(t,e,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=e,this.onShow(e,this.position))},close:function(){this._connectNode&&(v.hide(this._connectNode),delete this._connectNode,this.onHide()),this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close(),e.forEach(this._connections||[],function(t){e.forEach(t,function(e){e.remove()})},this),this.inherited(arguments)}});return v._MasterTooltip=y,v.show=_.showTooltip,v.hide=_.hideTooltip,v.defaultPosition=["after-centered","before-centered"],v})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(e,t,i,o,n){var a={};return e.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(e){a[e]=o[e]}),i.mixin(a,{defaultDuration:t.defaultDuration||200}),i.mixin(n,a),n})},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,i,o,n,a,r,s,l){return e("dijit.form.ComboBoxMixin",[s,a],{dropDownClass:r,hasDownArrow:!0,templateString:l,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(e){this._set("hasDownArrow",e),this._buttonNode.style.display=e?"":"none"},_showResultList:function(){this.displayMessage(""),this.inherited(arguments)},_setStoreAttr:function(e){e.get||o.mixin(e,{_oldAPI:!0,get:function(e){var i=new t;return this.fetchItemByIdentity({identity:e,onItem:function(e){i.resolve(e)},onError:function(e){i.reject(e)}}),i.promise},query:function(e,i){var a=new t(function(){r.abort&&r.abort()});a.total=new t;var r=this.fetch(o.mixin({query:e,onBegin:function(e){a.total.resolve(e)},onComplete:function(e){a.resolve(e)},onError:function(e){a.reject(e)}},i));return n(a)}}),this._set("store",e)},postMixInProperties:function(){var e=this.params.store||this.store;if(e&&this._setStoreAttr(e),this.inherited(arguments),!this.params.store&&!this.store._oldAPI){var t=this.declaredClass;o.mixin(this.store,{getValue:function(e,o){return i.deprecated(t+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0"),e[o]},getLabel:function(e){return i.deprecated(t+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0"),e.name},fetch:function(e){i.deprecated(t+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var n=["dojo/data/ObjectStore"];require(n,o.hitch(this,function(t){new t({objectStore:this}).fetch(e)}))}})}}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(e,t,i){var o=function(n){function a(t){n[t]=function(){var a=arguments,s=i(n,function(i){return Array.prototype.unshift.call(a,i),o(e[t].apply(e,a))});return"forEach"!==t||r?s:void 0}}if(!n)return n;var r=!!n.then;return r&&(n=t.delegate(n)),a("forEach"),a("filter"),a("map"),null==n.total&&(n.total=i(n,function(e){return e.length})),n};return t.setObject("dojo.store.util.QueryResults",o),o})},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(e,t,i,o,n,a,r,s,l,d,c){var u=t("dijit.form._AutoCompleterMixin",c,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(e){var t=0;if("number"==typeof e.selectionStart)t=e.selectionStart;else if(s("ie")){var i=e.ownerDocument.selection.createRange().duplicate(),o=e.createTextRange();i.move("character",0),o.move("character",0);try{o.setEndPoint("EndToEnd",i),t=String(o.text).replace(/\r/g,"").length}catch(n){}}return t},_setCaretPos:function(e,t){t=parseInt(t),d.selectInputText(e,t,t)},_setDisabledAttr:function(e){this.inherited(arguments),this.domNode.setAttribute("aria-disabled",e?"true":"false")},_onKey:function(e){if(!(e.charCode>=32)){var t=e.charCode||e.keyCode;if(t!=o.ALT&&t!=o.CTRL&&t!=o.META&&t!=o.SHIFT){var i=this.dropDown,n=null;if(this._abortQuery(),this.inherited(arguments),!(e.altKey||e.ctrlKey||e.metaKey))switch(this._opened&&(n=i.getHighlightedOption()),t){case o.PAGE_DOWN:case o.DOWN_ARROW:case o.PAGE_UP:case o.UP_ARROW:this._opened&&this._announceOption(n),e.stopPropagation(),e.preventDefault();break;case o.ENTER:if(n){if(n==i.nextButton){this._nextSearch(1),e.stopPropagation(),e.preventDefault();break}if(n==i.previousButton){this._nextSearch(-1),e.stopPropagation(),e.preventDefault();break}e.stopPropagation(),e.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case o.TAB:var a=this.get("displayedValue");if(i&&(a==i._messages.previousMessage||a==i._messages.nextMessage))break;n&&this._selectOption(n);case o.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(e){var t=this.focusNode;d.selectInputText(t,t.value.length);var i=this.ignoreCase?"toLowerCase":"substr";if(0==e[i](0).indexOf(this.focusNode.value[i](0))){var o=this.autoComplete?this._getCaretPos(t):t.value.length;o+1>t.value.length&&(t.value=e,d.selectInputText(t,o))}else t.value=e,d.selectInputText(t)},_openResultList:function(e,t,i){var o=this.dropDown.getHighlightedOption();return this.dropDown.clearResultList(),e.length||0!=i.start?(this._nextSearch=this.dropDown.onPage=n.hitch(this,function(t){e.nextPage(-1!==t),this.focus()}),this.dropDown.createOptions(e,i,n.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),void("direction"in i?(i.direction?this.dropDown.highlightFirstOption():i.direction||this.dropDown.highlightLastOption(),o&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(t[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))):void this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0),this.openDropDown(),this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery(),this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var e=this.get("displayedValue"),t=this.dropDown;!t||e!=t._messages.previousMessage&&e!=t._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",e)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0),this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(e,t,i){var o="";e&&(i||(i=this.store._oldAPI?this.store.getValue(e,this.searchAttr):e[this.searchAttr]),o=this._getValueField()!=this.searchAttr?this.store.getIdentity(e):i),this.set("value",o,t,i,e)},_announceOption:function(e){if(e){var t;if(e==this.dropDown.nextButton||e==this.dropDown.previousButton)t=e.innerHTML,this.item=void 0,this.value="";else{var o=this.dropDown.items[e.getAttribute("item")];t=(this.store._oldAPI?this.store.getValue(o,this.searchAttr):o[this.searchAttr]).toString(),this.set("item",o,!1,t)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length),this.focusNode.setAttribute("aria-activedescendant",i.get(e,"id")),this._autoCompleteText(t)}},_selectOption:function(e){this.closeDropDown(),e&&this._announceOption(e),this._setCaretPos(this.focusNode,this.focusNode.value.length),this._handleOnChange(this.value,!0),this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0,this.inherited(arguments)},_startSearch:function(e){if(!this.dropDown){var t=this.id+"_popup",i=n.isString(this.dropDownClass)?n.getObject(this.dropDownClass,!1):this.dropDownClass;this.dropDown=new i({onChange:n.hitch(this,this._selectOption),id:t,dir:this.dir,textDir:this.textDir})}this._lastInput=e,this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){if(this.inherited(arguments),!this.store){var e=this.srcNodeRef;if(this.store=new l({},e),!("value"in this.params)){var t=this.item=this.store.fetchSelectedItem();if(t){var i=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(t,i):t[i]}}}},postCreate:function(){var t=a('label[for="'+this.id+'"]');t.length&&(t[0].id||(t[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",t[0].id)),this.inherited(arguments),e.after(this,"onSearch",n.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(e){var t=this.labelFunc(e,this.store),i=this.labelType;return"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(t=this.doHighlight(t,this._lastInput),i="html"),{html:"html"==i,label:t}},doHighlight:function(e,t){var i=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),o=this.queryExpr.indexOf("${0}");return t=r.escapeString(t),this._escapeHtml(e.replace(new RegExp((0==o?"^":"")+"("+t+")"+(o==this.queryExpr.length-4?"$":""),i),"$1")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},_escapeHtml:function(e){return e=String(e).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null,this.inherited(arguments)},labelFunc:function(e,t){return(t._oldAPI?t.getValue(e,this.labelAttr||this.searchAttr):e[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(e,t,i,o){this._set("item",o||null),null==e&&(e=""),this.inherited(arguments)}});return s("dojo-bidi")&&u.extend({_setTextDirAttr:function(e){this.inherited(arguments),this.dropDown&&this.dropDown._set("textDir",e)}}),u})},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(e,t,i,o,n,a){function r(e){return{id:e.value,value:e.value,name:i.trim(e.innerText||e.textContent||"")}}return e("dijit.form.DataList",n,{constructor:function(e,n){this.domNode=t.byId(n),i.mixin(this,e),this.id&&a.add(this),this.domNode.style.display="none",this.inherited(arguments,[{data:o("option",this.domNode).map(r)}])},destroy:function(){a.remove(this.id)},fetchSelectedItem:function(){var e=o("> option[selected]",this.domNode)[0]||o("> option",this.domNode)[0];return e&&r(e)}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(e,t,i){var o=null;return e("dojo.store.Memory",o,{constructor:function(e){for(var t in e)this[t]=e[t];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:i,get:function(e){return this.data[this.index[e]]},getIdentity:function(e){return e[this.idProperty]},put:function(e,t){var i=this.data,o=this.index,n=this.idProperty,a=e[n]=t&&"id"in t?t.id:n in e?e[n]:Math.random();if(a in o){if(t&&t.overwrite===!1)throw new Error("Object already exists");i[o[a]]=e}else o[a]=i.push(e)-1;return a},add:function(e,t){return(t=t||{}).overwrite=!1,this.put(e,t)},remove:function(e){var t=this.index,i=this.data;return e in t?(i.splice(t[e],1),this.setData(i),!0):void 0},query:function(e,i){return t(this.queryEngine(e,i)(this.data))},setData:function(e){e.items?(this.idProperty=e.identifier||this.idProperty,e=this.data=e.items):this.data=e,this.index={};for(var t=0,i=e.length;i>t;t++)this.index[e[t][this.idProperty]]=t}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(e){return function(t,i){function o(o){var n=e.filter(o,t),a=i&&i.sort;if(a&&n.sort("function"==typeof a?a:function(e,t){for(var i,o=0;i=a[o];o++){var n=e[i.attribute],r=t[i.attribute];if(n=null!=n?n.valueOf():n,r=null!=r?r.valueOf():r,n!=r)return!!i.descending==(null==n||n>r)?-1:1}return 0}),i&&(i.start||i.count)){var r=n.length;n=n.slice(i.start||0,(i.start||0)+(i.count||1/0)),n.total=r}return n}switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var n=t;t=function(e){for(var t in n){var i=n[t];if(i&&i.test){if(!i.test(e[t],e))return!1}else if(i!=e[t])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}return o.matches=t,o}})},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(e,t,i,o,n,a,r){return e("dijit.form._SearchMixin",null,{pageSize:1/0,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(e){return new RegExp("^"+e.replace(/(\\.)|(\*)|(\?)|\W/g,function(e,t,i,o){return i?".*":o?".":t?t:"\\"+e})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove()),this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove()),this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(e){if(!this.disabled&&!this.readOnly){var i=e.charOrCode;if(!("type"in e&&"key"==e.type.substring(0,3)&&(e.altKey||(e.ctrlKey||e.metaKey)&&"x"!=i&&"v"!=i||i==t.SHIFT))){var o=!1;switch(this._prev_key_backspace=!1,i){case t.DELETE:case t.BACKSPACE:this._prev_key_backspace=!0,this._maskValidSubsetError=!0,o=!0;break;default:o="string"==typeof i||229==i}o&&(this.store?this.searchTimer=this.defer("_startSearchFromInput",1):this.onSearch())}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(e){this._abortQuery();var t,o=this,r=i.clone(this.query),s={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},l=n.substitute(this.queryExpr,[e.replace(/([\\\*\?])/g,"\\$1")]),d=function(){var e=o._fetchHandle=o.store.query(r,s);o.disabled||o.readOnly||t!==o._lastQuery||a(e,function(i){o._fetchHandle=null,o.disabled||o.readOnly||t!==o._lastQuery||a(e.total,function(e){i.total=e;var t=o.pageSize;(isNaN(t)||t>i.total)&&(t=i.total),i.nextPage=function(e){s.direction=e=e!==!1,s.count=t,e?(s.start+=i.length,s.start>=i.total&&(s.count=0)):(s.start-=t,s.start<0&&(s.count=Math.max(t+s.start,0),s.start=0)),s.count<=0?(i.length=0,o.onSearch(i,r,s)):d()},o.onSearch(i,r,s)})},function(e){o._fetchHandle=null,o._cancelingQuery||console.error(o.declaredClass+" "+e.toString())})};i.mixin(s,this.fetchProperties),this.store._oldAPI?t=l:(t=this._patternToRegExp(l),t.toString=function(){return l}),this._lastQuery=r[this.searchAttr]=t,this._queryDeferHandle=this.defer(d,this.searchDelay)},constructor:function(){this.query={},this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var e=this.list;e&&(this.store=r.byId(e))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(e,t,i,o,n,a,r,s){return e("dijit.form._ComboBoxMenu",[n,a,s,r],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments),this.isLeftToRight()||(t.add(this.previousButton,"dijitMenuItemRtl"),t.add(this.nextButton,"dijitMenuItemRtl")),this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var e=this.ownerDocument.createElement("div");return e.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),e.setAttribute("role","option"),e},onHover:function(e){t.add(e,"dijitMenuItemHover")},onUnhover:function(e){t.remove(e,"dijitMenuItemHover")},onSelect:function(e){t.add(e,"dijitMenuItemSelected")},onDeselect:function(e){t.remove(e,"dijitMenuItemSelected")},_page:function(e){var t=0,o=this.domNode.scrollTop,n=i.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();n>t;){var a=this.getHighlightedOption();if(e){if(!a.previousSibling||"none"==a.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!a.nextSibling||"none"==a.nextSibling.style.display)break;this.selectNextNode()}var r=this.domNode.scrollTop;t+=(r-o)*(e?-1:1),o=r}},handleKey:function(e){switch(e.keyCode){case o.DOWN_ARROW:return this.selectNextNode(),!1;case o.PAGE_DOWN:return this._page(!1),!1;case o.UP_ARROW:return this.selectPreviousNode(),!1;case o.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(e,t,i,o,n){var a=t("dijit.form._ComboBoxMenuMixin"+(o("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments),this._messages=n.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments),this.previousButton.innerHTML=this._messages.previousMessage,this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(e){this._set("value",e),this.onChange(e)},onClick:function(e){e==this.previousButton?(this._setSelectedAttr(null),this.onPage(-1)):e==this.nextButton?(this._setSelectedAttr(null),this.onPage(1)):this.onChange(e)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(e,t){var i=this._createMenuItem(),o=t(e);return o.html?i.innerHTML=o.label:i.appendChild(i.ownerDocument.createTextNode(o.label)),""==i.innerHTML&&(i.innerHTML="&#160;"),i},createOptions:function(t,o,n){this.items=t,this.previousButton.style.display=0==o.start?"none":"",i.set(this.previousButton,"id",this.id+"_prev"),e.forEach(t,function(e,t){var o=this._createOption(e,n);o.setAttribute("item",t),i.set(o,"id",this.id+t),this.nextButton.parentNode.insertBefore(o,this.nextButton)},this);var a=!1;t.total&&!t.total.then&&-1!=t.total?o.start+o.count<t.total?a=!0:o.start+o.count>t.total&&o.count==t.length&&(a=!0):o.count==t.length&&(a=!0),this.nextButton.style.display=a?"":"none",i.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var e=this.containerNode;e.childNodes.length>2;)e.removeChild(e.childNodes[e.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments),this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments),this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});return o("dojo-bidi")&&(a=t("dijit.form._ComboBoxMenuMixin",a,{_createOption:function(){var e=this.inherited(arguments);return this.applyTextDir(e),e}})),a})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(e,t,i,o){return e("dijit.form._ListMouseMixin",o,{postCreate:function(){this.inherited(arguments),this.domNode.dojoClick=!0,this._listConnect("click","_onClick"),this._listConnect("mousedown","_onMouseDown"),this._listConnect("mouseup","_onMouseUp"),this._listConnect("mouseover","_onMouseOver"),this._listConnect("mouseout","_onMouseOut")},_onClick:function(e,t){this._setSelectedAttr(t,!1),this._deferredClick&&this._deferredClick.remove(),this._deferredClick=this.defer(function(){this._deferredClick=null,this.onClick(t)})},_onMouseDown:function(e,t){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null),this._isDragging=!0,this._setSelectedAttr(t,!1)},_onMouseUp:function(e,t){this._isDragging=!1;var i=this.selected,o=this._hoveredNode;i&&t==i?this.defer(function(){this._onClick(e,i)}):o&&this.defer(function(){this._onClick(e,o)})},_onMouseOut:function(){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null),this._isDragging&&(this._cancelDrag=(new Date).getTime()+1e3)},_onMouseOver:function(e,t){if(this._cancelDrag){var i=(new Date).getTime();i>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null}this._hoveredNode=t,this.onHover(t),this._isDragging&&this._setSelectedAttr(t,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(e,t,i){return e("dijit.form._ListBase",null,{selected:null,_listConnect:function(e,i){var o=this;return o.own(t(o.containerNode,t.selector(function(e,t,i){return e.parentNode==i},e),function(e){o[i](e,this)}))},selectFirstNode:function(){for(var e=this.containerNode.firstChild;e&&"none"==e.style.display;)e=e.nextSibling;this._setSelectedAttr(e,!0)},selectLastNode:function(){for(var e=this.containerNode.lastChild;e&&"none"==e.style.display;)e=e.previousSibling;this._setSelectedAttr(e,!0)},selectNextNode:function(){var e=this.selected;if(e){for(var t=e.nextSibling;t&&"none"==t.style.display;)t=t.nextSibling;t?this._setSelectedAttr(t,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var e=this.selected;if(e){for(var t=e.previousSibling;t&&"none"==t.style.display;)t=t.previousSibling;t?this._setSelectedAttr(t,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(e,t){if(this.selected!=e){var o=this.selected;o&&this.onDeselect(o),e&&(t&&i.scrollIntoView(e),this.onSelect(e)),this._set("selected",e)}else e&&this.onSelect(e)}})})},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(e,t,i,o,n,a,r){return a.extend(e,{waiRole:"",waiState:""}),n("dijit._Templated",[t,i],{widgetsInTemplate:!1,constructor:function(){r.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")
},_processNode:function(e,t){var i=this.inherited(arguments),n=t(e,"waiRole");n&&e.setAttribute("role",n);var a=t(e,"waiState");return a&&o.forEach(a.split(/\s*,\s*/),function(t){if(-1!=t.indexOf("-")){var i=t.split("-");e.setAttribute("aria-"+i[0],i[1])}}),i}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(e,t,i,o,n){return i("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var e=this.domNode;if(this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0),n.parse(e,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(o.hitch(this,function(e){this._startupWidgets=e;for(var t=0;t<e.length;t++)this._processTemplateNode(e[t],function(e,t){return e[t]},function(e,t,i){return t in e?e.connect(e,t,i):e.on(t,i,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser})),!this._startupWidgets)throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.")}},_processTemplateNode:function(e,t){return t(e,"dojoType")||t(e,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){e.forEach(this._startupWidgets,function(e){e&&!e._started&&e.startup&&e.startup()}),this._startupWidgets=null,this.inherited(arguments)}})})},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(e,t,i,o){var n=e("dijit.form.NumberTextBoxMixin",null,{pattern:function(e){return"("+(this.focused&&this.editOptions?this._regExpGenerator(t.delegate(e,this.editOptions))+"|":"")+this._regExpGenerator(e)+")"},value:0/0,editOptions:{pattern:"#.######"},_formatter:i.format,_regExpGenerator:i.regexp,postMixInProperties:function(){this.inherited(arguments),this._set("type","text")},_setConstraintsAttr:function(e){var t="number"==typeof e.places?e.places:0;t&&t++,"number"!=typeof e.max&&(e.max=9*Math.pow(10,15-t)),"number"!=typeof e.min&&(e.min=-9*Math.pow(10,15-t)),this.inherited(arguments,[e]),this.focusNode&&this.focusNode.value&&!isNaN(this.value)&&this.set("value",this.value)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var e=this.get("value");if("number"==typeof e&&!isNaN(e)){var t=this.format(e,this.constraints);void 0!==t&&(this.textbox.value=t)}this.inherited(arguments)}},format:function(e,i){var o=String(e);return"number"!=typeof e?o:isNaN(e)?"":"rangeCheck"in this&&this.rangeCheck(e,i)||i.exponent===!1||!/\de[-+]?\d/i.test(o)?(this.editOptions&&this.focused&&(i=t.mixin({},i,this.editOptions)),this._formatter(e,i)):o},_parser:i.parse,parse:function(e,i){var o=this._parser(e,t.mixin({},i,this.editOptions&&this.focused?this.editOptions:{}));return this.editOptions&&this.focused&&isNaN(o)&&(o=this._parser(e,i)),o},_getDisplayedValueAttr:function(){var e=this.inherited(arguments);return isNaN(e)?this.textbox.value:e},filter:function(e){return null==e||""===e?0/0:this.inherited(arguments)},serialize:function(e){return"number"!=typeof e||isNaN(e)?"":this.inherited(arguments)},_setBlurValue:function(){var e=t.hitch(t.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(e,!0)},_setValueAttr:function(e,t,i){void 0!==e&&void 0===i&&(i=String(e),"number"==typeof e?isNaN(e)?i="":("rangeCheck"in this&&this.rangeCheck(e,this.constraints)||this.constraints.exponent===!1||!/\de[-+]?\d/i.test(i))&&(i=void 0):e?e=void 0:(i="",e=0/0)),this.inherited(arguments,[e,t,i])},_getValueAttr:function(){var e=this.inherited(arguments);if(isNaN(e)&&""!==this.textbox.value){if(this.constraints.exponent!==!1&&/\de[-+]?\d/i.test(this.textbox.value)&&new RegExp("^"+i._realNumberRegexp(t.delegate(this.constraints))+"$").test(this.textbox.value)){var o=Number(this.textbox.value);return isNaN(o)?void 0:o}return void 0}return e},isValid:function(){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var e=this.get("value");return!isNaN(e)&&this.rangeCheck(e,this.constraints)?this.constraints.exponent!==!1&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}}),a=e("dijit.form.NumberTextBox",[o,n],{baseClass:"dijitTextBox dijitNumberTextBox"});return a.Mixin=n,a})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(e,t,i,o,n){var a={};if(e.setObject("dojo.number",a),a.format=function(i,o){o=e.mixin({},o||{});var n=t.normalizeLocale(o.locale),r=t.getLocalization("dojo.cldr","number",n);o.customs=r;var s=o.pattern||r[(o.type||"decimal")+"Format"];return isNaN(i)||1/0==Math.abs(i)?null:a._applyPattern(i,s,o)},a._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/,a._applyPattern=function(e,t,i){i=i||{};var o=i.customs.group,n=i.customs.decimal,r=t.split(";"),s=r[0];if(t=r[0>e?1:0]||"-"+s,-1!=t.indexOf("%"))e*=100;else if(-1!=t.indexOf(""))e*=1e3;else if(-1!=t.indexOf(""))o=i.customs.currencyGroup||o,n=i.customs.currencyDecimal||n,t=t.replace(/\u00a4{1,3}/,function(e){var t=["symbol","currency","displayName"][e.length-1];return i[t]||i.currency||""});else if(-1!=t.indexOf("E"))throw new Error("exponential notation not supported");var l=a._numberPatternRE,d=s.match(l);if(!d)throw new Error("unable to find a number expression in pattern: "+t);return i.fractional===!1&&(i.places=0),t.replace(l,a._formatAbsolute(e,d[0],{decimal:n,group:o,places:i.places,round:i.round}))},a.round=function(e,t,i){var o=10/(i||10);return(o*+e).toFixed(t)/o},0==.9.toFixed()){var r=a.round;a.round=function(e,t,i){var o=Math.pow(10,-t||0),n=Math.abs(e);return!e||n>=o?o=0:(n/=o,(.5>n||n>=.95)&&(o=0)),r(e,t,i)+(e>0?o:-o)}}return a._formatAbsolute=function(e,t,i){i=i||{},i.places===!0&&(i.places=0),1/0===i.places&&(i.places=6);var n=t.split("."),r="string"==typeof i.places&&i.places.indexOf(","),s=i.places;r?s=i.places.substring(r+1):s>=0||(s=(n[1]||[]).length),i.round<0||(e=a.round(e,s,i.round));var l=String(Math.abs(e)).split("."),d=l[1]||"";if(n[1]||i.places){r&&(i.places=i.places.substring(0,r));var c=void 0!==i.places?i.places:n[1]&&n[1].lastIndexOf("0")+1;c>d.length&&(l[1]=o.pad(d,c,"0",!0)),s<d.length&&(l[1]=d.substr(0,s))}else l[1]&&l.pop();var u=n[0].replace(",","");c=u.indexOf("0"),-1!=c&&(c=u.length-c,c>l[0].length&&(l[0]=o.pad(l[0],c)),-1==u.indexOf("#")&&(l[0]=l[0].substr(l[0].length-c)));var h,m,p=n[0].lastIndexOf(",");if(-1!=p){h=n[0].length-p-1;var g=n[0].substr(0,p);p=g.lastIndexOf(","),-1!=p&&(m=g.length-p-1)}for(var f=[],_=l[0];_;){var y=_.length-h;f.push(y>0?_.substr(y):_),_=y>0?_.slice(0,y):"",m&&(h=m,delete m)}return l[0]=f.reverse().join(i.group||","),l.join(i.decimal||".")},a.regexp=function(e){return a._parseInfo(e).regexp},a._parseInfo=function(e){e=e||{};var i=t.normalizeLocale(e.locale),o=t.getLocalization("dojo.cldr","number",i),r=e.pattern||o[(e.type||"decimal")+"Format"],s=o.group,l=o.decimal,d=1;if(-1!=r.indexOf("%"))d/=100;else if(-1!=r.indexOf(""))d/=1e3;else{var c=-1!=r.indexOf("");c&&(s=o.currencyGroup||s,l=o.currencyDecimal||l)}var u=r.split(";");1==u.length&&u.push("-"+u[0]);var h=n.buildGroupRE(u,function(t){return t="(?:"+n.escapeString(t,".")+")",t.replace(a._numberPatternRE,function(t){var i={signed:!1,separator:e.strict?s:[s,""],fractional:e.fractional,decimal:l,exponent:!1},o=t.split("."),n=e.places;1==o.length&&1!=d&&(o[1]="###"),1==o.length||0===n?i.fractional=!1:(void 0===n&&(n=e.pattern?o[1].lastIndexOf("0")+1:1/0),n&&void 0==e.fractional&&(i.fractional=!0),!e.places&&n<o[1].length&&(n+=","+o[1].length),i.places=n);var r=o[0].split(",");return r.length>1&&(i.groupSize=r.pop().length,r.length>1&&(i.groupSize2=r.pop().length)),"("+a._realNumberRegexp(i)+")"})},!0);return c&&(h=h.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(t,i,o,a){var r=["symbol","currency","displayName"][o.length-1],s=n.escapeString(e[r]||e.currency||"");return i=i?"[\\s\\xa0]":"",a=a?"[\\s\\xa0]":"",e.strict?i+s+a:(i&&(i+="*"),a&&(a+="*"),"(?:"+i+s+a+")?")})),{regexp:h.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:s,decimal:l,factor:d}},a.parse=function(e,t){var i=a._parseInfo(t),o=new RegExp("^"+i.regexp+"$").exec(e);if(!o)return 0/0;var n=o[1];if(!o[1]){if(!o[2])return 0/0;n=o[2],i.factor*=-1}return n=n.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),n*i.factor},a._realNumberRegexp=function(e){e=e||{},"places"in e||(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),"fractional"in e&&!/^0/.test(e.places)||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);var t=a._integerRegexp(e),i=n.buildGroupRE(e.fractional,function(t){var i="";return t&&0!==e.places&&(i="\\"+e.decimal,1/0==e.places?i="(?:"+i+"\\d+)?":i+="\\d{"+e.places+"}"),i},!0),o=n.buildGroupRE(e.exponent,function(t){return t?"([eE]"+a._integerRegexp({signed:e.eSigned})+")":""}),r=t+i;return i&&(r="(?:(?:"+r+")|(?:"+i+"))"),r+o},a._integerRegexp=function(e){e=e||{},"signed"in e||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="";var t=n.buildGroupRE(e.signed,function(e){return e?"[-+]":""},!0),i=n.buildGroupRE(e.separator,function(t){if(!t)return"(?:\\d+)";t=n.escapeString(t)," "==t?t="\\s":""==t&&(t="\\s\\xa0");var i=e.groupSize,o=e.groupSize2;if(o){var a="(?:0|[1-9]\\d{0,"+(o-1)+"}(?:["+t+"]\\d{"+o+"})*["+t+"]\\d{"+i+"})";return i-o>0?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":a}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0);return t+i},a})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(e,t,i){var o=e("dijit.form.RangeBoundTextBox",i,{rangeMessage:"",rangeCheck:function(e,t){return("min"in t?this.compare(e,t.min)>=0:!0)&&("max"in t?this.compare(e,t.max)<=0:!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var e=this.get("value");if(null==e)return!1;var t=!1;if("min"in this.constraints){var i=this.constraints.min;t=this.compare(e,"number"==typeof i&&i>=0&&0!=e?0:i)<0}if(!t&&"max"in this.constraints){var o=this.constraints.max;t=this.compare(e,"number"!=typeof o||o>0?o:0)>0}return t},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(e){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(e))},getErrorMessage:function(e){var t=this.get("value");return null==t||""===t||"number"==typeof t&&isNaN(t)||this.isInRange(e)?this.inherited(arguments):this.rangeMessage},postMixInProperties:function(){this.inherited(arguments),this.rangeMessage||(this.messages=t.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}});return o})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(e,t,i,o){return e("dijit.form.MappedTextBox",o,{postMixInProperties:function(){this.inherited(arguments),this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(e){return e.toString?e.toString():""},toString:function(){var e=this.filter(this.get("value"));return null!=e?"string"==typeof e?e:this.serialize(e,this.constraints):""},validate:function(){return this.valueNode.value=this.toString(),this.inherited(arguments)},buildRendering:function(){this.inherited(arguments),this.valueNode=i.place("<input type='hidden'"+(this.name&&!t("msapp")?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")},reset:function(){this.valueNode.value="",this.inherited(arguments)}})})},"dojox/html/metrics":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(e,t,i,o,n,a,r){var s=t.getObject("dojox.html.metrics",!0),l=t.getObject("dojox");s.getFontMeasurements=function(){var e={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};i("ie")&&(a.doc.documentElement.style.fontSize="100%");var t=a.doc.createElement("div"),o=t.style;o.position="absolute",o.left="-100px",o.top="0",o.width="30px",o.height="1000em",o.borderWidth="0",o.margin="0",o.padding="0",o.outline="0",o.lineHeight="1",o.overflow="hidden",a.body().appendChild(t);for(var n in e)o.fontSize=n,e[n]=16*Math.round(12*t.offsetHeight/16)/12/1e3;return a.body().removeChild(t),t=null,e};var d=null;s.getCachedFontMeasurements=function(e){return(e||!d)&&(d=s.getFontMeasurements()),d};var c=null,u={};s.getTextBox=function(e,t,i){var o,n;if(c)o=c;else{o=c=a.doc.createElement("div");var s=a.doc.createElement("div");s.appendChild(o),n=s.style,n.overflow="scroll",n.position="absolute",n.left="0px",n.top="-10000px",n.width="1px",n.height="1px",n.visibility="hidden",n.borderWidth="0",n.margin="0",n.padding="0",n.outline="0",a.body().appendChild(s)}if(o.className="",n=o.style,n.borderWidth="0",n.margin="0",n.padding="0",n.outline="0",arguments.length>1&&t)for(var l in t)l in u||(n[l]=t[l]);arguments.length>2&&i&&(o.className=i),o.innerHTML=e;var d=r.position(o);return d.w=o.parentNode.scrollWidth,d};var h={w:16,h:16};return s.getScrollbar=function(){return{w:h.w,h:h.h}},s._fontResizeNode=null,s.initOnFontResize=function(){var e=s._fontResizeNode=a.doc.createElement("iframe"),t=e.style;t.position="absolute",t.width="5em",t.height="10em",t.top="-10000px",t.display="none",i("ie")?e.onreadystatechange=function(){"complete"==e.contentWindow.document.readyState&&(e.onresize=e.contentWindow.parent[l._scopeName].html.metrics._fontresize)}:e.onload=function(){e.contentWindow.onresize=e.contentWindow.parent[l._scopeName].html.metrics._fontresize},e.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'"),a.body().appendChild(e),s.initOnFontResize=function(){}},s.onFontResize=function(){},s._fontresize=function(){s.onFontResize()},n.addOnUnload(function(){var e=s._fontResizeNode;e&&(i("ie")&&e.onresize?e.onresize=null:e.contentWindow&&e.contentWindow.onresize&&(e.contentWindow.onresize=null),s._fontResizeNode=null)}),o(function(){try{var t=a.doc.createElement("div");t.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;",a.body().appendChild(t),h.w=t.offsetWidth-t.clientWidth,h.h=t.offsetHeight-t.clientHeight,a.body().removeChild(t),delete t}catch(i){}"fontSizeWatch"in e.config&&e.config.fontSizeWatch&&s.initOnFontResize()}),s})},"dojo/data/ItemFileWriteStore":function(){define(["../_base/lang","../_base/declare","../_base/array","../_base/json","../_base/kernel","./ItemFileReadStore","../date/stamp"],function(e,t,i,o,n,a,r){return t("dojo.data.ItemFileWriteStore",a,{constructor:function(e){this._features["dojo.data.api.Write"]=!0,this._features["dojo.data.api.Notification"]=!0,this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}},this._datatypeMap.Date.serialize||(this._datatypeMap.Date.serialize=function(e){return r.toISOString(e,{zulu:!0})}),e&&e.referenceIntegrity===!1&&(this.referenceIntegrity=!1),this._saveInProgress=!1},referenceIntegrity:!0,_assert:function(e){if(!e)throw new Error("assertion failed in ItemFileWriteStore")},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"]},newItem:function(t,i){if(this._assert(!this._saveInProgress),this._loadFinished||this._forceLoad(),"object"!=typeof t&&"undefined"!=typeof t)throw new Error("newItem() was passed something other than an object");var o=null,n=this._getIdentifierAttribute();if(n===Number)o=this._arrayOfAllItems.length;else{if(o=t[n],"undefined"==typeof o)throw new Error("newItem() was not passed an identity for the new item");if(e.isArray(o))throw new Error("newItem() was not passed an single-valued identity")}this._itemsByIdentity&&this._assert("undefined"==typeof this._itemsByIdentity[o]),this._assert("undefined"==typeof this._pending._newItems[o]),this._assert("undefined"==typeof this._pending._deletedItems[o]);var a={};a[this._storeRefPropName]=this,a[this._itemNumPropName]=this._arrayOfAllItems.length,this._itemsByIdentity&&(this._itemsByIdentity[o]=a,a[n]=[o]),this._arrayOfAllItems.push(a);var r=null;if(i&&i.parent&&i.attribute){r={item:i.parent,attribute:i.attribute,oldValue:void 0};var s=this.getValues(i.parent,i.attribute);if(s&&s.length>0){var l=s.slice(0,s.length);r.oldValue=1===s.length?s[0]:s.slice(0,s.length),l.push(a),this._setValueOrValues(i.parent,i.attribute,l,!1),r.newValue=this.getValues(i.parent,i.attribute)}else this._setValueOrValues(i.parent,i.attribute,a,!1),r.newValue=a}else a[this._rootItemPropName]=!0,this._arrayOfTopLevelItems.push(a);this._pending._newItems[o]=a;for(var d in t){if(d===this._storeRefPropName||d===this._itemNumPropName)throw new Error("encountered bug in ItemFileWriteStore.newItem");var c=t[d];if(e.isArray(c)||(c=[c]),a[d]=c,this.referenceIntegrity)for(var u=0;u<c.length;u++){var h=c[u];this.isItem(h)&&this._addReferenceToMap(h,a,d)}}return this.onNew(a,r),a},_removeArrayElement:function(e,t){var o=i.indexOf(e,t);return-1!=o?(e.splice(o,1),!0):!1},deleteItem:function(t){this._assert(!this._saveInProgress),this._assertIsItem(t);var o=t[this._itemNumPropName],n=this.getIdentity(t);if(this.referenceIntegrity){var a=this.getAttributes(t);t[this._reverseRefMap]&&(t["backup_"+this._reverseRefMap]=e.clone(t[this._reverseRefMap])),i.forEach(a,function(e){i.forEach(this.getValues(t,e),function(i){this.isItem(i)&&(t["backupRefs_"+this._reverseRefMap]||(t["backupRefs_"+this._reverseRefMap]=[]),t["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(i),attr:e}),this._removeReferenceFromMap(i,t,e))},this)},this);var r=t[this._reverseRefMap];if(r)for(var s in r){var l=null;if(l=this._itemsByIdentity?this._itemsByIdentity[s]:this._arrayOfAllItems[s])for(var d in r[s]){var c=this.getValues(l,d)||[],u=i.filter(c,function(e){return!(this.isItem(e)&&this.getIdentity(e)==n)},this);this._removeReferenceFromMap(t,l,d),u.length<c.length&&this._setValueOrValues(l,d,u,!0)}}}return this._arrayOfAllItems[o]=null,t[this._storeRefPropName]=null,this._itemsByIdentity&&delete this._itemsByIdentity[n],this._pending._deletedItems[n]=t,t[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,t),this.onDelete(t),!0},setValue:function(e,t,i){return this._setValueOrValues(e,t,i,!0)},setValues:function(e,t,i){return this._setValueOrValues(e,t,i,!0)},unsetAttribute:function(e,t){return this._setValueOrValues(e,t,[],!0)},_setValueOrValues:function(t,o,n,a){this._assert(!this._saveInProgress),this._assertIsItem(t),this._assert(e.isString(o)),this._assert("undefined"!=typeof n);var r=this._getIdentifierAttribute();if(o==r)throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");var s=this._getValueOrValues(t,o),l=this.getIdentity(t);if(!this._pending._modifiedItems[l]){var d={};for(var c in t)d[c]=c===this._storeRefPropName||c===this._itemNumPropName||c===this._rootItemPropName?t[c]:c===this._reverseRefMap?e.clone(t[c]):t[c].slice(0,t[c].length);this._pending._modifiedItems[l]=d}var u=!1;if(e.isArray(n)&&0===n.length){if(u=delete t[o],n=void 0,this.referenceIntegrity&&s){var h=s;e.isArray(h)||(h=[h]);for(var m=0;m<h.length;m++){var p=h[m];this.isItem(p)&&this._removeReferenceFromMap(p,t,o)}}}else{var g;if(g=e.isArray(n)?n.slice(0,n.length):[n],this.referenceIntegrity)if(s){var h=s;e.isArray(h)||(h=[h]);var f={};i.forEach(h,function(e){if(this.isItem(e)){var t=this.getIdentity(e);f[t.toString()]=!0}},this),i.forEach(g,function(e){if(this.isItem(e)){var i=this.getIdentity(e);f[i.toString()]?delete f[i.toString()]:this._addReferenceToMap(e,t,o)}},this);for(var _ in f){var y;y=this._itemsByIdentity?this._itemsByIdentity[_]:this._arrayOfAllItems[_],this._removeReferenceFromMap(y,t,o)}}else for(var m=0;m<g.length;m++){var p=g[m];this.isItem(p)&&this._addReferenceToMap(p,t,o)}t[o]=g,u=!0}return a&&this.onSet(t,o,s,n),u},_addReferenceToMap:function(e,t,i){var o=this.getIdentity(t),n=e[this._reverseRefMap];n||(n=e[this._reverseRefMap]={});var a=n[o];a||(a=n[o]={}),a[i]=!0},_removeReferenceFromMap:function(e,t,i){var o,n=this.getIdentity(t),a=e[this._reverseRefMap];if(a){for(o in a)o==n&&(delete a[o][i],this._isEmpty(a[o])&&delete a[o]);this._isEmpty(a)&&delete e[this._reverseRefMap]}},_dumpReferenceMap:function(){var e;for(e=0;e<this._arrayOfAllItems.length;e++){var t=this._arrayOfAllItems[e];t&&t[this._reverseRefMap]}},_getValueOrValues:function(e,t){var i=void 0;if(this.hasAttribute(e,t)){var o=this.getValues(e,t);i=1==o.length?o[0]:o}return i},_flatten:function(t){if(this.isItem(t))return{_reference:this.getIdentity(t)};if("object"==typeof t)for(var i in this._datatypeMap){var o=this._datatypeMap[i];if(e.isObject(o)&&!e.isFunction(o)){if(t instanceof o.type){if(!o.serialize)throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+i+"]");return{_type:i,_value:o.serialize(t)}}}else if(t instanceof o)return{_type:i,_value:t.toString()}}return t},_getNewFileContentString:function(){var e={},t=this._getIdentifierAttribute();t!==Number&&(e.identifier=t),this._labelAttr&&(e.label=this._labelAttr),e.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var n=this._arrayOfAllItems[i];if(null!==n){var a={};for(var r in n)if(r!==this._storeRefPropName&&r!==this._itemNumPropName&&r!==this._reverseRefMap&&r!==this._rootItemPropName){var s=this.getValues(n,r);if(1==s.length)a[r]=this._flatten(s[0]);else for(var l=[],d=0;d<s.length;++d)l.push(this._flatten(s[d])),a[r]=l}e.items.push(a)}}var c=!0;return o.toJson(e,c)},_isEmpty:function(t){var i=!0;if(e.isObject(t)){var o;for(o in t){i=!1;break}}else e.isArray(t)&&t.length>0&&(i=!1);return i},save:function(e){this._assert(!this._saveInProgress),this._saveInProgress=!0;var t=this,i=function(){if(t._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}},t._saveInProgress=!1,e&&e.onComplete){var i=e.scope||n.global;e.onComplete.call(i)}},o=function(i){if(t._saveInProgress=!1,e&&e.onError){var o=e.scope||n.global;e.onError.call(o,i)}};if(this._saveEverything){var a=this._getNewFileContentString();this._saveEverything(i,o,a)}this._saveCustom&&this._saveCustom(i,o),this._saveEverything||this._saveCustom||i()},revert:function(){this._assert(!this._saveInProgress);var t;for(t in this._pending._modifiedItems){var o=this._pending._modifiedItems[t],n=null;n=this._itemsByIdentity?this._itemsByIdentity[t]:this._arrayOfAllItems[t],o[this._storeRefPropName]=this;for(var a in n)delete n[a];e.mixin(n,o)}var r;for(t in this._pending._deletedItems){r=this._pending._deletedItems[t],r[this._storeRefPropName]=this;var s=r[this._itemNumPropName];r["backup_"+this._reverseRefMap]&&(r[this._reverseRefMap]=r["backup_"+this._reverseRefMap],delete r["backup_"+this._reverseRefMap]),this._arrayOfAllItems[s]=r,this._itemsByIdentity&&(this._itemsByIdentity[t]=r),r[this._rootItemPropName]&&this._arrayOfTopLevelItems.push(r)}for(t in this._pending._deletedItems)r=this._pending._deletedItems[t],r["backupRefs_"+this._reverseRefMap]&&(i.forEach(r["backupRefs_"+this._reverseRefMap],function(e){var t;t=this._itemsByIdentity?this._itemsByIdentity[e.id]:this._arrayOfAllItems[e.id],this._addReferenceToMap(t,r,e.attr)},this),delete r["backupRefs_"+this._reverseRefMap]);for(t in this._pending._newItems){var l=this._pending._newItems[t];l[this._storeRefPropName]=null,this._arrayOfAllItems[l[this._itemNumPropName]]=null,l[this._rootItemPropName]&&this._removeArrayElement(this._arrayOfTopLevelItems,l),this._itemsByIdentity&&delete this._itemsByIdentity[t]}return this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}},!0},isDirty:function(e){if(e){var t=this.getIdentity(e);return new Boolean(this._pending._newItems[t]||this._pending._modifiedItems[t]||this._pending._deletedItems[t]).valueOf()}return!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)},onSet:function(){},onNew:function(){},onDelete:function(){},close:function(){if(this.clearOnClose){if(this.isDirty())throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");this.inherited(arguments)}}})})},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(e,t,i,o,n,a,r,s,l){var d=i("dojo.data.ItemFileReadStore",[a],{constructor:function(e){this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._jsonFileUrl=e.url,this._ccUrl=e.url,this.url=e.url,this._jsonData=e.data,this.data=null,this._datatypeMap=e.typeMap||{},this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(e){return l.fromISOString(e)}}),this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},this._itemsByIdentity=null,this._storeRefPropName="_S",this._itemNumPropName="_0",this._rootItemPropName="_RI",this._reverseRefMap="_RRM",this._loadInProgress=!1,this._queuedFetches=[],void 0!==e.urlPreventCache&&(this.urlPreventCache=e.urlPreventCache?!0:!1),void 0!==e.hierarchical&&(this.hierarchical=e.hierarchical?!0:!1),e.clearOnClose&&(this.clearOnClose=!0),"failOk"in e&&(this.failOk=e.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(e){if(!this.isItem(e))throw new Error(this.declaredClass+": Invalid item argument.")},_assertIsAttribute:function(e){if("string"!=typeof e)throw new Error(this.declaredClass+": Invalid attribute argument.")},getValue:function(e,t,i){var o=this.getValues(e,t);return o.length>0?o[0]:i},getValues:function(e,t){return this._assertIsItem(e),this._assertIsAttribute(t),(e[t]||[]).slice(0)},getAttributes:function(e){this._assertIsItem(e);var t=[];for(var i in e)i!==this._storeRefPropName&&i!==this._itemNumPropName&&i!==this._rootItemPropName&&i!==this._reverseRefMap&&t.push(i);return t},hasAttribute:function(e,t){return this._assertIsItem(e),this._assertIsAttribute(t),t in e},containsValue:function(e,t,i){var o=void 0;return"string"==typeof i&&(o=r.patternToRegExp(i,!1)),this._containsValue(e,t,i,o)},_containsValue:function(e,i,n,a){return o.some(this.getValues(e,i),function(e){if(null!==e&&!t.isObject(e)&&a){if(e.toString().match(a))return!0}else if(n===e)return!0})},isItem:function(e){return e&&e[this._storeRefPropName]===this&&this._arrayOfAllItems[e[this._itemNumPropName]]===e?!0:!1},isItemLoaded:function(e){return this.isItem(e)},loadItem:function(e){this._assertIsItem(e.item)},getFeatures:function(){return this._features},getLabel:function(e){return this._labelAttr&&this.isItem(e)?this.getValue(e,this._labelAttr):void 0},getLabelAttributes:function(){return this._labelAttr?[this._labelAttr]:null},filter:function(e,t,i){var o,n,a=[];if(e.query){var s,l=e.queryOptions?e.queryOptions.ignoreCase:!1,d={};for(n in e.query)s=e.query[n],"string"==typeof s?d[n]=r.patternToRegExp(s,l):s instanceof RegExp&&(d[n]=s);for(o=0;o<t.length;++o){var c=!0,u=t[o];if(null===u)c=!1;else for(n in e.query)s=e.query[n],this._containsValue(u,n,s,d[n])||(c=!1);c&&a.push(u)}i(a,e)}else{for(o=0;o<t.length;++o){var h=t[o];null!==h&&a.push(h)}i(a,e)}},_fetchItems:function(i,o,a){var r=this;if(this._loadFinished)this.filter(i,this._getItemsArray(i.queryOptions),o);else if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this._ccUrl=this._jsonFileUrl,this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,this._ccUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:i,filter:t.hitch(r,"filter"),findCallback:t.hitch(r,o)});else{this._loadInProgress=!0;var s={url:r._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk},l=n.get(s);l.addCallback(function(e){try{r._getItemsFromLoadedData(e),r._loadFinished=!0,r._loadInProgress=!1,r.filter(i,r._getItemsArray(i.queryOptions),o),r._handleQueuedFetches()}catch(t){r._loadFinished=!0,r._loadInProgress=!1,a(t,i)}}),l.addErrback(function(e){r._loadInProgress=!1,a(e,i)});var d=null;i.abort&&(d=i.abort),i.abort=function(){var e=l;e&&-1===e.fired&&(e.cancel(),e=null),d&&d.call(i)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,r.filter(i,this._getItemsArray(i.queryOptions),o)}catch(c){a(c,i)}else a(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),i)},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var e=0;e<this._queuedFetches.length;e++){var t=this._queuedFetches[e],i=t.args,o=t.filter,n=t.findCallback;o?o(i,this._getItemsArray(i.queryOptions),n):this.fetchItemByIdentity(i)}this._queuedFetches=[]}},_getItemsArray:function(e){return e&&e.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(){this.clearOnClose&&this._loadFinished&&!this._loadInProgress&&(!(""!=this._jsonFileUrl&&null!=this._jsonFileUrl||""!=this.url&&null!=this.url||null!=this.data),this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(e){function i(e){return null!==e&&"object"==typeof e&&(!t.isArray(e)||n)&&!t.isFunction(e)&&(e.constructor==Object||t.isArray(e))&&"undefined"==typeof e._reference&&"undefined"==typeof e._type&&"undefined"==typeof e._value&&a.hierarchical}function o(e){a._arrayOfAllItems.push(e);for(var n in e){var r=e[n];if(r)if(t.isArray(r))for(var s=r,l=0;l<s.length;++l){var d=s[l];i(d)&&o(d)}else i(r)&&o(r)}}var n=!1,a=this;this._labelAttr=e.label;var r,s;for(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=e.items,r=0;r<this._arrayOfTopLevelItems.length;++r)s=this._arrayOfTopLevelItems[r],t.isArray(s)&&(n=!0),o(s),s[this._rootItemPropName]=!0;var l,d={};for(r=0;r<this._arrayOfAllItems.length;++r){s=this._arrayOfAllItems[r];for(l in s){if(l!==this._rootItemPropName){var c=s[l];null!==c?t.isArray(c)||(s[l]=[c]):s[l]=[null]}d[l]=l}}for(;d[this._storeRefPropName];)this._storeRefPropName+="_";for(;d[this._itemNumPropName];)this._itemNumPropName+="_";for(;d[this._reverseRefMap];)this._reverseRefMap+="_";var u,h=e.identifier;if(h)for(this._itemsByIdentity={},this._features["dojo.data.api.Identity"]=h,r=0;r<this._arrayOfAllItems.length;++r){s=this._arrayOfAllItems[r],u=s[h];var m=u[0];if(Object.hasOwnProperty.call(this._itemsByIdentity,m)){if(this._jsonFileUrl)throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+m+"]");if(this._jsonData)throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+m+"]")}else this._itemsByIdentity[m]=s}else this._features["dojo.data.api.Identity"]=Number;for(r=0;r<this._arrayOfAllItems.length;++r)s=this._arrayOfAllItems[r],s[this._storeRefPropName]=this,s[this._itemNumPropName]=r;for(r=0;r<this._arrayOfAllItems.length;++r){s=this._arrayOfAllItems[r];for(l in s){u=s[l];for(var p=0;p<u.length;++p)if(c=u[p],null!==c&&"object"==typeof c){if("_type"in c&&"_value"in c){var g=c._type,f=this._datatypeMap[g];if(!f)throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+g+"'");
if(t.isFunction(f))u[p]=new f(c._value);else{if(!t.isFunction(f.deserialize))throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");u[p]=f.deserialize(c._value)}}if(c._reference){var _=c._reference;if(t.isObject(_))for(var y=0;y<this._arrayOfAllItems.length;++y){var v=this._arrayOfAllItems[y],b=!0;for(var k in _)v[k]!=_[k]&&(b=!1);b&&(u[p]=v)}else u[p]=this._getItemByIdentity(_);if(this.referenceIntegrity){var w=u[p];this.isItem(w)&&this._addReferenceToMap(w,s,l)}}else this.isItem(c)&&this.referenceIntegrity&&this._addReferenceToMap(c,s,l)}}}},_addReferenceToMap:function(){},getIdentity:function(e){var t=this._features["dojo.data.api.Identity"];if(t===Number)return e[this._itemNumPropName];var i=e[t];return i?i[0]:null},fetchItemByIdentity:function(t){var i,o;if(this._loadFinished)i=this._getItemByIdentity(t.identity),t.onItem&&(o=t.scope?t.scope:e.global,t.onItem.call(o,i));else{var a=this;if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this._ccUrl=this._jsonFileUrl,this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,this._ccUrl=this.url),null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:t});else{this._loadInProgress=!0;var r={url:a._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk},s=n.get(r);s.addCallback(function(o){var n=t.scope?t.scope:e.global;try{a._getItemsFromLoadedData(o),a._loadFinished=!0,a._loadInProgress=!1,i=a._getItemByIdentity(t.identity),t.onItem&&t.onItem.call(n,i),a._handleQueuedFetches()}catch(r){a._loadInProgress=!1,t.onError&&t.onError.call(n,r)}}),s.addErrback(function(i){if(a._loadInProgress=!1,t.onError){var o=t.scope?t.scope:e.global;t.onError.call(o,i)}})}else this._jsonData&&(a._getItemsFromLoadedData(a._jsonData),a._jsonData=null,a._loadFinished=!0,i=a._getItemByIdentity(t.identity),t.onItem&&(o=t.scope?t.scope:e.global,t.onItem.call(o,i)))}},_getItemByIdentity:function(e){var t=null;return this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,e)&&(t=this._itemsByIdentity[e]):Object.hasOwnProperty.call(this._arrayOfAllItems,e)&&(t=this._arrayOfAllItems[e]),void 0===t&&(t=null),t},getIdentityAttributes:function(){var e=this._features["dojo.data.api.Identity"];return e===Number?null:[e]},_forceLoad:function(){var t=this;if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this._ccUrl=this._jsonFileUrl,this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,this._ccUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl){var i={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0},o=n.get(i);o.addCallback(function(e){try{if(t._loadInProgress===!0||t._loadFinished){if(t._loadInProgress)throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.")}else t._getItemsFromLoadedData(e),t._loadFinished=!0}catch(i){throw i}}),o.addErrback(function(e){throw e})}else this._jsonData&&(t._getItemsFromLoadedData(t._jsonData),t._jsonData=null,t._loadFinished=!0)}});return t.extend(d,s),d})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(e){var t={};return e.setObject("dojo.data.util.filter",t),t.patternToRegExp=function(e,t){for(var i="^",o=null,n=0;n<e.length;n++)switch(o=e.charAt(n)){case"\\":i+=o,n++,i+=e.charAt(n);break;case"*":i+=".*";break;case"?":i+=".";break;case"$":case"^":case"/":case"+":case".":case"|":case"(":case")":case"{":case"}":case"[":case"]":i+="\\";default:i+=o}return i+="$",t?new RegExp(i,"mi"):new RegExp(i,"m")},t})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(e,t,i){var o={};return e.setObject("dojo.data.util.simpleFetch",o),o.errorHandler=function(e,i){if(i.onError){var o=i.scope||t.global;i.onError.call(o,e,i)}},o.fetchHandler=function(e,o){var n=o.abort||null,a=!1,r=o.start?o.start:0,s=o.count&&1/0!==o.count?r+o.count:e.length;o.abort=function(){a=!0,n&&n.call(o)};var l=o.scope||t.global;if(o.store||(o.store=this),o.onBegin&&o.onBegin.call(l,e.length,o),o.sort&&e.sort(i.createSortFunction(o.sort,this)),o.onItem)for(var d=r;d<e.length&&s>d;++d){var c=e[d];a||o.onItem.call(l,c,o)}if(o.onComplete&&!a){var u=null;o.onItem||(u=e.slice(r,s)),o.onComplete.call(l,u,o)}},o.fetch=function(t){return t=t||{},t.store||(t.store=this),this._fetchItems(t,e.hitch(this,"fetchHandler"),e.hitch(this,"errorHandler")),t},o})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(e){var t={};return e.setObject("dojo.data.util.sorter",t),t.basicComparator=function(e,t){var i=-1;return null===e&&(e=void 0),null===t&&(t=void 0),e==t?i=0:(e>t||null==e)&&(i=1),i},t.createSortFunction=function(e,i){function o(e,t,i,o){return function(n,a){var r=o.getValue(n,e),s=o.getValue(a,e);return t*i(r,s)}}for(var n,a=[],r=i.comparatorMap,s=t.basicComparator,l=0;l<e.length;l++){n=e[l];var d=n.attribute;if(d){var c=n.descending?-1:1,u=s;r&&("string"!=typeof d&&"toString"in d&&(d=d.toString()),u=r[d]||s),a.push(o(d,c,u,i))}}return function(e,t){for(var i=0;i<a.length;){var o=a[i++](e,t);if(0!==o)return o}return 0}},t})},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(e,t,i,o){return e("dijit.ToolbarSeparator",[i,o],{templateString:'<div class="dijitToolbarSeparator dijitInline" role="presentation"></div>',buildRendering:function(){this.inherited(arguments),t.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(e,t,i,o,n){return e("dijit.form.ComboButton",o,{templateString:n,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(e){e.keyCode==t[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(i.focus(this._popupStateNode),e.stopPropagation(),e.preventDefault())},_onArrowKeyDown:function(e){e.keyCode==t[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(i.focus(this.titleNode),e.stopPropagation(),e.preventDefault())},focus:function(e){this.disabled||i.focus("start"==e?this.titleNode:this._popupStateNode)}})})},"dijit/PopupMenuItem":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(e,t,i,o,n,a,r){return e("dijit.PopupMenuItem",r,{_fillContent:function(){if(this.srcNodeRef){var e=o("*",this.srcNodeRef);this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},_openPopup:function(e,t){var o=this.popup;n.open(i.delegate(e,{popup:this.popup,around:this.domNode})),t&&o.focus&&o.focus()},_closePopup:function(){n.close(this.popup),this.popup.parentMenu=null},startup:function(){if(!this._started){if(this.inherited(arguments),!this.popup){var e=o("[widgetId]",this.dropDownContainer)[0];this.popup=a.byNode(e)}this.ownerDocumentBody.appendChild(this.popup.domNode),this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id),this.popup.startup(),this.popup.domNode.style.display="none",this.arrowWrapper&&t.set(this.arrowWrapper,"visibility",""),this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(e){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(e),delete this.popup),this.inherited(arguments)}})})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(e,t,i,o){return e("dijit.CheckedMenuItem",i,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:o,checked:!1,_setCheckedAttr:function(e){this.domNode.setAttribute("aria-checked",e?"true":"false"),this._set("checked",e)},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){},_onClick:function(e){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked)),this.onClick(e)}})})},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(e,t,i,o,n,a,r,s,l,d,c,u){var h=e("dijit.TooltipDialog",[s,c,d,l],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:u,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments),this.own(a(this.containerNode,"keydown",n.hitch(this,"_onKey")))},orient:function(e,i,o){var n={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[i+"-"+o];t.replace(this.domNode,n,this._currentOrientClass||""),this._currentOrientClass=n},focus:function(){this._getFocusItems(this.containerNode),r.focus(this._firstFocusItem)},onOpen:function(e){this.orient(this.domNode,e.aroundCorner,e.corner);var t=e.aroundNodePos;"M"==e.corner.charAt(0)&&"M"==e.aroundCorner.charAt(0)?(this.connectorNode.style.top=t.y+(t.h-this.connectorNode.offsetHeight>>1)-e.y+"px",this.connectorNode.style.left=""):"M"==e.corner.charAt(1)&&"M"==e.aroundCorner.charAt(1)&&(this.connectorNode.style.left=t.x+(t.w-this.connectorNode.offsetWidth>>1)-e.x+"px"),this._onShow()},onClose:function(){this.onHide()},_onKey:function(e){if(e.keyCode==o.ESCAPE)this.defer("onCancel"),e.stopPropagation(),e.preventDefault();else if(e.keyCode==o.TAB){var t=e.target;this._getFocusItems(this.containerNode),this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):t==this._firstFocusItem&&e.shiftKey?(r.focus(this._lastFocusItem),e.stopPropagation(),e.preventDefault()):t!=this._lastFocusItem||e.shiftKey?e.stopPropagation():(r.focus(this._firstFocusItem),e.stopPropagation(),e.preventDefault())}}});return i("dojo-bidi")&&h.extend({_setTitleAttr:function(e){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,e):e,this._set("title",e)},_setTextDirAttr:function(e){this._created&&this.textDir==e||(this._set("textDir",e),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}}),h})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(e,t){return e("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute(),this.execute(this.get("value"))},_getFocusItems:function(){var e=t._getTabNavigable(this.containerNode);this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode,this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})})},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(e,t,i,o,n,a){return t("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(t){var i=[];return e.forEach(t||this.getChildren(),function(e){"value"in e?i.push(e):i=i.concat(this._getDescendantFormWidgets(e.getChildren()))},this),i},reset:function(){e.forEach(this._getDescendantFormWidgets(),function(e){e.reset&&e.reset()})},validate:function(){var t=!1;return e.every(e.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var i=e.disabled||!e.validate||e.validate();return i||t||(a.scrollIntoView(e.containerNode||e.domNode),e.focus(),t=!0),i}),function(e){return e})},setValues:function(e){return i.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0"),this.set("value",e)},_setValueAttr:function(t){var i={};e.forEach(this._getDescendantFormWidgets(),function(e){if(e.name){var t=i[e.name]||(i[e.name]=[]);t.push(e)}});for(var n in i)if(i.hasOwnProperty(n)){var a=i[n],r=o.getObject(n,!1,t);void 0!==r&&(r=[].concat(r),"boolean"==typeof a[0].checked?e.forEach(a,function(t){t.set("value",-1!=e.indexOf(r,t._get("value")))}):a[0].multiple?a[0].set("value",r):e.forEach(a,function(e,t){e.set("value",r[t])}))}},getValues:function(){return i.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},_getValueAttr:function(){var t={};return e.forEach(this._getDescendantFormWidgets(),function(e){var i=e.name;if(i&&!e.disabled){var n=e.get("value");if("boolean"==typeof e.checked)if(/Radio/.test(e.declaredClass))n!==!1?o.setObject(i,n,t):(n=o.getObject(i,!1,t),void 0===n&&o.setObject(i,null,t));else{var a=o.getObject(i,!1,t);a||(a=[],o.setObject(i,a,t)),n!==!1&&a.push(n)}else{var r=o.getObject(i,!1,t);"undefined"!=typeof r?o.isArray(r)?r.push(n):o.setObject(i,[r,n],t):o.setObject(i,n,t)}}}),t},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var t=e.map(this._descendants,function(e){return e.get("state")||""});return e.indexOf(t,"Error")>=0?"Error":e.indexOf(t,"Incomplete")>=0?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(t){this._descendants=this._getDescendantFormWidgets(),e.forEach(this._descendants,function(e){e._started||e.startup()}),t||this._onChildChange()},_onChildChange:function(e){e&&"state"!=e&&"disabled"!=e||this._set("state",this._getState()),e&&"value"!=e&&"disabled"!=e&&"checked"!=e||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer,this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments),this._descendants=this._getDescendantFormWidgets(),this.value=this.get("value"),this.state=this._getState();var e=this;this.own(n(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(t){t.target!=e.domNode&&e._onChildChange(t.type.replace("attrmodified-",""))})),this.watch("state",function(e,t,i){this.onValidStateChange(""==i)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(e,t){t.getDocumentWindow=function(t){return e.get(t)}})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(e,t,i){var o={hasWaiRole:function(e,t){var i=this.getWaiRole(e);return t?i.indexOf(t)>-1:i.length>0},getWaiRole:function(i){return t.trim((e.get(i,"role")||"").replace("wairole:",""))},setWaiRole:function(t,i){e.set(t,"role",i)},removeWaiRole:function(i,o){var n=e.get(i,"role");if(n)if(o){var a=t.trim((" "+n+" ").replace(" "+o+" "," "));e.set(i,"role",a)}else i.removeAttribute("role")},hasWaiState:function(e,t){return e.hasAttribute?e.hasAttribute("aria-"+t):!!e.getAttribute("aria-"+t)},getWaiState:function(e,t){return e.getAttribute("aria-"+t)||""},setWaiState:function(e,t,i){e.setAttribute("aria-"+t,i)},removeWaiState:function(e,t){e.removeAttribute("aria-"+t)}};return t.mixin(i,o),i})},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,t,i,o,n,a){var r=a.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(i.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(e,t,o,n,a,r,s,l){if(a!=this._obj){this.stop(),this._initialDelay=s||500,this._subsequentDelay=r||.9,this._minDelay=l||10,this._obj=a,this._node=o,this._currentTimeout=-1,this._count=-1,this._callback=i.hitch(t,n),this._evt={faux:!0};for(var d in e)if("layerX"!=d&&"layerY"!=d){var c=e[d];"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[d]=c)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(n,a,s,l,d,c,u){var h="keyCode"in a?"keydown":"charCode"in a?"keypress":t._keypress,m="keyCode"in a?"keyCode":"charCode"in a?"charCode":"charOrCode",p=[o(n,h,i.hitch(this,function(e){e[m]!=a[m]||void 0!==a.ctrlKey&&a.ctrlKey!=e.ctrlKey||void 0!==a.altKey&&a.altKey!=e.altKey||void 0!==a.metaKey&&a.metaKey!=(e.metaKey||!1)||void 0!==a.shiftKey&&a.shiftKey!=e.shiftKey?r._obj==a&&r.stop():(e.stopPropagation(),e.preventDefault(),r.trigger(e,s,n,l,a,d,c,u))})),o(n,"keyup",i.hitch(this,function(){r._obj==a&&r.stop()}))];return{remove:function(){e.forEach(p,function(e){e.remove()})}}},addMouseListener:function(t,a,s,l,d,c){var u=[o(t,"mousedown",i.hitch(this,function(e){e.preventDefault(),r.trigger(e,a,t,s,t,l,d,c)})),o(t,"mouseup",i.hitch(this,function(e){this._obj&&e.preventDefault(),r.stop()})),o(t,"mouseout",i.hitch(this,function(e){this._obj&&e.preventDefault(),r.stop()})),o(t,"dblclick",i.hitch(this,function(e){e.preventDefault(),n("ie")<9&&(r.trigger(e,a,t,s,t,l,d,c),setTimeout(i.hitch(this,r.stop),50))}))];return{remove:function(){e.forEach(u,function(e){e.remove()})}}},addListener:function(t,i,o,n,a,r,s,l){var d=[this.addKeyListener(i,o,n,a,r,s,l),this.addMouseListener(t,n,a,r,s,l)];return{remove:function(){e.forEach(d,function(e){e.remove()})}}}};return r})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/_base":function(){define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(e){return e._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(e,t,i,o){var n=t("dijit.WidgetSet",null,{constructor:function(){this._hash={},this.length=0},add:function(e){if(this._hash[e.id])throw new Error("Tried to register widget with id=="+e.id+" but that id is already registered");this._hash[e.id]=e,this.length++},remove:function(e){this._hash[e]&&(delete this._hash[e],this.length--)},forEach:function(e,t){t=t||i.global;var o,n=0;for(o in this._hash)e.call(t,this._hash[o],n++,this._hash);return this},filter:function(e,t){t=t||i.global;var o,a=new n,r=0;for(o in this._hash){var s=this._hash[o];e.call(t,s,r++,this._hash)&&a.add(s)}return a},byId:function(e){return this._hash[e]},byClass:function(e){var t,i,o=new n;for(t in this._hash)i=this._hash[t],i.declaredClass==e&&o.add(i);return o},toArray:function(){var e=[];for(var t in this._hash)e.push(this._hash[t]);return e},map:function(t,i){return e.map(this.toArray(),t,i)},every:function(e,t){t=t||i.global;var o,n=0;for(o in this._hash)if(!e.call(t,this._hash[o],n++,this._hash))return!1;return!0},some:function(e,t){t=t||i.global;var o,n=0;for(o in this._hash)if(e.call(t,this._hash[o],n++,this._hash))return!0;return!1}});return e.forEach(["forEach","filter","byClass","map","every","some"],function(e){o[e]=n.prototype[e]}),n})},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(e,t,i,o,n,a,r,s){var l={_curFocus:null,_prevFocus:null,isCollapsed:function(){return s.getBookmark().isCollapsed},getBookmark:function(){var e=n.global==window?r:new r.SelectionManager(n.global);return e.getBookmark()},moveToBookmark:function(e){var t=n.global==window?r:new r.SelectionManager(n.global);return t.moveToBookmark(e)},getFocus:function(e,i){var o=!a.curNode||e&&t.isDescendant(a.curNode,e.domNode)?s._prevFocus:a.curNode;return{node:o,bookmark:o&&o==a.curNode&&n.withGlobal(i||n.global,s.getBookmark),openedForWindow:i}},_activeStack:[],registerIframe:function(e){return a.registerIframe(e)},unregisterIframe:function(e){e&&e.remove()},registerWin:function(e,t){return a.registerWin(e,t)},unregisterWin:function(e){e&&e.remove()}};return a.focus=function(e){if(e){var t="node"in e?e.node:e,i=e.bookmark,o=e.openedForWindow,r=i?i.isCollapsed:!1;if(t){var l="iframe"==t.tagName.toLowerCase()?t.contentWindow:t;if(l&&l.focus)try{l.focus()}catch(d){}a._onFocusNode(t)}if(i&&n.withGlobal(o||n.global,s.isCollapsed)&&!r){o&&o.focus();try{n.withGlobal(o||n.global,s.moveToBookmark,null,[i])}catch(c){}}}},a.watch("curNode",function(e,t,i){s._curFocus=i,s._prevFocus=t,i&&o.publish("focusNode",i)}),a.watch("activeStack",function(e,t,i){s._activeStack=i}),a.on("widget-blur",function(e,t){o.publish("widgetBlur",e,t)}),a.on("widget-focus",function(e,t){o.publish("widgetFocus",e,t)}),i.mixin(s,l),s})},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(e,t,i,o,n,a){var r=function(r){var s=r.document;this.getType=function(){if(s.getSelection){var e,t="text";try{e=r.getSelection()}catch(i){}if(e&&1==e.rangeCount){var o=e.getRangeAt(0);o.startContainer==o.endContainer&&o.endOffset-o.startOffset==1&&3!=o.startContainer.nodeType&&(t="control")}return t}return s.selection.type.toLowerCase()},this.getSelectedText=function(){if(s.getSelection){var e=r.getSelection();return e?e.toString():""}return"control"==this.getType()?null:s.selection.createRange().text},this.getSelectedHtml=function(){if(s.getSelection){var e=r.getSelection();if(e&&e.rangeCount){var t,i="";for(t=0;t<e.rangeCount;t++){var o=e.getRangeAt(t).cloneContents(),n=s.createElement("div");n.appendChild(o),i+=n.innerHTML}return i}return null}return"control"==this.getType()?null:s.selection.createRange().htmlText},this.getSelectedElement=function(){if("control"==this.getType()){if(s.getSelection){var e=r.getSelection();return e.anchorNode.childNodes[e.anchorOffset]}var t=s.selection.createRange();if(t&&t.item)return s.selection.createRange().item(0)}return null},this.getParentElement=function(){if("control"==this.getType()){var e=this.getSelectedElement();if(e)return e.parentNode}else{if(!s.getSelection){var t=s.selection.createRange();return t.collapse(!0),t.parentElement()}var i=s.getSelection();if(i){for(var o=i.anchorNode;o&&1!=o.nodeType;)o=o.parentNode;return o}}return null},this.hasAncestorElement=function(){return null!=this.getAncestorElement.apply(this,arguments)},this.getAncestorElement=function(){var e=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(e,arguments)},this.isTag=function(e,t){if(e&&e.tagName)for(var i=e.tagName.toLowerCase(),o=0;o<t.length;o++){var n=String(t[o]).toLowerCase();if(i==n)return n}return""},this.getParentOfType=function(e,t){for(;e;){if(this.isTag(e,t).length)return e;e=e.parentNode}return null},this.collapse=function(e){if(s.getSelection){var t=r.getSelection();t.removeAllRanges?e?t.collapseToStart():t.collapseToEnd():t.collapse(e)}else{var i=s.selection.createRange();i.collapse(e),i.select()}},this.remove=function(){var e=s.selection;return s.getSelection?(e=r.getSelection(),e.deleteFromDocument(),e):("none"!=e.type.toLowerCase()&&e.clear(),e)},this.selectElementChildren=function(e,i){var n;if(e=t.byId(e),s.getSelection){var a=r.getSelection();o("opera")?(n=a.rangeCount?a.getRangeAt(0):s.createRange(),n.setStart(e,0),n.setEnd(e,3==e.nodeType?e.length:e.childNodes.length),a.addRange(n)):a.selectAllChildren(e)}else if(n=e.ownerDocument.body.createTextRange(),n.moveToElementText(e),!i)try{n.select()}catch(l){}},this.selectElement=function(e,i){var a;if(e=t.byId(e),s.getSelection){var r=s.getSelection();a=s.createRange(),r.removeAllRanges&&(o("opera")&&r.getRangeAt(0)&&(a=r.getRangeAt(0)),a.selectNode(e),r.removeAllRanges(),r.addRange(a))}else try{var l=e.tagName?e.tagName.toLowerCase():"";a="img"===l||"table"===l?n.body(s).createControlRange():n.body(s).createRange(),a.addElement(e),i||a.select()}catch(d){this.selectElementChildren(e,i)}},this.inSelection=function(e){if(e){var t,i;if(s.getSelection){var o=r.getSelection();if(o&&o.rangeCount>0&&(i=o.getRangeAt(0)),i&&i.compareBoundaryPoints&&s.createRange)try{if(t=s.createRange(),t.setStart(e,0),1===i.compareBoundaryPoints(i.START_TO_END,t))return!0}catch(n){}}else{i=s.selection.createRange();try{t=e.ownerDocument.body.createTextRange(),t.moveToElementText(e)}catch(a){}if(i&&t&&1===i.compareEndPoints("EndToStart",t))return!0}}return!1},this.getBookmark=function(){var e,t,i,o=s.selection,n=a.curNode;if(s.getSelection){if(o=r.getSelection())if(o.isCollapsed){if(i=n?n.tagName:"",i&&(i=i.toLowerCase(),"textarea"==i||"input"==i&&(!n.type||"text"==n.type.toLowerCase())))return o={start:n.selectionStart,end:n.selectionEnd,node:n,pRange:!0},{isCollapsed:o.end<=o.start,mark:o};e={isCollapsed:!0},o.rangeCount&&(e.mark=o.getRangeAt(0).cloneRange())}else t=o.getRangeAt(0),e={isCollapsed:!1,mark:t.cloneRange()}}else if(o){if(i=n?n.tagName:"",i=i.toLowerCase(),n&&i&&("button"==i||"textarea"==i||"input"==i))return o.type&&"none"==o.type.toLowerCase()?{isCollapsed:!0,mark:null}:(t=o.createRange(),{isCollapsed:t.text&&t.text.length?!1:!0,mark:{range:t,pRange:!0}});e={};try{t=o.createRange(),e.isCollapsed=!("Text"==o.type?t.htmlText.length:t.length)}catch(l){return e.isCollapsed=!0,e}if("CONTROL"==o.type.toUpperCase())if(t.length){e.mark=[];for(var d=0,c=t.length;c>d;)e.mark.push(t.item(d++))}else e.isCollapsed=!0,e.mark=null;else e.mark=t.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return e},this.moveToBookmark=function(t){var o=t.mark;if(o)if(s.getSelection){var n=r.getSelection();if(n&&n.removeAllRanges)if(o.pRange){var a=o.node;a.selectionStart=o.start,a.selectionEnd=o.end}else n.removeAllRanges(),n.addRange(o);else console.warn("No idea how to restore selection for this browser!")}else if(s.selection&&o){var l;o.pRange?l=o.range:i.isArray(o)?(l=s.body.createControlRange(),e.forEach(o,function(e){l.addElement(e)})):(l=s.body.createTextRange(),l.moveToBookmark(o)),l.select()}},this.isCollapsed=function(){return this.getBookmark().isCollapsed}},s=new r(window);return s.SelectionManager=r,s})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(e,t,i,o,n){var a={};return a.getViewport=function(){return i.getBox()},a.placeOnScreen=o.at,a.placeOnScreenAroundElement=function(e,i,n,a){var r;if(t.isArray(n))r=n;else{r=[];for(var s in n)r.push({aroundCorner:s,corner:n[s]})}return o.around(e,i,r,!0,a)},a.placeOnScreenAroundNode=a.placeOnScreenAroundElement,a.placeOnScreenAroundRectangle=a.placeOnScreenAroundElement,a.getPopupAroundAlignment=function(t,i){var o={};return e.forEach(t,function(e){var t=i;switch(e){case"after":o[i?"BR":"BL"]=i?"BL":"BR";break;case"before":o[i?"BL":"BR"]=i?"BR":"BL";break;case"below-alt":t=!t;case"below":o[t?"BL":"BR"]=t?"TL":"TR",o[t?"BR":"BL"]=t?"TR":"TL";break;case"above-alt":t=!t;case"above":default:o[t?"TL":"TR"]=t?"BL":"BR",o[t?"TR":"TL"]=t?"BR":"BL"}}),o},t.mixin(n,a),n})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(e,t,i){var o=i._createWrapper;i._createWrapper=function(i){return i.declaredClass||(i={_popupWrapper:i.parentNode&&e.contains(i.parentNode,"dijitPopup")?i.parentNode:null,domNode:i,destroy:function(){},ownerDocument:i.ownerDocument,ownerDocumentBody:t.body(i.ownerDocument)}),o.call(this,i)};var n=i.open;return i.open=function(e){if(e.orient&&"string"!=typeof e.orient&&!("length"in e.orient)){var t=[];for(var i in e.orient)t.push({aroundCorner:i,corner:e.orient[i]});e.orient=t}return n.call(this,e)},i})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(e,t){t.scrollIntoView=function(t,i){e.scrollIntoView(t,i)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"viewer/main/App":function(){define(["dojo","dijit","dojox","dojo/require!dojo/cookie,viewer/util/uri,viewer/util/BidiUtils"],function(e){e.provide("viewer.main.App"),e.require("dojo.cookie"),e.require("viewer.util.uri"),e.require("viewer.util.BidiUtils"),e.declare("viewer.main.App",null,{TEXTDOC_SCENE:"viewer.scenes.TextDocScene",SHEETDOC_SCENE:"viewer.scenes.SheetDocScene",PRESDOC_SCENE:"viewer.scenes.PresDocScene",PDFDOC_SCENE:"viewer.scenes.PdfDocScene",PDFJSDOC_SCENE:"viewer.scenes.PdfJsDocScene",authenticatedUser:null,scene:null,constructor:function(){},init:function(e){return this.document=this.d=e,this.scene=null,!0},start:function(e){if(this.checkExists())return window.name="",void viewer.scenes.ErrorScene.renderError(3001);this.registerOpenDocs(),DOC_SCENE.focusWindow&&window.focus();var t=this.resolveUri(e);this.load(t)},getWindowName:function(){var e=DOC_SCENE.uri.replace(/[-\s.@]/g,"_");return e},checkExists:function(){if("edit"==DOC_SCENE.mode){var e=this.getOpenedDocs(),t=this.getWindowName();if(!e[t])return!1;var i=window.open("",t);return i?"about:blank"===i.location.href||"_blank"===i.location.href?(i.close(),this.unregisterOpenDocs(),!1):i===window.self?!1:(i.focus(),!0):!1}return!1},getOpenedDocs:function(){var t=e.cookie("IBMDocsOpenedDocs"),i={};return null!=t&&0!=t.length&&(i=e.fromJson(t)),i},registerOpenDocs:function(){if("edit"==DOC_SCENE.mode){var t=this.getWindowName();window.name=t;var i={path:contextPath},o=this.getOpenedDocs();o[t]=!0;var n=e.toJson(o);e.cookie("IBMDocsOpenedDocs",n,i)}},unregisterOpenDocs:function(t){if("edit"==DOC_SCENE.mode){var i={path:contextPath},o=this.getOpenedDocs();t?o[t]=!1:o[window.name]=!1;var n=e.toJson(o);e.cookie("IBMDocsOpenedDocs",n,i),t||(window.name="")}},load:function(t){var i=this.decodeState(t),o=i.id;if(!o)throw"No scene identifier from decodeState()";var n=e;if(7!=n.isIE){n.require(o);var a=e.getObject(o);if(!o)throw"No object defined for '"+o+"'";var r=new a(this,i),s=this.scene;s&&s.end(r),this.scene=r,r.begin(s)}},decodeState:function(e){if(DOC_SCENE.parameters=e.queryParameters,"text"==DOC_SCENE.type)DOC_SCENE.id=this.TEXTDOC_SCENE;else if("sheet"==DOC_SCENE.type)DOC_SCENE.id=this.SHEETDOC_SCENE;else if("pres"==DOC_SCENE.type)DOC_SCENE.id=this.PRESDOC_SCENE;else{if("pdf"!=DOC_SCENE.type)throw"unsupported";DOC_SCENE.id="true"==DOC_SCENE.isPDFJsViewMode?this.PDFJSDOC_SCENE:this.PDFDOC_SCENE}return DOC_SCENE},resolveUri:function(t){var i;if("string"==typeof t)i=viewer.util.uri.parseUri(t);else{if(!(t instanceof e._Url))throw"resolveUri requires a string or dojo._Url";i=t}return i},leave:function(){void 0!=this.scene.session&&this.scene.session.leave()}}),viewer.main.App.onLoad=function(t,i){BidiUtils.isGuiRtl()&&(e.query("body").addClass("dijitRtl"),document.documentElement.dir="rtl");var o=t.dojo;try{o.require(i);var n=o.getObject(i),i=new n;if(t.pe||(t.pe=i),!i.init(document))return;setTimeout(function(){i.start(t.location.href)},0)}catch(a){throw a}},viewer.main.App.onUnload=function(e){try{var t=e.pe;t.unregisterOpenDocs()}catch(i){}},viewer.main.App.onWindowUnload=function(e){e.divQueue=null,e._docArray=null,e.viewer=null,e.websheet=null,e.RDOMeditor=null,e.pe=null
},viewer.main.App.executeRegex=function(e,t,i){i.splice(0,i.length);var o=e.exec(t);if(o){for(var n=0;n<o.length;n++)i.push(o[n]);return!0}return!1}})},"viewer/util/uri":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.util.uri"),viewer.util.uri.parseUri=function(t){return t?("string"!=typeof t&&console.trace&&console.warn("parseUri called with a non string argument"),t=new e._Url(t),t.queryParameters=viewer.util.uri.getRequestParameters(t),t):null},viewer.util.uri.splitQuery=function(t){var i={};if(!t)return i;"?"==t.charAt(0)&&(t=t.substring(1));for(var o=t.split("&"),n=0;n<o.length;n++)if(o[n].length>0){var a=o[n].indexOf("=");if(-1==a){var r=decodeURIComponent(o[n]),s=i[r];e.isArray(s)?s.push(""):i[r]=s?[s,""]:""}else if(a>0){var r=decodeURIComponent(o[n].substring(0,a)),l=decodeURIComponent(o[n].substring(a+1)),s=i[r];e.isArray(s)?s.push(l):i[r]=s?[s,l]:l}}return i},viewer.util.uri.getRequestParameters=function(t){return t||(t=window.location.href),"string"==typeof t&&(t=new e._Url(t)),viewer.util.uri.splitQuery(t.query)},viewer.util.uri.getDocPageUri=function(e){var t=viewer.util.uri.getDocPageRoot(e)+"/content";return t},viewer.util.uri.getDocPageRoot=function(e){var t;return e?(t=contextPath+"/app/"+e.getRepository()+"/"+e.getUri(),e.getVersion()&&(t=t+"/"+e.getVersion())):(t=contextPath+"/app/"+DOC_SCENE.repository+"/"+DOC_SCENE.uri,DOC_SCENE.version&&(t=t+"/"+DOC_SCENE.version)),t},viewer.util.uri.getDocPageUriById=function(e){var t=contextPath+"/app/"+e+"/content";return t},viewer.util.uri.getDocServiceRoot=function(){return contextPath+"/api/docsvr"},viewer.util.uri.getDocUri=function(e){return e||(e=window.pe.scene.bean),e?viewer.util.uri.getDocServiceRoot()+"/"+e.getRepository()+"/"+e.getUri():viewer.util.uri.getDocServiceRoot()+"/"+DOC_SCENE.repository+"/"+DOC_SCENE.uri},viewer.util.uri.getThumbnailRootUri=function(e){return viewer.util.uri.getDocPageRoot(e)+"/thumbnails"},viewer.util.uri.getHtmlRoot=function(e){var t;return t=e?contextPath+"/app/"+e.getRepository()+"/"+e.getUri():contextPath+"/app/"+DOC_SCENE.repository+"/"+DOC_SCENE.uri},viewer.util.uri.getHTMLRootUri=function(e){return viewer.util.uri.getDocPageRoot(e)+"/pictures"},viewer.util.uri.injectCSS=function(t,i,o){if(!t||!i)throw new Error("viewer.util.uri.injectCSS: Error injecting CSS "+i+" in document.");var n=null,a=!1;n=0==o?i:viewer.util.uri.getEditAttUri(i);var r=e.query("link",t);if(null!=r&&r.length>0)for(var s=0;s<r.length;s++){var l,d,c=r[s].getAttribute("href"),u=r[s].getAttribute("src");null!=c?l=c.indexOf(n):null!=u&&(l=u.indexOf(n)),null!=n&&null!=c?d=n.indexOf(c):null!=n&&null!=u&&(d=n.indexOf(u)),(l>=0||d>=0)&&(a=!0)}if(!a){var h=t.createElement("link");h.rel="stylesheet",h.href=n;var m=t.getElementsByTagName("head")[0];if(!m)throw new Error("viewer.util.uri.injectCSS: Error injecting CSS "+i+" in document.");m.appendChild(h)}},viewer.util.uri.removeCSS=function(t,i){if(t&&i){for(var o=e.query("link",t),n=o.length-1;n>=0;n--)if(o[n].href.indexOf(i)>=0){e.destroy(o[n]);break}for(var a=e.query("style",t),n=a.length-1;n>=0;n--){var r=a[n].getAttribute("styleName"),s=null!=r?r.indexOf(i):-1;if(s>=0){e.destroy(a[n]);break}}}},viewer.util.uri.moveCSS2End=function(t,i){if(t&&i)for(var o=e.query("link",t),n=o.length-1;n>=0;n--)if(o[n].href.indexOf(i)>=0){var a=t.getElementsByTagName("head")[0];a&&a.appendChild(o[n]);break}},viewer.util.uri.injectCssStyle=function(t,i,o){if(t&&i){var n=null,a=!1;n=0==o?i:viewer.util.uri.getEditAttUri(i);var r=e.query("style",t);if(null!=r&&r.length>0)for(var s=0;s<r.length;s++){var l=r[s].getAttribute("styleName"),d=null!=l?l.indexOf(i):-1;if(d>=0)return a=!0,r[s]}var c=n,u=null,h={url:c,handleAs:"text",load:function(e){u=viewer.util.uri.addSidToStyleImage(e)},sync:!0,preventCache:!0,error:function(e){507==e.status&&setTimeout(window.location.reload(),2e3)}};try{{e.xhrGet(h)}if(u){var m=t.createElement("style");e.attr(m,"styleName",i),e.attr(m,"type","text/css");var p=t.createTextNode(u);m.styleSheet?m.styleSheet.cssText=p.nodeValue:m.appendChild(p);var g=t.getElementsByTagName("head")[0];if(g)return g.appendChild(m),m}}catch(f){}}},viewer.util.uri.getContext=function(e){var t="";if(null!=e&&e.length>0){var i=e.indexOf("/",8);t=e.substring(i+1,e.indexOf("/",i+1))}return t},viewer.util.uri.hasContext=function(e,t){var i=!1;if(null!=e&&e.length>0){null==t&&(t=window.location.toString());var o=-1;t.indexOf("http")>=0?o=t.indexOf("/",8):0==t.indexOf("/")&&(o=0);var n=t.substring(o+1,t.indexOf("/",o+1));e==n&&(i=!0)}return i},viewer.util.uri.getUploadedAttachmentURL=function(t,i,o){var n=null,a=null;if(null==i&&(i=viewer.util.uri.getPasteAttachmentURL()),null!=t&&t.length>0&&null!=i&&i.length>0){var r=window.contextPath,s=t.indexOf(r+"/");t=t.substring(s);var l=new Object;l.imgId=o,l.uri=t;var d=e.toJson(l);window.g_viewerInDebugMode;var c,u;e.xhrPost({url:i,handleAs:"json",handle:function(e,t){c=e,u=t,n=c.uri,a=c.imgId,window.g_viewerInDebugMode},sync:!0,contentType:"text/plain",postData:d})}return n},viewer.util.uri.createStyleNode=function(t,i,o){var n=o.createElement("style");e.attr(n,"type","text/css"),t?(e.attr(n,"styleName",e.attr(t,"styleName")),rulesText=t.styleSheet?t.styleSheet.cssText:t.innerHTML):rulesText=i;var a=o.createTextNode(rulesText);n.styleSheet?n.styleSheet.cssText=a.nodeValue:n.appendChild(a);var r=o.getElementsByTagName("head")[0];r&&r.appendChild(n)},viewer.util.uri.addSidToStyleImage=function(e){var t=e,i=/url\(['"]Pictures\/(.*?)['"]/gi,o=i.exec(t);for(i.lastIndex=0;null!=o;){var n=o[0],a=n.replace("Pictures",DOC_SCENE.version+"/Pictures");if("null"!=DOC_SCENE.snapshotId){var r="?sid=";-1!=n.indexOf("?")&&(r="&sid="),a=a.trim(),a=a.substring(0,a.length-1)+r+DOC_SCENE.snapshotId+a.substring(a.length-1)}t=t.replace(n,a),i.lastIndex=o.index+o[0].length,o=i.exec(t)}return t},viewer.util.uri.addSidToContentImage=function(e){var t=e,i=/<img(.*?)src=['"]Pictures\/(.*?)>/gi,o=i.exec(t);for(i.lastIndex=0;null!=o;){var n=o[0],a=/src=['"]Pictures\/(.*?)['"]/gi,r=a.exec(n);for(a.lastIndex=0;null!=r;){var s=r[0],l="?sid=";-1!=s.indexOf("?")&&(l="&sid="),s=s.substring(0,s.length-1)+l+DOC_SCENE.snapshotId+s.substring(s.length-1)+' onerror="pe.scene.monitorSnapshotStatus(this)"',s=s.replace('src="Pictures','src="'+DOC_SCENE.version+"/Pictures"),n=n.replace(r[0],s),a.lastIndex=r.index+r[0].length,r=a.exec(n)}t=t.replace(o[0],n),i.lastIndex=o.index+o[0].length,o=i.exec(t)}return t},viewer.util.uri.injectStyle=function(t,i){var o=t.createElement("style");e.attr(o,"type","text/css");var n=t.createTextNode(i);o.styleSheet?o.styleSheet.cssText=n.nodeValue:o.appendChild(n);var a=t.getElementsByTagName("head")[0];a&&a.appendChild(o)},viewer.util.uri.getHTMLDocPageRoot=function(){var e=contextPath+"/app/"+DOC_SCENE.repoUri+"/"+DOC_SCENE.docUri;return DOC_SCENE.version&&(e=e+"/"+DOC_SCENE.version+"/"),e},viewer.util.uri.addSnapshotID=function(t){for(var i=e.query(".draw_image",t),o=0;o<i.length;o++)i[o].src=i[o].src+"?sid="+DOC_SCENE.snapshotId}})},"viewer/util/BidiUtils":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.util.BidiUtils"),e.declare("viewer.util.BidiUtils",null,{isRtl:null,init:function(){null==this.isRtl&&(!g_locale&&(g_locale=e.locale||navigator.userLanguage||navigator.language),this.isRtl="he"==g_locale.substr(0,2)||"iw"==g_locale.substr(0,2)||"ar"==g_locale.substr(0,2))},isGuiRtl:function(){return null==this.isRtl&&this.init(),this.isRtl}}),function(){BidiUtils=new viewer.util.BidiUtils}()})},"viewer/scenes/AbstractScene":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/scenes/nls/Scene","dojo/require!viewer/beans/Document,dojo/string,dijit/Toolbar,dijit/form/Button,dijit/form/ToggleButton,dijit/form/DropDownButton,dojox/html/metrics,dijit/ToolbarSeparator,dijit/Menu,dijit/MenuItem,dijit/form/Select,viewer/widgets/Zoomer,viewer/widgets/MessageBox,viewer/widgets/FloatBox,viewer/widgets/PagePicker,viewer/widgets/NormalContentContainer,viewer/widgets/ThumbnailPicker,viewer/widgets/ViewerToolbar,dijit/layout/BorderContainer,dijit/layout/ContentPane,dojox/html/metrics,viewer/util/Events,viewer/scenes/ErrorScene,viewer/widgets/MessageBox,viewer/print/PrintManager,viewer/widgets/LotusTextButton,viewer/util/BidiUtils,viewer/widgets/PageIndicator,viewer/widgets/NavigatorBarManager"],function(e,t,i){e.provide("viewer.scenes.AbstractScene"),e.require("viewer.beans.Document"),e.require("dojo.string"),e.require("dijit.Toolbar"),e.require("dijit.form.Button"),e.require("dijit.form.ToggleButton"),e.require("dijit.form.DropDownButton"),e.require("dojox.html.metrics"),e.require("dijit.ToolbarSeparator"),e.require("dijit.Menu"),e.require("dijit.MenuItem"),e.require("dijit.form.Select"),e.require("viewer.widgets.Zoomer"),e.require("viewer.widgets.MessageBox"),e.require("viewer.widgets.FloatBox"),e.require("viewer.widgets.PagePicker"),e.require("viewer.widgets.NormalContentContainer"),e.require("viewer.widgets.ThumbnailPicker"),e.require("viewer.widgets.ViewerToolbar"),e.require("dijit.layout.BorderContainer"),e.require("dijit.layout.ContentPane"),e.require("dojox.html.metrics"),e.require("viewer.util.Events"),e.require("viewer.scenes.ErrorScene"),e.require("viewer.widgets.MessageBox"),e.require("viewer.print.PrintManager"),e.require("viewer.widgets.LotusTextButton"),e.require("viewer.util.BidiUtils"),e.require("viewer.widgets.PageIndicator"),e.require("viewer.widgets.NavigatorBarManager"),e.requireLocalization("viewer.scenes","Scene"),e.declare("viewer.scenes.AbstractScene",null,{app:null,doc:null,jobId:null,currentPage:0,scale:0,style:"fitWidth",currentMode:null,mediaSize:-1,thumbnailView:null,views:{},nls:null,printManager:null,defaultMode:"Normal",DEFUALT_THUMBNAIL_WIDTH:133,DEFUALT_NORMAL_PAGE_WIDTH:1600,supportedMode:["Normal"],isDocsEnabled:!1,docsURI:null,isDocsSupportType:!1,isDocsEditor:!1,numberOfRetry:0,proxyErrorRetry:0,helpTail:null,ccmFrameId:"CCM_WIDGETS_IFRAME",compactMode:!1,constructor:function(t,o){if(this.nls=e.i18n.getLocalization("viewer.scenes","Scene"),this.app=t,this.jobId=o.jobId,this.doc=new viewer.beans.Document(o.title,o.type,o.repoUri,o.docUri,o.version,o.pageNum),this.doc.setPagesInfo(o.images),this.doc.getPagesInfo()[0]&&null!=this.doc.getPagesInfo()[0].getFullImageInfo()&&(this.DEFUALT_NORMAL_PAGE_WIDTH=this.doc.getPagesInfo()[0].getFullImageInfo().getPageWidth()),this.isDocsEnabled=o.isDocsEnabled,this.docsURI=o.docsURI,this.isDocsSupportType=o.isDocsSupportType,this.isDocsEditor=o.isDocsEditor,this.mediaSize=o.mediaSize,this.compactMode=DOC_SCENE.compactMode,this.compactMode&&(this.DEFAULT_STYLE="compact"),"smart_cloud"==g_env){var n=e.locale,a=n.split("-");n="pt-br"==n||"zh-cn"==n||"zh-tw"==n?a[0]+"_"+a[1].toUpperCase():a[0],this.helpTail="&lang="+n}else this.helpTail="";e.connect(window,"onresize",this,"updateUI"),e.connect(document,"onkeypress",this,this._onKeyPress),e.connect(i.html.metrics,"onFontResize",this,this._onFontResize)},begin:function(){this.authUser=this.app.authenticatedUser,this.show()},end:function(){},show:function(){this.render(this.defaultMode),this.preparePrintArea(),this.stage()},render:function(i){setTimeout(function(){var t=e.byId("headerBorderContainer");e.style(t,"width","")},0);var o=t.byId("headerPane"),n=e.byId("thumbnailPane"),a=t.byId("titlePane"),r=t.byId("toolbarPane"),s=e.byId("contentPane");if(this.compactMode){e.style(o.domNode,"display","none"),n&&e.style(n,"display","none");var l=e.byId("thumbnailPane_splitter");l&&e.style(l,"display","none"),e.style(document.body,"background","none transparent")}e.attr(document.body,"role","main"),e.attr(document.body,"aria-label","body"),e.style(a.domNode,"overflow","hidden");var d=this.createHeader(a.domNode,this.doc.getTitle()),c=e.marginBox(d);e.style(a.domNode,"height",c.h+"px");var u=0;if(r){e.style(r.domNode,"overflow","hidden");var h=this.createToolbar(r.domNode);t.setWaiState(h,"label","toolbarPane");var m=e.marginBox(h);u=m.h,e.style(r.domNode,"height",m.h+"px"),e.attr(r.domNode,"aria-label","toolbarNode")}if(t.setWaiState(o.domNode,"labelledby","doc_title_text"),o.resize({h:u+c.h}),n&&t.setWaiState(n,"labelledby","doc_title_text"),BidiUtils.isGuiRtl()){var l=e.byId("thumbnailPane_splitter");l&&(e.style(l,"right",l.style.left),e.style(l,"left",""))}t.setWaiState(s,"labelledby","doc_title_text");var p=t.byId("mainContainer");BidiUtils.isGuiRtl()&&e.attr(p,"dir","rtl"),p.resize(),this.switchMode(i),this.setCurrentScale(this.scale)},stage:function(){if(null!=this.jobId){var e=t.byId("T_Print");e&&e.attr("disabled",!0),this.showWarningMessage(this.nls.msgLoading,0),this.doc.addListener(this),this.queryJob()}else this.staged(!0)},queryJob:function(){var t=contextPath+"/api/job/"+this.doc.getRepository()+"/"+this.doc.getUri()+"/"+this.doc.getVersion()+"/"+this.jobId;this.compactMode&&(t+="?mode=compact"),e.xhrGet({url:t,handleAs:"json",handle:e.hitch(this,this.jobHandle),sync:!1,preventCache:!0})},jobHandle:function(t){if(t instanceof Error)return this.proxyErrorRetry=this.proxyErrorRetry+1,this.proxyErrorRetry<g_retryCount?void setTimeout(e.hitch(this,this.queryJob),1e3):void this.staged(!1,t);if("complete"==t.status)this.staged(!0,t);else if("error"==t.status)this.staged(!1,t);else{if("pending"==t.status){var i=t&&t.error_code?parseInt(t.error_code):0;if(isNaN(i)&&(i=0),2001==i){if(this.numberOfRetry=this.numberOfRetry+1,this.numberOfRetry>2)return void this.staged(!1,t)}else this.staging(t);return void setTimeout(e.hitch(this,this.queryJob),1e3)}setTimeout(e.hitch(this,this.queryJob),1e3)}},staged:function(i,o){if(i){if(o){var n=o.data;this.doc.setPagesInfo(n),this.hideErrorMessage()}var a=t.byId("T_Print");a&&a.attr("disabled",!1);var r=e.byId("printErrMessage");r.innerHTML=this.nls.errPrintFromBrowserMenu,this.printManager=new viewer.print.PrintManager(this.doc.getPagesInfo(),viewer.util.uri.getDocPageRoot(this.doc),"printImgContainer","printErrMessage")}else{this.hideErrorMessage();var r=e.byId("printErrMessage");r.innerHTML=this.nls.errPrintConversionFail;var s=o&&o.error_code?parseInt(o.error_code):0;isNaN(s)&&(s=0);var l=viewer.scenes.ErrorScene.getErrorMessage(s);if(this.hideErrorMessage(),1206==s){var d=new viewer.widgets.FloatBox(null,this.nls.msgConversionFail,null,!1,{message:l.title+"\n\n"+l.message,imageclass:"viewerSprite viewerSprite-msgError48"});d.show()}else{var d=new viewer.widgets.MessageBox(null,this.nls.msgConversionFail,null,!1,{message:l.title+"\n\n"+l.message,imageclass:"viewerSprite viewerSprite-msgError48"});d.show(),this.app.unregisterOpenDocs()}}this.doc.removeListener(this)},staging:function(e){var t=e.data;this.doc.setPagesInfo(t)},reviewFail:function(){this.hideReviewFrame();var e=new viewer.widgets.MessageBox(null,this.nls.errorMsg,null,!1,{message:this.nls.labelItemNotFountTitle+"\n\n"+this.nls.labelItemNotFountMsg,imageclass:"viewerSprite viewerSprite-msgError48"});e.show()},_showCCMWidget:function(e){var t=document.getElementById(this.ccmFrameId);t.style.display="",t.contentWindow.run(e)},hideReviewFrame:function(){var e=document.getElementById(this.ccmFrameId);e&&(e.style.display="none")},closeViewer:function(){window.location=DOC_SCENE.fileDetailPage},_loadCCMWidgets:function(t){var i=document.getElementById(this.ccmFrameId);return i||(i=document.createElement("iframe"),i.src=window.staticResPath+"/js/viewer/widgets/ccmwidgets.html",i.id=this.ccmFrameId,i.style.position="absolute",i.style.left="0",i.style.top="0",i.style.width="100%",i.style.height="100%",i.frameBorder="0",i.style.display=t?"":"none",e.attr(i,"allowtransparency","true"),document.body.appendChild(i)),i},createHeaderImg:function(){var t=staticResPath+"/images/",i=t+this.getTitleImageName(),o=document.createElement("img");if(o.setAttribute("src",i),o.setAttribute("alt",this.nls.labelImageTypeIcon),"smart_cloud"!=g_env){var n="32px";e.style(o,"height",n)}else e.addClass(o,"cloud_text_icon");return e.addClass(o,"lotusIcon"),o},createHeader:function(t,i){var o=t,n=document.createElement("div");e.addClass(n,"lotusTitleBar2"),e.attr(n,"id","titleBar");var a=document.createElement("div");e.addClass(a,"lotusInner"),a.setAttribute("id","doc_header"),n.appendChild(a);var r=document.createElement("div");e.addClass(r,"lotusTitleBarContent");var s=document.createElement("h2");s.setAttribute("id","doc_title"),e.addClass(s,"lotusHeading");var l="";i&&(l=i);var d=document.createElement("label");d.setAttribute("id","doc_title_text");var c=this.createHeaderImg();s.appendChild(c),d.innerHTML=l,s.appendChild(d),r.appendChild(s),a.appendChild(r);var u=DOC_SCENE.reviewData;if(u&&u.globalApprovalProperties&&"BasicApproval"==u.globalApprovalProperties.approvalProcess&&"pending"==u.globalApprovalProperties.approvalState){var h=u.lockOwner,m=!1,p=!1;h.id==g_authUser.id&&(m=!0);var g=u.approvers;if(g)for(var f=0;f<g.length;f++)if((g[f].approverId==g_authUser.id||g[f].approverSelf&&"true"==g[f].approverSelf.toLowerCase())&&"pending"==g[f].approvalState){p=!0;break}if(m||p){setTimeout(e.hitch(this,this._loadCCMWidgets),100);var _=document.createElement("ul");e.addClass(_,"lotusInlinelist"),this._addAction(_,"stop_review",this.nls.labelStopReview,!0,!1,"","_stopReview"),p&&(this._addAction(_,"reject",this.nls.labelRejct,!0,!1,"","_reject"),this._addAction(_,"approve",this.nls.labelApprove,!0,!1,"","_approve")),a.appendChild(_)}}var y=document.createElement("div");e.attr(y,"role","alert"),y.id="lotus_error_message",y.className="lotusMessage",y.style.display="none";var c=document.createElement("img");BidiUtils.isGuiRtl()?e.style(c,"float","right"):e.style(c,"float","left"),c.setAttribute("alt"," "),y.appendChild(c);var v=document.createElement("span");e.style(v,"float","left"),y.appendChild(v),n.appendChild(y);var b=document.createElement("div");return b.setAttribute("id","doc_clear"),b.className="clear",a.appendChild(b),o.appendChild(n),n},_addAction:function(t,i,o,n,a,r,s){var l=document.createElement("li");l.setAttribute("id",i),e.addClass(l,"ccmReview");var d=new viewer.widgets.LotusTextButton({label:o,showLabel:n,disabled:a,iconClass:r,id:i+"_btn",onClick:e.hitch(this,s)});l.appendChild(d.domNode),t.appendChild(l)},_stopReview:function(){this._showCCMWidget("StopReview")},_reject:function(){this._showCCMWidget("RejectReview")},_approve:function(){this._showCCMWidget("ApproveReview")},createToolbar:function(t){var i=new viewer.widgets.ViewerToolbar({});return e.addClass(i.domNode,DOC_SCENE.type+"_toolbar"),this.insertModeButton(i),this.insertSeprater(i),this.insertZoomButton(i),"true"==g_enablePrintBtn&&this.insertPrintButton(i),t.appendChild(i.domNode),this.insertPageButton(i),"true"==this.isDocsEnabled&&"true"==this.isDocsSupportType&&"true"==this.isDocsEditor&&this.insertEditDocsButton(i),("true"==g_enableVersionBtn||"true"==g_enableHelpBtn)&&this.insertHelpButton(i),this.postionButton(i),this.modifyWidgets(),i.domNode},modifyWidgets:function(){e.attr(e.byId("T_separater"),"tabindex","-1"),e.attr(e.byId("T_Zoomer"),"tabindex","-1"),e.attr(e.byId("T_ModePagePicker"),"tabindex","-1")},insertModeButton:function(){},insertSeprater:function(e){var i=new t.ToolbarSeparator({id:"T_separater"},"seprater");e.addChild(i)},insertZoomButton:function(e){this.zoomer=new viewer.widgets.Zoomer({id:"T_Zoomer",viewManager:this,index:3}),e.addChild(this.zoomer)},insertPageButton:function(t){this.pagePicker=new viewer.widgets.PagePicker({id:"T_ModePagePicker",pageNum:this.doc.getPages(),viewManager:this}),e.style(this.pagePicker.domNode,"display","inline-block"),e.style(this.pagePicker.domNode,"vertical-align","middle"),t.addChild(this.pagePicker)},insertEditDocsButton:function(t){var i=new viewer.widgets.LotusTextButton({id:"T_IBMDocsEditor",label:this.nls.labelEdit,title:this.nls.labelEdit,iconClass:"",onClick:e.hitch(this,function(){var e=this.doc.uri.replace(/[-\s.@]/g,"_");window.open(this.docsURI,e)})});e.style(i.domNode,"vertical-align","middle"),t.addChild(i)},insertHelpButton:function(i){var o=new t.Menu({style:"display: none;"});if(e.addClass(o.domNode,"lotusActionMenu"),"true"==g_enableHelpBtn){var n=new t.MenuItem({id:"M_HelpContent",label:this.nls.labelHelpContent,onClick:e.hitch(this,function(){this.showHelp()})});o.addChild(n)}if("true"==g_enableVersionBtn&&"smart_cloud"!=g_env){var a=new t.MenuItem({id:"M_About",label:this.nls.labelAbout,onClick:e.hitch(this,function(){var t=null;t="null"==viewer_version?e.string.substitute(this.nls.labelBuild,{productName:window.g_prodName,0:viewer_build}):e.string.substitute(this.nls.labelVersion,{productName:window.g_prodName,0:"",1:viewer_version});var i=new viewer.widgets.MessageBox(null,e.string.substitute(this.nls.labelProject,{productName:window.g_prodName}),null,!1,{message:t});i.show()})});o.addChild(a)}var r="helpButtonIcon";"ar"==g_locale.substr(0,2)&&(r+="_ar");var s=new t.form.DropDownButton({id:"T_Help",label:this.nls.labelHelp,showLabel:!1,iconClass:r,dropDown:o});"false"==g_enableHelpBtn&&"true"==g_enableVersionBtn&&e.attr(s,"label",this.nls.labelAbout),e.style(s.domNode,"vertical-align","middle"),i.addChild(s)},insertPrintButton:function(i){var o=new t.form.Button({id:"T_Print",title:this.nls.labelPrint,iconClass:"printIcon",showLabel:!1,label:this.nls.labelPrint,onClick:e.hitch(this,function(){this.printManager.print()})});e.addClass(o.domNode,"lotusDijitButtonImg"),i.addChild(o)},updateUI:function(){var e=t.byId("toolbarPane");if(e){var i=e.getChildren()[0];this.postionButton(i)}this.updateMessageLocation()},postionButton:function(i){var o=i.getChildren(),n=t.byId("T_ModePagePicker");n.pageInput._refreshState();var a=4;(e.isWebKit||e.isChrome)&&(a=8);for(var r=o.length-1;r>0;r--){if("T_ModePagePicker"==o[r].id){var s=o[r-1].domNode,l=0;l=BidiUtils.isGuiRtl()?e.marginBox(i.domNode).w-e.marginBox(s).l:e.marginBox(s).l+e.marginBox(s).w;var d=e.marginBox(i.domNode).w-a-l;d>130?e.style(n.domNode,"width",d+"px"):e.style(n.domNode,"width","130px");break}a+=e.marginBox(o[r].domNode).w}},createPageIndicator:function(){var t=new viewer.widgets.PageIndicator({id:"T_PageIndicator",pageNum:this.doc.getPages(),viewManager:this});return e.body().appendChild(t.domNode),t.position(),t},switchMode:function(i,o){this.currentMode=i;for(var n in this.supportedMode)this.supportedMode[n]==i?t.byId("T_Mode_"+this.supportedMode[n]).attr("checked",!0):t.byId("T_Mode_"+this.supportedMode[n]).attr("checked",!1);var a=!1;for(var n in this.views)n!=i?e.style(this.views[n].domNode,"display","none"):(e.style(this.views[n].domNode,"display","block"),a=!0);if(a)o&&this.setCurrentStyle(o);else{var r=null;if(this.compactMode){r=this.createContentWidget("Continuous");var s=this.createActions(),l=this.createPageIndicator(),d=new viewer.widgets.NavigatorBarManager(s,l);d.registerEvents()}else r=this.createContentWidget(i);r&&(this.views[i]=r)}this.thumbnailView||this.createThumbnailWidget(),0!=this.doc.getPages()&&(0==this.currentPage?this.setCurrentPage(1):e.publish(viewer.util.Events.PAGE_SELECTED,[this.currentPage]))},createContentWidget:function(e){return null},createThumbnailWidget:function(){var e=t.byId("thumbnailPane");this.thumbnailView=new viewer.widgets.ThumbnailPicker({id:"thumbnailView",size:this.doc.getPages(),pagesInfo:this.doc.getPagesInfo(),thumbWidth:this.DEFUALT_THUMBNAIL_WIDTH,baseUri:this.getPageRoot(),tabIndex:0,viewManager:this}),e.setContent(this.thumbnailView.domNode)},preparePrintArea:function(){var t=e.byId("print"),i=e.create("div",{id:"printErrMessage"},t),o=e.create("div",{id:"printImgContainer"},t);o.style.textAlign="center",i.innerHTML=this.nls.errPrintBeforeLoading},getPageRoot:function(){return viewer.util.uri.getDocPageRoot(this.doc)},setCurrentPage:function(t){t||(t=1),this.currentPage!=t&&t>=1&&t<=this.doc.getPages()&&(this.currentPage=t,e.publish(viewer.util.Events.PAGE_SELECTED,[this.currentPage]))},setCurrentStyle:function(t){this.style!=t&&(this.style=t,e.publish(viewer.util.Events.STYLE_CHANGED,[this.style]))},setCurrentScale:function(t){this.scale!=t&&(this.scale=t,e.publish(viewer.util.Events.SCALE_CHANGED,[t]))},_showMessage:function(t,i,o){var n,a,r;switch(o){case 0:n="/images/success.png",a="lotusMessage lotusSuccess",r=this.nls.successMsg;break;case 1:n="/images/warning.png",a="lotusMessage lotusWarning",r=this.nls.warningMsg;break;case 2:default:n="/images/error.png",a="lotusMessage",r=this.nls.errorMsg}var s=document.getElementById("lotus_error_message");if(s.className=a,s.firstChild.setAttribute("src",staticResPath+n),s.firstChild.setAttribute("alt",r),s.lastChild.innerHTML=t,s.style.cssText="display:inline-block",e.isChrome){var l=e.marginBox(s.lastChild).w;e.style(s.lastChild,"width",l+"px")}var d=viewer.util.browser.getBrowserWidth(),c=e.marginBox(s).w,u=(d-c)/2;s.style.cssText="left:"+u+"px;top:0px;display:inline-block;position:absolute;z-index:1;color:#222222 !important",i&&setTimeout(e.hitch(this,this.hideErrorMessage),i)},_onKeyPress:function(t){t.keyCode==e.keys.PAGE_UP&&"!"!=t.keyChar?(this.setCurrentPage(this.currentPage-1),t.preventDefault()):t.keyCode==e.keys.PAGE_DOWN&&'"'!=t.keyChar?(this.setCurrentPage(this.currentPage+1),t.preventDefault()):e.isIE&&t.ctrlKey&&("+"==t.charOrCode||"-"==t.charOrCode)&&(this.updateUI(),this.views[this.currentMode].resize&&this.views[this.currentMode].resize())},_onFontResize:function(){this.updateUI();var i=t.byId("titlePane").domNode,o=t.byId("toolbarPane").domNode,n=e.marginBox(i.firstChild).h,a=e.marginBox(o.firstChild).h;e.style(i,"height",n+"px"),e.style(o,"height",a+"px");var r=e.byId("headerBorderContainer");e.style(r,"height",n+a+"px"),r=e.byId("headerPane"),e.style(r,"height",n+a+"px");var s=t.byId("mainContainer");s.resize()},updateMessageLocation:function(){var t=document.getElementById("lotus_error_message");if(t&&"none"!=t.style.display){var i=viewer.util.browser.getBrowserWidth(),o=e.marginBox(t).w,n=(i-o)/2;e.style(t,"left",n+"px")}},hideErrorMessage:function(){var e=document.getElementById("lotus_error_message");e.style.display="none"},showErrorMessage:function(e,t){this._showMessage(e,t,2)},showWarningMessage:function(e,t){this._showMessage(e,t,1)},showInfoMessage:function(e,t){this._showMessage(e,t,0)},onPageInfoUpdated:function(t){if(this.doc.getPagesInfo()[0]&&null!=this.doc.getPagesInfo()[0].getFullImageInfo()){var i=this.doc.getPagesInfo()[0].getFullImageInfo().getPageWidth();this.DEFUALT_NORMAL_PAGE_WIDTH!=i&&(t.orgWidth=i)}e.publish(viewer.util.Events.PAGE_INFO_UPDATED,[this.doc.getPages(),this.doc.getPagesInfo(),t]),0==this.currentPage&&0!=this.doc.getPages()&&this.setCurrentPage(1)},createActions:function(){}})})},"viewer/beans/Document":function(){define(["dojo","dijit","dojox","dojo/require!viewer/beans/PageInfo,viewer/beans/Event"],function(e){e.provide("viewer.beans.Document"),e.require("viewer.beans.PageInfo"),e.require("viewer.beans.Event"),e.declare("viewer.beans.Document",null,{constructor:function(e,t,i,o,n,a){this.title=e,this.type=t,this.repository=i,this.uri=o,this.pages=a,this.version=n,this.pagesInfo=new Array,this.listeners=new Array},getTitle:function(){return this.title},getType:function(){return this.type},getRepository:function(){return this.repository},getUri:function(){return this.uri},getVersion:function(){return this.version},getPages:function(){return this.pages},setPagesInfo:function(e){if(null!=e){var t=e,i=t.thumbnails,o=t.fullImages,n=!1,a=!1;if(i)for(var r in i){var s=r.split("_"),l=s[0],d=parseInt(s[1]),c=null;isNaN(d)?console.warn("wrong thumbnail data is got: "+r):(this.pagesInfo[d]||(this.pagesInfo[d]=new viewer.beans.PageInfo),this.pagesInfo[d].getThumbnailInfo()||(c=new viewer.beans.ImageInfo("thumbnail",i[r].size.w,i[r].size.h,l+"/"+i[r].name),this.pagesInfo[d].setThumbnailInfo(c),n=!0))}if(o)for(var r in o){var s=r.split("_"),l=s[0],d=parseInt(s[1]),u=null;isNaN(d)?console.warn("wrong fullImage data is got: "+r):(this.pagesInfo[d]||(this.pagesInfo[d]=new viewer.beans.PageInfo),this.pagesInfo[d].getFullImageInfo()||(u=new viewer.beans.ImageInfo("fullImage",o[r].size.w,o[r].size.h,l+"/"+o[r].name),this.pagesInfo[d].setFullImageInfo(u),a=!0))}if(a||n){this.pages=this.pagesInfo.length;var h={};h.fullImageUpdated=a,h.thumbnailUpdated=n;var m=new viewer.beans.Event("pageInfoUpdated",h);this.notify(m)}}},getPagesInfo:function(){return this.pagesInfo},addListener:function(e){this.listeners.push(e)},removeListener:function(e){this.listeners.pop(e)},notify:function(e){if("pageInfoUpdated"==e.type)for(var t=0;t<this.listeners.length;t++)this.listeners[t].onPageInfoUpdated&&this.listeners[t].onPageInfoUpdated(e.data)}})})},"viewer/beans/PageInfo":function(){define(["dojo","dijit","dojox","dojo/require!viewer/beans/ImageInfo"],function(e){e.provide("viewer.beans.PageInfo"),e.require("viewer.beans.ImageInfo"),e.declare("viewer.beans.PageInfo",null,{thumbnailInfo:null,fullImageInfo:null,setThumbnailInfo:function(e){this.thumbnailInfo=e},getThumbnailInfo:function(){return this.thumbnailInfo},setFullImageInfo:function(e){this.fullImageInfo=e},getFullImageInfo:function(){return this.fullImageInfo},getScaledThumbnailHeight:function(e){return this.thumbnailInfo?this.thumbnailInfo.getScaledHeight(e):this.fullImageInfo?this.fullImageInfo.getScaledHeight(e):0},getScaledThumbnailWidth:function(e){return this.thumbnailInfo?this.thumbnailInfo.getScaledWidth(e):this.fullImageInfo?this.fullImageInfo.getScaledWidth(e):0},getScaledFullImageHeight:function(e){return this.fullImageInfo?this.fullImageInfo.getScaledHeight(e):this.thumbnailInfo?this.thumbnailInfo.getScaledHeight(e):0},getScaledFullImageWidth:function(e){return this.fullImageInfo?this.fullImageInfo.getScaledWidth(e):this.thumbnailInfo?this.thumbnailInfo.getScaledWidth(e):0}})})},"viewer/beans/ImageInfo":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.beans.ImageInfo"),e.declare("viewer.beans.ImageInfo",null,{constructor:function(e,t,i,o){this.type=e,this.width=t,this.height=i,this.ratio=this.height/this.width,this.filepath=o},getType:function(){return this.type},getPageWidth:function(){return this.width},getPageHeight:function(){return this.height},getFilepath:function(){return this.filepath},getScaledHeight:function(e){return e==this.width?this.height:this.ratio*e},getScaledWidth:function(e){return e==this.height?this.width:e/this.ratio}})})},"viewer/beans/Event":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.beans.Event"),e.declare("viewer.beans.Event",null,{constructor:function(e,t){this.type=e,this.data=t},getType:function(){return this.type},getData:function(){return this.data}})})},"dijit/form/Select":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g,f,_){function y(e){return function(t){this._isLoaded?this.inherited(e,arguments):this.loadDropDown(r.hitch(this,e,t))}}var v=t("dijit.form._SelectMenu",u,{autoFocus:!0,buildRendering:function(){this.inherited(arguments),this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments),this.own(s(this.domNode,"selectstart",function(e){e.preventDefault(),e.stopPropagation()}))},focus:function(){var t=!1,i=this.parentWidget.value;r.isArray(i)&&(i=i[i.length-1]),i&&e.forEach(this.parentWidget._getChildren(),function(e){e.option&&i===e.option.value&&(t=!0,this.focusChild(e,!1))},this),t||this.inherited(arguments)}}),b=t("dijit.form.Select"+(l("dojo-bidi")?"_NoBidi":""),[d,c,g],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_,_buttonInputDisabled:l("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){if(this.inherited(arguments),this.options.length&&!this.value&&this.srcNodeRef){var e=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[e>=0?e:0].value)
}this.dropDown=new v({id:this.id+"_menu",parentWidget:this}),o.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(e){if(e.value||e.label){var t=r.hitch(this,"_setValueAttr",e),i=new h({option:e,label:e.label||this.emptyLabel,onClick:t,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:e.disabled||!1});return i.focusNode.setAttribute("role","option"),i}return new m({ownerDocument:this.ownerDocument})},_addOptionItem:function(e){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(e))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(e){}},focusChild:function(e){e&&this.set("value",e.option)},_getFirst:function(){var e=this._getChildren();return e.length?e[0]:null},_getLast:function(){var e=this._getChildren();return e.length?e[e.length-1]:null},childSelector:function(e){var e=f.byNode(e);return e&&e.getParent()==this.dropDown},onKeyboardSearch:function(e){e&&this.focusChild(e)},_loadChildren:function(t){if(t===!0)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{e.forEach(this._getChildren(),function(e){e.destroyRecursive()});var i=new h({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(i)}else this._updateSelection();this._isLoaded=!1,this._childrenLoaded=!0,this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments),this._refreshState()},_setValueAttr:function(){this.inherited(arguments),i.set(this.valueNode,"value",this.get("value")),this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(){this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(e){this._set("required",e),this.focusNode.setAttribute("aria-required",e),this._refreshState()},_setOptionsAttr:function(e){this._isLoaded=!1,this._set("options",e)},_setDisplay:function(e){var t=e||this.emptyLabel;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+t+"</span>"},validate:function(e){var t=this.disabled||this.isValid(e);this._set("state",t?"":this._hasBeenBlurred?"Error":"Incomplete"),this.focusNode.setAttribute("aria-invalid",t?"false":"true");var i=t?"":this._missingMsg;return i&&this.focused&&this._hasBeenBlurred?p.show(i,this.domNode,this.tooltipPosition,!this.isLeftToRight()):p.hide(this.domNode),this._set("message",i),t},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments),p.hide(this.domNode),this._refreshState()},postMixInProperties:function(){this.inherited(arguments),this._missingMsg=a.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments),this.own(s(this.domNode,"selectstart",function(e){e.preventDefault(),e.stopPropagation()})),this.domNode.setAttribute("aria-expanded","false"),l("ie")<9&&this.defer(function(){try{var e=domStyle.getComputedStyle(this.domNode);if(e){var t=e.fontFamily;if(t){var i=this.domNode.getElementsByTagName("INPUT");if(i)for(var o=0;o<i.length;o++)i[o].style.fontFamily=t}}}catch(n){}})},_setStyleAttr:function(){this.inherited(arguments),o.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(e){this._loadChildren(!0),this._isLoaded=!0,e()},destroy:function(e){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(e),delete this.dropDown),this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){p.hide(this.domNode),this.inherited(arguments),this.validate(!1)}});return l("dojo-bidi")&&(b=t("dijit.form.Select",b,{_setDisplay:function(){this.inherited(arguments),this.applyTextDir(this.containerNode)}})),b._Menu=v,b.prototype._onContainerKeydown=y("_onContainerKeydown"),b.prototype._onContainerKeypress=y("_onContainerKeypress"),b})},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(e,t,i,o,n,a,r,s,l,d,c,u,h){var m=n("dijit.form._FormSelectWidget",h,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(t){var i=this.options||[];return null==t?i:l.isArray(t)?e.map(t,"return this.getOptions(item);",this):(l.isString(t)&&(t={value:t}),l.isObject(t)&&(e.some(i,function(e,i){for(var o in t)if(!(o in e)||e[o]!=t[o])return!1;return t=i,!0})||(t=-1)),t>=0&&t<i.length?i[t]:null)},addOption:function(t){e.forEach(l.isArray(t)?t:[t],function(e){e&&l.isObject(e)&&this.options.push(e)},this),this._loadChildren()},removeOption:function(t){var i=this.getOptions(l.isArray(t)?t:[t]);e.forEach(i,function(t){t&&(this.options=e.filter(this.options,function(e){return e.value!==t.value||e.label!==t.label}),this._removeOptionItem(t))},this),this._loadChildren()},updateOption:function(t){e.forEach(l.isArray(t)?t:[t],function(e){var t,i=this.getOptions({value:e.value});if(i)for(t in e)i[t]=e[t]},this),this._loadChildren()},setStore:function(n,a,r){var s=this.store;if(r=r||{},s!==n){for(var d;d=this._notifyConnections.pop();)d.remove();n.get||(l.mixin(n,{_oldAPI:!0,get:function(e){var i=new t;return this.fetchItemByIdentity({identity:e,onItem:function(e){i.resolve(e)},onError:function(e){i.reject(e)}}),i.promise},query:function(e,i){var o=new t(function(){n.abort&&n.abort()});o.total=new t;var n=this.fetch(l.mixin({query:e,onBegin:function(e){o.total.resolve(e)},onComplete:function(e){o.resolve(e)},onError:function(e){o.reject(e)}},i));return new u(o)}}),n.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[i.after(n,"onNew",l.hitch(this,"_onNewItem"),!0),i.after(n,"onDelete",l.hitch(this,"_onDeleteItem"),!0),i.after(n,"onSet",l.hitch(this,"_onSetItem"),!0)])),this._set("store",n)}return this.options&&this.options.length&&this.removeOption(this.options),this._queryRes&&this._queryRes.close&&this._queryRes.close(),this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null),r.query&&(this._set("query",r.query),this._set("queryOptions",r.queryOptions)),n&&(this._loadingStore=!0,this.onLoadDeferred=new t,this._queryRes=n.query(this.query,this.queryOptions),c(this._queryRes,l.hitch(this,function(t){if(this.sortByLabel&&!r.sort&&t.length)if(n.getValue)t.sort(o.createSortFunction([{attribute:n.getLabelAttributes(t[0])[0]}],n));else{var i=this.labelAttr;t.sort(function(e,t){return e[i]>t[i]?1:t[i]>e[i]?-1:0})}r.onFetch&&(t=r.onFetch.call(this,t,r)),e.forEach(t,function(e){this._addOptionForItem(e)},this),this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(l.hitch(this,function(e,t,i){t==i?this._onSetItem(e):(-1!=t&&this._onDeleteItem(e),-1!=i&&this._onNewItem(e))}),!0)),this._loadingStore=!1,this.set("value","_pendingValue"in this?this._pendingValue:a),delete this._pendingValue,this.loadChildrenOnOpen?this._pseudoLoadChildren(t):this._loadChildren(),this.onLoadDeferred.resolve(!0),this.onSetStore()}),function(e){console.error("dijit.form.Select: "+e.toString()),this.onLoadDeferred.reject(e)})),s},_setValueAttr:function(t,i){if(this._onChangeActive||(i=null),this._loadingStore)return void(this._pendingValue=t);if(null!=t){t=l.isArray(t)?e.map(t,function(e){return l.isObject(e)?e:{value:e}}):l.isObject(t)?[t]:[{value:t}],t=e.filter(this.getOptions(t),function(e){return e&&e.value});var o=this.getOptions()||[];this.multiple||t[0]&&t[0].value||!o.length||(t[0]=o[0]),e.forEach(o,function(i){i.selected=e.some(t,function(e){return e.value===i.value})});var n=e.map(t,function(e){return e.value});if("undefined"!=typeof n&&"undefined"!=typeof n[0]){var a=e.map(t,function(e){return e.label});this._setDisplay(this.multiple?a:a[0]),this.inherited(arguments,[this.multiple?n:n[0],i]),this._updateSelection()}}},_getDisplayedValueAttr:function(){var t=e.map([].concat(this.get("selectedOptions")),function(e){return e&&"label"in e?e.label:e?e.value:null},this);return this.multiple?t:t[0]},_setDisplayedValueAttr:function(e){this.set("value",this.getOptions("string"==typeof e?{label:e}:e))},_loadChildren:function(){this._loadingStore||(e.forEach(this._getChildren(),function(e){e.destroyRecursive()}),e.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null,this._set("value",this._getValueFromOpts());var t=[].concat(this.value);if(t&&t[0]){var i=this;e.forEach(this._getChildren(),function(o){var n=e.some(t,function(e){return o.option&&e===o.option.value});n&&!i.multiple&&(i.focusedChild=o),r.toggle(o.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),n),o.domNode.setAttribute("aria-selected",n?"true":"false")},this)}},_getValueFromOpts:function(){var t=this.getOptions()||[];if(!this.multiple&&t.length){var i=e.filter(t,function(e){return e.selected})[0];return i&&i.value?i.value:(t[0].selected=!0,t[0].value)}return this.multiple?e.map(e.filter(t,function(e){return e.selected}),function(e){return e.value})||[]:""},_onNewItem:function(e,t){t&&t.parent||this._addOptionForItem(e)},_onDeleteItem:function(e){var t=this.store;this.removeOption({value:t.getIdentity(e)})},_onSetItem:function(e){this.updateOption(this._getOptionObjForItem(e))},_getOptionObjForItem:function(e){var t=this.store,i=this.labelAttr&&this.labelAttr in e?e[this.labelAttr]:t.getLabel(e),o=i?t.getIdentity(e):null;return{value:o,label:i,item:e}},_addOptionForItem:function(e){var t=this.store;if(t.isItemLoaded&&!t.isItemLoaded(e))return void t.loadItem({item:e,onItem:function(e){this._addOptionForItem(e)},scope:this});var i=this._getOptionObjForItem(e);this.addOption(i)},constructor:function(e){this._oValue=(e||{}).value||null,this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments),a.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?d("> *",this.srcNodeRef).map(function(e){return"separator"===e.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:e.getAttribute("data-"+s._scopeName+"-value")||e.getAttribute("value"),label:String(e.innerHTML),selected:e.getAttribute("selected")||!1,disabled:e.getAttribute("disabled")||!1}},this):[]),this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments),i.after(this,"onChange",l.hitch(this,"_updateSelection"));var e=this.store;e&&(e.getIdentity||e.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this.setStore(e,this._oValue))},startup:function(){this._loadChildren(),this.inherited(arguments)},destroy:function(){for(var e;e=this._notifyConnections.pop();)e.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close(),this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null),this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}});return m})},"dijit/MenuSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(e,t,i,o,n,a){return e("dijit.MenuSeparator",[i,o,n],{templateString:a,buildRendering:function(){this.inherited(arguments),t.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"viewer/widgets/Zoomer":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/Zoomer","dojo/require!dijit/_Widget,dijit/_Templated,dojo/number,dijit/form/ComboBox,dojo/data/ItemFileWriteStore"],function(e,t){e.provide("viewer.widgets.Zoomer"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("dojo.number"),e.require("dijit.form.ComboBox"),e.require("dojo.data.ItemFileWriteStore"),e.requireLocalization("viewer.widgets","Zoomer"),e.declare("viewer.widgets.Zoomer",[t._Widget,t._Templated],{templateString:e.cache("viewer.widgets","templates/Zoomer.html",'<span dojoAttachPoint="outerNode" class="zoomerContainer" style="text-align: center;">\n	<button dojoType="dijit.form.Button" label="${labelZoomIn}" showLabel="false" title= "${labelZoomIn}" iconClass= "zoomInIcon" class="lotusDijitButtonImg" dojoAttachPoint="zoomIn" dojoAttachEvent="onClick:_onZoomInSelect"></button>\n	<button dojoType="dijit.form.Button" label="${labelZoomOut}" showLabel="false" title= "${labelZoomOut}" iconClass= "zoomOutIcon"  class="lotusDijitButtonImg" dojoAttachPoint="zoomOut" dojoAttachEvent="onClick:_onZoomOutSelect"></button>\n	<label for="selector_zoomer" alt="${labelZoom}" style="display:none;">${labelZoom}</label>\n	<select id="selector_zoomer" dojoType="dijit.form.ComboBox" class="sizeSelector" dojoAttachPoint="sizeSelector" dojoAttachEvent="onChange:_onSizeChange">  		\n	</select>\n</span>'),index:3,widgetsInTemplate:!0,viewManager:null,percentage:0,values:[],scaleValues:["0.10","0.25","0.50","0.75","1.00","1.25","1.50","2.00","4.00"],options:null,postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.widgets","Zoomer");e.mixin(this,t),this.inherited(arguments)},postCreate:function(){this.buildScaleValue(),this.updateInputStyle(),e.subscribe(viewer.util.Events.SCALE_CHANGED,this,this._onUpdateCombox),this.inherited(arguments)},buildScaleValue:function(){this.options=new e.data.ItemFileWriteStore({data:{identifier:"name",items:[]}}),e.forEach(this.scaleValues,function(e){this.values=this.values.concat(this.float2percentage(e)),this.options.newItem({name:this.float2percentage(e)})},this);var t=this.sizeSelector.attr("store");t&&delete t,this.sizeSelector.attr("store",this.options)},updateInputStyle:function(){e.attr(this.sizeSelector.textbox,"readonly","true")},_onZoomInSelect:function(){var e=Math.floor(this.index+1);e>=0&&e<this.values.length&&this.sizeSelector.setValue(this.values[e])},_onZoomOutSelect:function(){var e=Math.ceil(this.index-1);e>=0&&e<this.values.length&&this.sizeSelector.setValue(this.values[e])},_onSizeChange:function(e){var t=this.percentage2float(e);if(t<this.scaleValues[0])return this.zoomIn.attr("disabled",!1),void this.zoomOut.attr("disabled",!0);if(t>this.scaleValues[this.values.length-1])return this.zoomIn.attr("disabled",!0),void this.zoomOut.attr("disabled",!1);for(var i=0;i<this.scaleValues.length;i++){if(t==this.scaleValues[i]){this.index=i;break}if(t>this.scaleValues[i]&&t<this.scaleValues[i+1]){this.index=i+.5;break}}this.index==this.values.length-1?(this.zoomIn.attr("disabled",!0),this.zoomOut.attr("disabled",!1)):0==this.index?(this.zoomIn.attr("disabled",!1),this.zoomOut.attr("disabled",!0)):(this.zoomIn.attr("disabled",!1),this.zoomOut.attr("disabled",!1));for(var i=0;i<this.values.length;i++)if(e==this.values[i])return this.percentage!=e&&(this.percentage=e,this.viewManager.setCurrentScale(this.scaleValues[i])),void(this.index=i)},float2percentage:function(t){return e.number.format(t,{type:"percent",pattern:this.percentFormat})},percentage2float:function(t){return e.number.parse(t,{type:"percent",pattern:this.percentFormat})},_onUpdateCombox:function(e){this.percentage=this.float2percentage(e),this.sizeSelector.setValue(this.percentage)}})})},"viewer/widgets/MessageBox":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/CommonDialog"],function(e){e.provide("viewer.widgets.MessageBox"),e.require("viewer.widgets.CommonDialog"),e.declare("viewer.widgets.MessageBox",[viewer.widgets.CommonDialog],{"-chains-":{constructor:"manual"},constructor:function(e,t,i,o){o=!1,this.describedInfoID="describedInfoId_"+(new Date).getTime(),this.inherited(arguments)},onOk:function(e){this.params.callback&&this.params.callback(e)}})})},"viewer/widgets/CommonDialog":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/viewerDialog"],function(e,t){e.provide("viewer.widgets.CommonDialog"),e.require("viewer.widgets.viewerDialog"),e.declare("viewer.widgets.CommonDialog",[viewer.widgets.viewerDialog],{"-chains-":{constructor:"manual"},constructor:function(){this.inherited(arguments)},setDialogID:function(){this.dialogId="V_d_"+this.declaredClass.slice(this.declaredClass.lastIndexOf(".")+1),e.byId(this.dialogId)&&(this.dialogId=this.dialogId+t.Dialog._dialogStack.length)},createContent:function(t){e.addClass(t,"lotusui30_layout ");var i=t;if(this.params.imageclass){i=e.create("div",null,t),e.addClass(i," lotusErrorContent");var o=e.create("IMG",null,i);o.src=window.staticResPath+"/js/dojo/resources/blank.gif",o.alt="",e.addClass(o,this.params.imageclass+" lotusIcon")}var n=e.create("div",null,i);n.id="ViewerDialogMSG_"+(new Date).getTime(),this.describedInfoID=n.id,this.params.imageclass&&e.addClass(n,"lotusErrorForm"),this.fillMsgs(n)},fillMsgs:function(t){var i;this.params.message&&(i=this.params.message.split("\n"));for(var o=0;o<i.length;o++){var n=e.create("div",null,t);if(-1!=i[o].indexOf("<")&&-1!=i[o].indexOf(">"))n.innerHTML=i[o];else{var a=document.createTextNode(i[o]);n.appendChild(a)}n.style.cssText="display:inline-block",n.style.cssText=n.clientWidth>600?"width:600px;word-wrap:break-word":"",e.addClass(n,"viewerDialogBold")}},hide:function(){this._destroy()},calcWidth:function(){return"auto"}})})},"viewer/widgets/viewerDialog":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/viewerDialog","dojo/require!dijit/Dialog,dijit/form/Button,dojo/i18n,dijit/form/Form,viewer/widgets/LotusTextButton,dojo/string"],function(e,t){e.provide("viewer.widgets.viewerDialog"),e.require("dijit.Dialog"),e.require("dijit.form.Button"),e.require("dojo.i18n"),e.require("dijit.form.Form"),e.require("viewer.widgets.LotusTextButton"),e.require("dojo.string"),e.requireLocalization("viewer.widgets","viewerDialog"),e.declare("viewer.widgets.viewerDialog",null,{params:null,warnMsgID:"ViewerWarnMsg",contentDivID:"ViewerContent",dialogId:"viewerDialogId",cancelLabel:null,dialog:null,editor:null,OKButtonID:"OKButton",CancelButtonID:"CancelButton",NoButtonID:"NoButton",focusHdl:null,okBtn:null,cancelBtn:null,btnContainer:null,describedInfoID:null,dbc_lock:null,viewerTitle:null,oKLabel:null,noLabel:null,visible:!0,okVisible:!0,noVisible:!1,closeVisible:!0,timeout:0,hideWarnMsg:!1,formParams:null,constructor:function(i,o,n,a,r,s){this.dbc_lock=!1;var l=e.i18n.getLocalization("viewer.widgets","viewerDialog");if(this.viewerTitle=e.string.substitute(l.productName,{productName:window.g_prodName}),void 0!=r&&(this.params=r),void 0!=s&&(this.formParams=s),this.cancelLabel=l.cancelLabel,this.oKLabel=l.oKLabel,this.noLabel=l.noLabel,this.editor=i,o){var d=o.split("#");this.viewerTitle=d[0],this.dialogId=d[1]||this.viewerTitle}else this.dialogId=this.viewerTitle;this.setDialogID(),void 0!=n&&null!=n&&""!=n&&(this.oKLabel=n),void 0!=a&&(this.visible=a),this.dialog=t.byId(this.dialogId),this.dialog&&this._destroy(),null!=this.params&&void 0!=this.params.noLabel&&null!=this.params.noLabel&&""!=this.params.noLabel&&this.setNoLabel(this.params.noLabel),this.dialog=this.createDialog(),this.postCreate()},setNoLabel:function(e){this.noLabel=e,this.noVisible=!0},createContent:function(){},postCreate:function(){},setDialogID:function(){},_genButtonID:function(){this.OKButtonID=this.dialogId+"OKButton",this.CancelButtonID=this.dialogId+"CancelButton",this.NoButtonID=this.dialogId+"NoButton"},_createForm:function(e,i){var o=new t.form.Form(e);return i.appendChild(o.domNode),o.domNode},createDialog:function(){var i=e.doc,o=e.create("div",null,i.body),n=null,a=null;if(this.formParams){var r=this._createForm(this.formParams,o);n=e.create("div",null,r),a=e.create("div",null,r)}else n=e.create("div",null,o),a=e.create("div",null,o);this.createContent(n),e.attr(n,"id",this.contentDivID+(new Date).getTime());{var s=e.create("div",null,n);e.create("label",null,s)}e.attr(s,"id",this.warnMsgID+this.dialogId),e.addClass(s,"viewerDialogWarningMsg"),e.addClass(o,"dijitDialogPaneContent"),e.addClass(n,"dijitDialogPaneContentArea"),this._genButtonID();var l=new viewer.widgets.LotusTextButton({label:this.oKLabel,id:this.OKButtonID,onClick:e.hitch(this,"_onOk",this.editor)}),d=new viewer.widgets.LotusTextButton({label:this.noLabel,id:this.NoButtonID,onClick:e.hitch(this,"_onNo",this.editor)}),c=new viewer.widgets.LotusTextButton({label:this.cancelLabel,id:this.CancelButtonID,onClick:e.hitch(this,"_onCancel",this.editor)});this.okVisible||e.style(l.domNode,{display:"none"}),this.noVisible||e.style(d.domNode,{display:"none"}),this.visible||e.style(c.domNode,{display:"none"}),a.appendChild(l.domNode),a.appendChild(d.domNode),a.appendChild(c.domNode),this.okVisible||this.noVisible||this.visible?e.addClass(a,"dijitDialogPaneActionBar"):e.addClass(a,"dijitDialogPaneActionBarWithoutAction"),this.formParams&&e.style(l.domNode,"type","submit"),this.okBtn=l,this.cancelBtn=c,this.btnContainer=a;var u=new t.Dialog({title:this.viewerTitle,id:this.dialogId,refocus:!1},o);return this.describedInfoID&&t.setWaiState(u.domNode,"describedby",this.describedInfoID),this.closeVisible||e.style(u.closeButtonNode,{display:"none"}),this.closeVisible&&u.connect(u,"onCancel",e.hitch(this,"_onCancel",this.editor)),u},getOkBtn:function(){return this.okBtn},getCancelBtn:function(){return this.cancelBtn},getBtnContainer:function(){return this.btnContainer},_returnFocus:function(){"undefined"!=typeof pe&&setTimeout(e.hitch(pe.scene,pe.scene.setFocus),0)},setWarningMsg:function(t){if(void 0!=t){var i=this.warnMsgID+this.dialogId;e.byId(i).innerHTML=t,this.hideWarnMsg=""==t?!0:!1}},reset:function(){},_reset:function(){this.setWarningMsg(""),this.reset()},show:function(){this.dbc_lock=!1,null!=this.dialog&&(this._reset(),t.Dialog._dialogStack&&t.Dialog._dialogStack.length>0?(this.dialog.refocus=!0,this.focusHdl&&(this.dialog.disconnect(this.focusHdl),this.focusHdl=null)):(this.dialog.refocus=!1,this.focusHdl||(this.focusHdl=this.dialog.connect(this.dialog,"onHide",e.hitch(this,this._returnFocus)))),this.onShow(),this.dialog.show())},onShow:function(){},hide:function(){null!=this.dialog&&this.dialog.hide()},onKeyPress:function(t){t.altKey||t.ctrlKey||t.metaKey||(t.keyCode==e.keys.ENTER?this._onOk(this.editor):this.hideWarnMsg||this.setWarningMsg(""))},onNo:function(){return!0},_onNo:function(e){0!=this.onNo(e)&&this.hide()},onOk:function(){return!0},_onOk:function(e){return this.dbc_lock?void 0:(this.dbc_lock=!0,0==this.onOk(e)?void(this.dbc_lock=!1):void this.hide())},onCancel:function(){return!0},_onCancel:function(e){0!=this.onCancel(e)&&this.hide()},calcWidth:function(){return"400px"},_clearAll:function(){this.dialog.destroyRecursive(),delete this.dialog,this.dialog=null,this.focusHdl=null},_destroy:function(){null!=this.dialog&&(this.dialog.hide(),t.Dialog._dialogStack&&t.Dialog._dialogStack.length>1?setTimeout(e.hitch(this,this._clearAll),this.dialog.duration+200):this._clearAll())}})})},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(e,t,i,o,n,a,r,s,l,d,c,u,h,m,p,g,f,_,y,v,b,k,w,j,x,N,C,S,T){var A=o("dijit._DialogBase"+(g("dojo-bidi")?"_NoBidi":""),[w,x,N,j],{templateString:T,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:b.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(e){this._set("draggable",e)},maxRatio:.9,closable:!0,_setClosableAttr:function(e){this.closeButtonNode.style.display=e?"":"none",this._set("closable",e)},postMixInProperties:function(){var e=c.getLocalization("dijit","common");h.mixin(this,e),this.inherited(arguments)},postCreate:function(){l.set(this.domNode,{display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),this.inherited(arguments),i.after(this,"onExecute",h.hitch(this,"hide"),!0),i.after(this,"onCancel",h.hitch(this,"hide"),!0),this._modalconnects=[]},onLoad:function(){this._size(),this._position(),this.autofocus&&I.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(this.domNode),v.focus(this._firstFocusItem)},_endDrag:function(){var e=s.position(this.domNode),t=f.getBox(this.ownerDocument);e.y=Math.min(Math.max(e.y,0),t.h-e.h),e.x=Math.min(Math.max(e.x,0),t.w-e.w),this._relativePosition=e,this._position()},_setup:function(){var e=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==g("ie")?y:_)(e,{handle:this.titleBar}),i.after(this._moveable,"onMoveStop",h.hitch(this,"_endDrag"),!0)):r.add(e,"dijitDialogFixed"),this.underlayAttrs={dialogId:this.id,"class":t.map(this["class"].split(/\s/),function(e){return e+"_underlay"}).join(" "),_onKeyDown:h.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild(),this._singleChild?"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle):l.set(this.containerNode,{width:"auto",height:"auto"});var e=s.position(this.domNode),t=f.getBox(this.ownerDocument);if(t.w*=this.maxRatio,t.h*=this.maxRatio,e.w>=t.w||e.h>=t.h){var i=s.position(this.containerNode),o=Math.min(e.w,t.w)-(e.w-i.w),n=Math.min(e.h,t.h)-(e.h-i.h);this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),this._singleChild.resize({w:o,h:n})):l.set(this.containerNode,{width:o+"px",height:n+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!r.contains(this.ownerDocumentBody,"dojoMove")){var e=this.domNode,t=f.getBox(this.ownerDocument),i=this._relativePosition,o=i?null:s.position(e),n=Math.floor(t.l+(i?i.x:(t.w-o.w)/2)),a=Math.floor(t.t+(i?i.y:(t.h-o.h)/2));l.set(e,{left:n+"px",top:a+"px"})}},_onKey:function(e){if(e.keyCode==u.TAB){this._getFocusItems(this.domNode);var t=e.target;this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):t==this._firstFocusItem&&e.shiftKey?(v.focus(this._lastFocusItem),e.stopPropagation(),e.preventDefault()):t!=this._lastFocusItem||e.shiftKey||(v.focus(this._firstFocusItem),e.stopPropagation(),e.preventDefault())}else this.closable&&e.keyCode==u.ESCAPE&&(this.onCancel(),e.stopPropagation(),e.preventDefault())},show:function(){if(!this.open){this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),I.hide(this));var e=f.get(this.ownerDocument);this._modalconnects.push(m(e,"scroll",h.hitch(this,"resize"))),this._modalconnects.push(m(this.domNode,"keydown",h.hitch(this,"_onKey"))),l.set(this.domNode,{opacity:0,display:""}),this._set("open",!0),this._onShow(),this._size(),this._position();var t;this._fadeInDeferred=new n(h.hitch(this,function(){t.stop(),delete this._fadeInDeferred}));var i=this._fadeInDeferred.promise;return t=d.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:h.hitch(this,function(){I.show(this,this.underlayAttrs)}),onEnd:h.hitch(this,function(){this.autofocus&&I.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem)),this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),i}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var e;this._fadeOutDeferred=new n(h.hitch(this,function(){e.stop(),delete this._fadeOutDeferred})),this._fadeOutDeferred.then(h.hitch(this,"onHide"));var t=this._fadeOutDeferred.promise;e=d.fadeOut({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,function(){this.domNode.style.display="none",I.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred})}).play(),this._scrollConnected&&(this._scrollConnected=!1);for(var i;i=this._modalconnects.pop();)i.remove();return this._relativePosition&&delete this._relativePosition,this._set("open",!1),t}},resize:function(){"none"!=this.domNode.style.display&&(this._size(),g("touch")||this._position())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();for(var e;e=this._modalconnects.pop();)e.remove();I.hide(this),this.inherited(arguments)}});g("dojo-bidi")&&(A=o("dijit._DialogBase",A,{_setTitleAttr:function(e){this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this.set("title",this.title))}}));var M=o("dijit.Dialog",[S,A],{});M._DialogBase=A;var I=M._DialogLevelManager={_beginZIndex:950,show:function(e,t){D[D.length-1].focus=v.curNode;var i=D[D.length-1].dialog?D[D.length-1].zIndex+2:M._DialogLevelManager._beginZIndex;l.set(e.domNode,"zIndex",i),C.show(t,i-1),D.push({dialog:e,underlayAttrs:t,zIndex:i})},hide:function(e){if(D[D.length-1].dialog==e){D.pop();var i=D[D.length-1];if(1==D.length?C.hide():C.show(i.underlayAttrs,i.zIndex-1),e.refocus){var o=i.focus;if(!i.dialog||o&&a.isDescendant(o,i.dialog.domNode)||(i.dialog._getFocusItems(i.dialog.domNode),o=i.dialog._firstFocusItem),o)try{o.focus()}catch(n){}}}else{var r=t.indexOf(t.map(D,function(e){return e.dialog}),e);-1!=r&&D.splice(r,1)}},isTop:function(e){return D[D.length-1].dialog==e}},D=M._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return v.watch("curNode",function(e,t,i){var o=D[D.length-1].dialog;if(i&&o&&!o._fadeOutDeferred&&i.ownerDocument==o.ownerDocument){do if(i==o.domNode||r.contains(i,"dijitPopup"))return;while(i=i.parentNode);o.focus()}}),g("dijit-legacy-requires")&&p(0,function(){var t=["dijit/TooltipDialog"];e(t)}),M})},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(e,t,i,o,n,a,r,s,l,d,c,u){var h=t("dojo.dnd.Moveable",[a],{handle:"",delay:0,skip:!1,constructor:function(e,t){this.node=o.byId(e),t||(t={}),this.handle=t.handle?o.byId(t.handle):null,this.handle||(this.handle=this.node),this.delay=t.delay>0?t.delay:0,this.skip=t.skip,this.mover=t.mover?t.mover:c,this.events=[r(this.handle,l.press,i.hitch(this,"onMouseDown")),r(this.handle,"dragstart",i.hitch(this,"onSelectStart")),r(this.handle,"selectstart",i.hitch(this,"onSelectStart"))]},markupFactory:function(e,t,i){return new i(t,e)},destroy:function(){e.forEach(this.events,function(e){e.remove()}),this.events=this.node=this.handle=null},onMouseDown:function(e){this.skip&&d.isFormElement(e)||(this.delay?(this.events.push(r(this.handle,l.move,i.hitch(this,"onMouseMove")),r(this.handle,l.release,i.hitch(this,"onMouseUp"))),this._lastX=e.pageX,this._lastY=e.pageY):this.onDragDetected(e),e.stopPropagation(),e.preventDefault())
},onMouseMove:function(e){(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)&&(this.onMouseUp(e),this.onDragDetected(e)),e.stopPropagation(),e.preventDefault()},onMouseUp:function(e){for(var t=0;2>t;++t)this.events.pop().remove();e.stopPropagation(),e.preventDefault()},onSelectStart:function(e){this.skip&&d.isFormElement(e)||(e.stopPropagation(),e.preventDefault())},onDragDetected:function(e){new this.mover(this.node,e,this)},onMoveStart:function(e){s.publish("/dnd/move/start",e),n.add(u.body(),"dojoMove"),n.add(this.node,"dojoMoveItem")},onMoveStop:function(e){s.publish("/dnd/move/stop",e),n.remove(u.body(),"dojoMove"),n.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(e,t){this.onMoving(e,t);var i=e.node.style;i.left=t.l+"px",i.top=t.t+"px",this.onMoved(e,t)},onMoving:function(){},onMoved:function(){}});return h})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(e,t,i,o){var n=i.getObject("dojo.dnd",!0);return n.getCopyKeyState=function(t){return t[e("mac")?"metaKey":"ctrlKey"]},n._uniqueId=0,n.getUniqueId=function(){var e;do e=t._scopeName+"Unique"+ ++n._uniqueId;while(o.byId(e));return e},n._empty={},n.isFormElement=function(e){var t=e.target;return 3==t.nodeType&&(t=t.parentNode)," a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0},n})},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(e,t,i,o,n,a,r,s,l,d,c,u,h){return t("dojo.dnd.Mover",[l],{constructor:function(e,t,o){function n(e){e.preventDefault(),e.stopPropagation()}this.node=a.byId(e),this.marginBox={l:t.pageX,t:t.pageY},this.mouseButton=t.button;var r=this.host=o,s=e.ownerDocument;this.events=[d(s,c.move,i.hitch(this,"onFirstMove")),d(s,c.move,i.hitch(this,"onMouseMove")),d(s,c.release,i.hitch(this,"onMouseUp")),d(s,"dragstart",n),d(s.body,"selectstart",n)],h.autoScrollStart(s),r&&r.onMoveStart&&r.onMoveStart(this)},onMouseMove:function(e){h.autoScroll(e);var t=this.marginBox;this.host.onMove(this,{l:t.l+e.pageX,t:t.t+e.pageY},e),e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){(o("webkit")&&o("mac")&&2==this.mouseButton?0==e.button:this.mouseButton==e.button)&&this.destroy(),e.preventDefault(),e.stopPropagation()},onFirstMove:function(e){var t,i,o=this.node.style,a=this.host;switch(o.position){case"relative":case"absolute":t=Math.round(parseFloat(o.left))||0,i=Math.round(parseFloat(o.top))||0;break;default:o.position="absolute";var l=r.getMarginBox(this.node),d=n.doc.body,c=s.getComputedStyle(d),u=r.getMarginBox(d,c),h=r.getContentBox(d,c);t=l.l-(h.l-u.l),i=l.t-(h.t-u.t)}this.marginBox.l=t-this.marginBox.l,this.marginBox.t=i-this.marginBox.t,a&&a.onFirstMove&&a.onFirstMove(this,e),this.events.shift().remove()},destroy:function(){e.forEach(this.events,function(e){e.remove()});var t=this.host;t&&t.onMoveStop&&t.onMoveStop(this),this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(e,t,i,o,n,a){var r={};e.setObject("dojo.dnd.autoscroll",r),r.getViewport=a.getBox,r.V_TRIGGER_AUTOSCROLL=32,r.H_TRIGGER_AUTOSCROLL=32,r.V_AUTOSCROLL_VALUE=16,r.H_AUTOSCROLL_VALUE=16;var s,l=i.doc,d=1/0,c=1/0;return r.autoScrollStart=function(e){l=e,s=a.getBox(l);var t=i.body(l).parentNode;d=Math.max(t.scrollHeight-s.h,0),c=Math.max(t.scrollWidth-s.w,0)},r.autoScroll=function(e){var t=s||a.getBox(l),o=i.body(l).parentNode,n=0,u=0;e.clientX<r.H_TRIGGER_AUTOSCROLL?n=-r.H_AUTOSCROLL_VALUE:e.clientX>t.w-r.H_TRIGGER_AUTOSCROLL&&(n=Math.min(r.H_AUTOSCROLL_VALUE,c-o.scrollLeft)),e.clientY<r.V_TRIGGER_AUTOSCROLL?u=-r.V_AUTOSCROLL_VALUE:e.clientY>t.h-r.V_TRIGGER_AUTOSCROLL&&(u=Math.min(r.V_AUTOSCROLL_VALUE,d-o.scrollTop)),window.scrollBy(n,u)},r._validNodes={div:1,p:1,td:1},r._validOverflow={auto:1,scroll:1},r.autoScrollNodes=function(e){for(var a,s,l,d,c,u,h,m,p=0,g=0,f=e.target;f;){if(1==f.nodeType&&f.tagName.toLowerCase()in r._validNodes){var _=n.getComputedStyle(f),y=_.overflow.toLowerCase()in r._validOverflow,v=_.overflowX.toLowerCase()in r._validOverflow,b=_.overflowY.toLowerCase()in r._validOverflow;if((y||v||b)&&(a=o.getContentBox(f,_),s=o.position(f,!0)),(y||v)&&(l=Math.min(r.H_TRIGGER_AUTOSCROLL,a.w/2),c=e.pageX-s.x,(t("webkit")||t("opera"))&&(c+=i.body().scrollLeft),p=0,c>0&&c<a.w&&(l>c?p=-l:c>a.w-l&&(p=l),h=f.scrollLeft,f.scrollLeft=f.scrollLeft+p)),(y||b)&&(d=Math.min(r.V_TRIGGER_AUTOSCROLL,a.h/2),u=e.pageY-s.y,(t("webkit")||t("opera"))&&(u+=i.body().scrollTop),g=0,u>0&&u<a.h&&(d>u?g=-d:u>a.h-d&&(g=d),m=f.scrollTop,f.scrollTop=f.scrollTop+g)),p||g)return}try{f=f.parentNode}catch(k){f=null}}r.autoScroll(e)},r})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(e,t){var i=t.prototype.onMove;return e("dojo.dnd.TimedMoveable",t,{timeout:40,constructor:function(e,t){t||(t={}),t.timeout&&"number"==typeof t.timeout&&t.timeout>=0&&(this.timeout=t.timeout)},onMoveStop:function(e){e._timer&&(clearTimeout(e._timer),i.call(this,e,e._leftTop)),t.prototype.onMoveStop.apply(this,arguments)},onMove:function(e,t){if(e._leftTop=t,!e._timer){var o=this;e._timer=setTimeout(function(){e._timer=null,i.call(o,e,e._leftTop)},this.timeout)}}})})},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(e,t,i,o,n,a,r,s,l,d,c,u){var h=e("dijit.DialogUnderlay",[s,l],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(e){o.set(this.node,"id",e+"_underlay"),this._set("dialogId",e)},_setClassAttr:function(e){this.node.className="dijitDialogUnderlay "+e,this._set("class",e)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.own(a(this.domNode,"keydown",t.hitch(this,"_onKeyDown"))),this.inherited(arguments)},layout:function(){var e=this.node.style,t=this.domNode.style;t.display="none";var i=r.getBox(this.ownerDocument);t.top=i.t+"px",t.left=i.l+"px",e.width=i.w+"px",e.height=i.h+"px",t.display="block"},show:function(){this.domNode.style.display="block",this.open=!0,this.layout(),this.bgIframe=new d(this.domNode);var e=r.get(this.ownerDocument);this._modalConnects=[c.on("resize",t.hitch(this,"layout")),a(e,"scroll",t.hitch(this,"layout"))]},hide:function(){for(this.bgIframe.destroy(),delete this.bgIframe,this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});return h.show=function(e,t){var i=h._singleton;!i||i._destroyed?i=u._underlay=h._singleton=new h(e):e&&i.set(e),n.set(i.domNode,"zIndex",t),i.open||i.show()},h.hide=function(){var e=h._singleton;e&&!e._destroyed&&e.hide()},h})},"dijit/form/Form":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(e,t,i,o,n,a,r,s){return e("dijit.form.Form",[n,a,r,s],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"",this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(e){t.set(this.domNode,"encType",e),o("ie")&&(this.domNode.encoding=e),this._set("encType",e)},reset:function(e){var t={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};this.onReset(t)!==!1&&t.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(e){return this.reset(e),e.stopPropagation(),e.preventDefault(),!1},_onSubmit:function(e){var t=this.constructor.prototype;(this.execute!=t.execute||this.onExecute!=t.onExecute)&&(i.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues())),this.onSubmit(e)===!1&&(e.stopPropagation(),e.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){this.onSubmit()!==!1&&this.containerNode.submit()}})})},"viewer/widgets/LotusTextButton":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/Button"],function(e,t){e.provide("viewer.widgets.LotusTextButton"),e.require("dijit.form.Button"),e.declare("viewer.widgets.LotusTextButton",[t._Widget,t.form.Button],{postCreate:function(){this.inherited(arguments),e.addClass(this.titleNode.parentNode,"lotusBtn");var t=this.titleNode.parentNode.nextSibling;t&&t.removeAttribute("role")}})})},"viewer/widgets/FloatBox":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/CommonDialog"],function(e){e.provide("viewer.widgets.FloatBox"),e.require("viewer.widgets.CommonDialog"),e.declare("viewer.widgets.FloatBox",[viewer.widgets.CommonDialog],{"-chains-":{constructor:"manual"},constructor:function(e,t,i,o){o=!1,this.okVisible=!1,this.closeVisible=!1,this.inherited(arguments)},show:function(){this.inherited(arguments),this.dialog._hide_=this.dialog.hide,this.dialog.hide=function(){}},hide:function(){null!=this.dialog&&this.dialog._hide_()}})})},"viewer/widgets/PagePicker":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/PagePicker","dojo/require!dijit/_Widget,dijit/_Templated,dijit/form/NumberTextBox,viewer/widgets/PageControlWidget,dijit/layout/ContentPane"],function(e,t){e.provide("viewer.widgets.PagePicker"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("dijit.form.NumberTextBox"),e.require("viewer.widgets.PageControlWidget"),e.require("dijit.layout.ContentPane"),e.requireLocalization("viewer.widgets","PagePicker"),e.declare("viewer.widgets.PagePicker",[viewer.widgets.PageControlWidget,t._Widget,t._Templated],{templateString:e.cache("viewer.widgets","templates/PagePicker.html",'<div dojoAttachPoint="outerNode" class="pagePicker" style="text-align: center;">\n	<div dojoAttachPoint="pageInputWrapper" class="inputWrapper">\n	    <button dojoType="dijit.form.Button" title= "${labelPrev}" iconClass= "prevButton" class="lotusDijitButtonImg" showLabel="false" dojoAttachPoint="pagePrevImg" label="${labelPrev}" dojoAttachEvent="onClick:_onPrevSelect"></button>\n		<span dir=\'ltr\'>\n		<label for="selector_page" alt="${labelPageInput}" style="display:none;">${labelPageInput}</label>\n		<input id="selector_page" type="text" dojoType="dijit.form.NumberTextBox" class="pageInput" constraints=\'{pattern: "#"}\' regExpGen=\'return "\\\\d+";\' dojoAttachPoint="pageInput"/>\n		<span>/</span>\n		<span dojoAttachPoint="textPageNum"></span>\n		</span>\n		<button dojoType="dijit.form.Button" title= "${labelNext}" iconClass= "nextButton" class="lotusDijitButtonImg" showLabel="false" dojoAttachPoint="pageNextImg" label="${labelNext}" dojoAttachEvent="onClick:_onNextSelect"></button>\n	</div>\n</div>'),pageNum:0,currentPage:0,widgetsInTemplate:!0,postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.widgets","PagePicker");e.mixin(this,t),this.inherited(arguments)},postCreate:function(){this.setPageNum(this.pageNum),this.connect(this.pageInput.focusNode,"onkeydown",e.hitch(this,this._enterPage)),this.updateCurrentPage(this.currentPage,!0),e.subscribe(viewer.util.Events.PAGE_INFO_UPDATED,this,this._onPageInfoUpdated),this.inherited(arguments)},setPageNum:function(t){var i=this.pageNum!=t;this.pageNum=t,this.textPageNum.innerHTML=t,this.pageInput.focusNode.size=(t+"").length,e.mixin(this.pageInput.constraints,{min:1,max:this.pageNum}),0==this.pageNum?(this.pagePrevImg.attr("disabled",!0),this.pageNextImg.attr("disabled",!0)):i&&this.updateCurrentPage(this.currentPage,!0)},setCurrentPage:function(e){this.updateCurrentPage(e)&&this.notifyPageSelected(e)},updateCurrentPage:function(e,t){return 1>e||e>this.pageNum?!1:e!=this.currentPage||t?(this.currentPage=e,this.pageInput.setValue(e),1==e?this.pagePrevImg.attr("disabled",!0):this.pageNum>1?this.pagePrevImg.attr("disabled",!1):this.pagePrevImg.attr("disabled",!0),e==this.pageNum?this.pageNextImg.attr("disabled",!0):this.pageNum>1?this.pageNextImg.attr("disabled",!1):this.pageNextImg.attr("disabled",!0),!0):!1},_onPrevSelect:function(){this.currentPage>1&&this.setCurrentPage(this.currentPage-1)},_onNextSelect:function(){this.currentPage<this.pageNum&&this.setCurrentPage(this.currentPage+1)},_onPageSelected:function(e){this.updateCurrentPage(e)},_onPageInfoUpdated:function(e){this.setPageNum(e)},_enterPage:function(t){if(t.keyCode==e.keys.ENTER){var i=this.pageInput.getValue();i&&this.setCurrentPage(i),t.preventDefault()}}})})},"viewer/widgets/PageControlWidget":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget"],function(e,t){e.provide("viewer.widgets.PageControlWidget"),e.require("dijit._Widget"),e.declare("viewer.widgets.PageControlWidget",[t._Widget],{viewManager:null,postCreate:function(){e.subscribe(viewer.util.Events.PAGE_SELECTED,this,this._onPageSelected)},_onPageSelected:function(){throw"_onPageSelected must be implemented"},notifyPageSelected:function(e){this.viewManager&&this.viewManager.setCurrentPage&&this.viewManager.setCurrentPage(e)},notifyPageScroll:function(e){this.viewManager&&this.viewManager.views[this.viewManager.currentMode]._onKeyPress&&this.viewManager.views[this.viewManager.currentMode]._onKeyPress(e)},scrollIntoView:function(t,i){try{t=e.byId(t);var o=t.ownerDocument||e.doc,n=o.body||e.body(),a=o.documentElement||n.parentNode,r=e.isIE,s=e.isWebKit;if((!(e.isMoz||r||s||e.isOpera)||t==n||t==a)&&"undefined"!=typeof t.scrollIntoView)return void t.scrollIntoView(!1);var l="BackCompat"==o.compatMode,d=l?n:a,c=s?n:d,u=d.clientWidth,h=d.clientHeight,m=!e._isBodyLtr(),p=i||e.position(t),g=t.parentNode,f=function(t){return 6>=r||r&&l?!1:"fixed"==e.style(t,"position").toLowerCase()};if(f(t))return;for(;g;){g==n&&(g=c);var _=e.position(g),y=f(g);if(g==c)_.w=u,_.h=h,c==a&&r&&m&&(_.x+=c.offsetWidth-_.w),(_.x<0||!r)&&(_.x=0),(_.y<0||!r)&&(_.y=0);else{var v=e._getPadBorderExtents(g);_.w-=v.w,_.h-=v.h,_.x+=v.l,_.y+=v.t}if(g!=c){var b=g.clientWidth,k=_.w-b;b>0&&k>0&&(_.w=b,r&&m&&(_.x+=k)),b=g.clientHeight,k=_.h-b,b>0&&k>0&&(_.h=b)}y&&(_.y<0&&(_.h+=_.y,_.y=0),_.x<0&&(_.w+=_.x,_.x=0),_.y+_.h>h&&(_.h=h-_.y),_.x+_.w>u&&(_.w=u-_.x));var w=p.x-_.x,j=p.y-Math.max(_.y,0),x=w+p.w-_.w,N=j+p.h-_.h;if(x*w>0){var C=Math[0>w?"max":"min"](w,x);p.x+=g.scrollLeft,g.scrollLeft+=r>=8&&!l&&m?-C:C,p.x-=g.scrollLeft}N*j>0&&(p.y+=g.scrollTop,g.scrollTop+=Math[0>j?"max":"min"](j,N),p.y-=g.scrollTop),g=g!=c&&!y&&g.parentNode}}catch(S){console.error("scrollIntoView: "+S),t.scrollIntoView(!1)}},searchPage:function(e,t){for(var i=0,o=t-1,n=-1;o>=i;){var a=i+o>>1;if(this.comparePos(a+1,e)<0)i=a+1;else{if(!(this.comparePos(a+1,e)>0)){n=a;break}o=a-1}}return-1==n&&(n=i),n+1},comparePos:function(){return console.warn("comparePos need to be implemented"),0}})})},"viewer/widgets/NormalContentContainer":function(){define(["dojo","dijit","dojox","dojo/require!viewer/util/Events,viewer/widgets/ScalableContentContainer,viewer/widgets/ImageContainer,dijit/_Widget,dijit/_Templated,dijit/form/Button"],function(e,t){e.provide("viewer.widgets.NormalContentContainer"),e.require("viewer.util.Events"),e.require("viewer.widgets.ScalableContentContainer"),e.require("viewer.widgets.ImageContainer"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("dijit.form.Button"),e.declare("viewer.widgets.NormalContentContainer",[viewer.widgets.ScalableContentContainer,viewer.widgets.ImageContainer,t._Widget,t._Templated],{orgHeight:0,orgWidth:1600,pagesInfo:[],templateString:e.cache("viewer.widgets","templates/NormalContentContainer.html",'<div class="dijit normalContentContainer" dojoAttachPoint="normalContentContainer" tabIndex="${tabIndex}">\n	<div class="dijit normalMarginContainer" dojoAttachPoint="normalMarginContainer">\n		<div class="dijit normalImageWrapper imageUnload" dojoAttachPoint="normalImageWrapper">\n		</div>\n		<div class="dijit normalCacheContainer" dojoAttachPoint="normalCacheContainer" style="display:none">\n		</div>\n	</div>\n</div>'),imgIdx:0,imgNode:null,baseUri:"",tabIndex:0,bFirstLoad:!0,postCreate:function(){0!=this.imgIdx&&this._onPageSelected(this.imgIdx),e.subscribe(viewer.util.Events.PAGE_INFO_UPDATED,this,this._onPageInfoUpdated);var i=new t.form.Button({id:"B_Normal_Reload",title:this.btnReload,showLabel:!1,label:this.btnReload,iconClass:"reloadIcon",onClick:e.hitch(this,function(){this.reloadImg()})});e.place(i.domNode,this.normalImageWrapper,"first"),e.addClass(i.domNode,"ContentReloadButton"),e.addClass(i.domNode,"lotusDijitButtonImg"),this.reloadButton=i,this.createMessageBox(),this.inherited(arguments)},createMessageBox:function(){if(0==this.viewManager.mediaSize){var e=new viewer.widgets.ViewerMessage({type:0,parentDiv:this});e.showMessage()}},resize:function(){if(!this.imgIdx)return void(this.pagesInfo[0]&&this.pagesInfo[0].getFullImageInfo()&&this.loadImage(1));var t,i,o,n,a=this.normalContentContainer.parentNode,r=a.clientHeight,s=a.clientWidth,l=this.scale;if("fitWidth"==this.style){var d=this.orgHeight>r;i=d?s-20:s-8,t=this.pagesInfo[this.imgIdx-1].getScaledFullImageHeight(i-2)+2,(2>i||2>t)&&(i=2,t=2),this.scale=(i-2)/this.orgWidth}else if("fitHeight"==this.style){var c=this.orgWidth>s;t=c?r-20:s-8,i=this.pagesInfo[this.imgIdx-1].getScaledFullImageWidth(t),(2>i||2>t)&&(i=2,t=2),this.scale=(i-2)/this.orgWidth}else if("fitWindow"==this.style){n=r-8,o=s-8;var u=this.pagesInfo[this.imgIdx-1].getScaledFullImageWidth(n)+2;u>o?(i=o,t=this.pagesInfo[this.imgIdx-1].getScaledHeight(i-2)+2):(t=n,i=u),(2>i||2>t)&&(i=2,t=2),this.scale=(i-2)/this.orgWidth}else if("slideMode"==this.style){n=.8*(r-8),o=.8*(s-8);var u=this.pagesInfo[this.imgIdx-1].getScaledFullImageWidth(n)+2;u>o?(i=o,t=this.pagesInfo[this.imgIdx-1].getScaledFullImageHeight(i-2)+2):(t=n,i=u),(2>i||2>t)&&(i=2,t=2),this.scale=(i-2)/this.orgWidth}else i=this.orgWidth*this.scale+2,t=this.orgHeight*this.scale+2;if(r>t){var h;h=s>i?(r-t)/2:(r-20-t)/2,e.style(this.normalMarginContainer,"top",h+"px"),e.style(this.normalMarginContainer,"height",t+"px")}else e.style(this.normalMarginContainer,"height",t+"px"),e.style(this.normalMarginContainer,"top","0px");if(s>i){var m;m=right=r>t?(s-i)/2:(s-20-i)/2,e.style(this.normalMarginContainer,"left",m+"px"),e.style(this.normalMarginContainer,"width",i+"px")}else e.style(this.normalMarginContainer,"width",i+"px"),e.style(this.normalMarginContainer,"left","0px");this.imgNode&&(e.attr(this.imgNode,"width",i-4),e.attr(this.imgNode,"height",t-4)),this.setReloadBtnSize(i-2),this.positionReloadButton(),l!=this.scale&&this.notifyScaleChanged(this.scale)},loadImage:function(t,i){if(t!=this.imgIdx||!this.imgNode){this.imgIdx=t,e.removeClass(this.normalImageWrapper,"imageLoadErr"),e.addClass(this.normalImageWrapper,"imageUnload");var o=e.byId("normalContentImg_"+this.imgIdx),n=this.imgNode;o?(e.place(o,this.normalImageWrapper,"last"),this.imgNode=o,e.hasClass(o,"loadErr")?(e.addClass(this.normalImageWrapper,"imageLoadErr"),e.removeClass(this.normalImageWrapper,"imageUnload")):e.hasClass(o,"loaded")&&e.removeClass(this.normalImageWrapper,"imageUnload")):this.imgNode=this.createPageImage(t,this.normalImageWrapper,i),n&&e.place(n,this.normalCacheContainer,"last"),this.orgHeight=this.pagesInfo[t-1].getScaledFullImageHeight(this.orgWidth),this.resize()}},reloadImg:function(){if(this.imgIdx){var t=e.byId("normalContentImg_"+this.imgIdx);t&&(t==this.imgNode&&(this.imgNode=null),e.destroy(t)),e.removeClass(this.normalImageWrapper,"imageLoadErr"),e.addClass(this.normalImageWrapper,"imageUnload"),setTimeout(e.hitch(this,this.loadImage,this.imgIdx,!0),1e3)}},loadImageInCache:function(t){var i=e.byId("normalContentImg_"+t);i||(i=this.createPageImage(t,this.normalCacheContainer))},createPageImage:function(t,i,o){var n=null;if(this.pagesInfo[t-1]&&this.pagesInfo[t-1].getFullImageInfo()){var a=this.baseUri+"/"+this.pagesInfo[t-1].getFullImageInfo().getFilepath(),r=this._isFirstFullImage(a);if((o||r)&&(a+="?preventCache="+(new Date).valueOf()),this.pagesInfo[t-1].getThumbnailInfo()){var s=this.baseUri+"/"+this.pagesInfo[t-1].getThumbnailInfo().getFilepath();n=e.create("img",{id:"normalContentImg_"+t,src:s,alt:this.contentImage+" "+t},i),e.removeClass(this.normalImageWrapper,"imageUnload");var l=new Image;e.attr(l,"src",a),l.onload=e.hitch(this,this._onImageLoaded,l,n,a),l.onerror=e.hitch(this,this._onImageLoadErr,l,n)}else n=e.create("img",{id:"normalContentImg_"+t,src:a,alt:this.contentImage+" "+t,onload:e.hitch(this,this._onAltImageLoaded,n),onerror:e.hitch(this,this._onAltImageLoadErr,n)},i)}return n},_isFirstFullImage:function(e){var t="pictures/image.jpg",i="pictures/image.png",o="pictures/image.gif",n=e.length-t.length,a=e.substr(n);return a==t||a==i||a==o?!0:!1},getReloadButtonSize:function(){return e.marginBox(this.reloadButton.domNode.firstChild)},positionReloadButton:function(){var t=this.normalImageWrapper.clientWidth,i=this.getReloadButtonSize();i.w>0&&(e.style(this.reloadButton.domNode,"marginLeft",(t-i.w)/2+"px"),e.style(this.reloadButton.domNode,"marginRight",(t-i.w)/2+"px"),e.style(this.reloadButton.domNode,"marginTop","5px"))},_onImageLoaded:function(t,i,o){e.attr(i,"src",o),e.destroy(t),this._onAltImageLoaded(i)},_onAltImageLoaded:function(t){return t==this.imgNode&&e.removeClass(this.normalImageWrapper,"imageUnload"),e.addClass(t,"loaded"),t.onload=null,t.onerror=null,!1},_onImageLoadErr:function(t,i){e.destroy(t),this._onAltImageLoadErr(i)},_onAltImageLoadErr:function(t){t==this.imgNode&&(e.removeClass(this.normalImageWrapper,"imageUnload"),e.addClass(this.normalImageWrapper,"imageLoadErr")),e.addClass(t,"loadErr"),this.positionReloadButton(),t.onload=null,t.onerror=null},_onReloadBtnClicked:function(){this.reloadImg()},_onPageSelected:function(e){0!=e&&(e>1&&(this.bFirstLoad=!1),this.loadImage(e),this.bFirstLoad||(e>1&&this.loadImageInCache(e-1),e<this.pagesInfo.length&&this.loadImageInCache(e+1)))},_onPageInfoUpdated:function(e,t,i){this.pagesInfo=t,i.orgWidth&&(this.orgWidth=i.orgWidth,this.resize()),this._onPageSelected(this.imgIdx)},_onKeyPress:function(t){t.keyCode==e.keys.UP_ARROW?this.normalContentContainer.scrollTop-=20:t.keyCode==e.keys.DOWN_ARROW?this.normalContentContainer.scrollTop+=20:t.keyCode==e.keys.LEFT_ARROW?this.normalContentContainer.scrollLeft-=20:t.keyCode==e.keys.RIGHT_ARROW&&(this.normalContentContainer.scrollLeft+=20)}})})},"viewer/util/Events":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.util.Events"),viewer.util.Events={PAGE_SELECTED:"pageSelected",SCALE_CHANGED:"scaleChanged",STYLE_CHANGED:"styleChanged",PAGE_INFO_UPDATED:"pageInfoUpdated"}})},"viewer/widgets/ScalableContentContainer":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,viewer/widgets/PageControlWidget"],function(e){e.provide("viewer.widgets.ScalableContentContainer"),e.require("dijit._Widget"),e.require("viewer.widgets.PageControlWidget"),e.declare("viewer.widgets.ScalableContentContainer",[viewer.widgets.PageControlWidget],{scale:0,style:"",postCreate:function(){e.subscribe(viewer.util.Events.SCALE_CHANGED,this,this._onRescaled),e.subscribe(viewer.util.Events.STYLE_CHANGED,this,this._onStyleChanged),this.inherited(arguments)},_onRescaled:function(e){this.scale!=e&&(""!=this.style&&(this.style="",this.notifyStyleChanged("")),this.scale=e,this.resize())},_onStyleChanged:function(e){if(this.style!=e){this.style=e;{this.scale}this.resize()}},notifyStyleChanged:function(e){this.viewManager&&this.viewManager.setCurrentStyle&&this.viewManager.setCurrentStyle(e)},notifyScaleChanged:function(e){this.viewManager&&this.viewManager.setCurrentScale&&this.viewManager.setCurrentScale(e)}})})},"viewer/widgets/ImageContainer":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/ImageContainer"],function(e,t){e.provide("viewer.widgets.ImageContainer"),e.requireLocalization("viewer.widgets","ImageContainer"),e.declare("viewer.widgets.ImageContainer",[t._Widget],{postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.widgets","ImageContainer");e.mixin(this,t),this.inherited(arguments)},getPreferredReloadBtnSize:function(e){var t=32;return t=100>e?16:200>e?24:800>e?32:1600>e?48:64},setReloadBtnSize:function(t){var i=this.getPreferredReloadBtnSize(t);e.attr(this.domNode,"preferredBtnSize",i)},createImage:function(t,i){var o=null;if(t&&(t.onload||t.onerror)){o=new Image,t.onload&&(o.onload=t.onload),t.onerror&&(o.onerror=t.onerror);for(var n in t)e.attr(o,n,t[n]);i.appendChild(o)}else o=e.create("img",t,i);return o}})})},"viewer/widgets/ThumbnailPicker":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated,viewer/widgets/PageControlWidget,viewer/widgets/ImageContainer"],function(e,t){e.provide("viewer.widgets.ThumbnailPicker"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("viewer.widgets.PageControlWidget"),e.require("viewer.widgets.ImageContainer"),e.declare("viewer.widgets.ThumbnailPicker",[viewer.widgets.PageControlWidget,viewer.widgets.ImageContainer,t._Widget,t._Templated],{size:0,pagesInfo:[],imgsInfo:[],tabIndex:0,baseUri:"",thumbWidth:133,viewManager:null,templateString:'<div class="dijit thumbnailPicker" dojoAttachPoint="thumbnailContainer" dojoAttachEvent="onscroll: _onScroll,onkeypress:_onKeyPress" tabIndex="${tabIndex}"><table role="presentation" dojoAttachPoint="thumbnailTable" style="align: center" dojoAttachEvent="onkeypress:_onKeyPress"><tbody dojoAttachPoint="thumbnailTBody"></tbody></table></div>',postCreate:function(){this.setReloadBtnSize(this.thumbWidth),e.style(this.thumbnailTable,"width",this.thumbWidth+30+"px"),this.createPlaceHolder(),e.subscribe(viewer.util.Events.PAGE_INFO_UPDATED,this,this._onPageInfoUpdated),this.inherited(arguments)},createPlaceHolder:function(t){var i,o,n,a,r,s,l,d;t||(t=1);for(var c=t;c<=this.size;c++)d=this.thumbWidth,this.pagesInfo[c-1]&&(l=this.pagesInfo[c-1].getScaledThumbnailHeight(d)),this.imgsInfo[c-1]={},this.imgsInfo[c-1].offset=1==c?l+21:this.imgsInfo[c-2].offset+l+21,this.imgsInfo[c-1].loaded=!1,o=e.create("tr",null,this.thumbnailTBody),i=e.create("td",null,o),n=document.createTextNode(""+c),i.appendChild(n),i=e.create("td",{id:"thumbnailCell_"+c,width:d+16+"px",onclick:e.hitch(this,this._onThumbnailClicked,c),onmouseover:e.hitch(this,this._onMouseOver,c),onmouseout:e.hitch(this,this._onMouseOut,c)},o),r=e.create("div",{id:"thumbnailImageWrapper_"+c},i),s=e.create("div",{id:"thumbnailImagePlaceHolder_"+c},r),e.addClass(s,"thumbnailImagePlaceHolder"),e.style(s,"width",d+"px"),e.style(s,"height",l+"px"),a=e.create("img",{width:d,height:l,src:staticResPath+"/images/viewer/blank.gif",alt:this.thumbnailImage+" "+c,id:"thumbnailImage_"+c},r),e.addClass(r,"imageUnload")},_onThumbnailClicked:function(e,i){var o=t.byId("B_Thumbnail_Reload_"+e);if(o&&i.target!=o.domNode){for(var n=i.target,a=!1;n!=i.currentTarget;){var r=n.parentNode;if(r==o.domNode){a=!0;break}n=n.parentNode}if(a)return}this.updateCurrentPage(e)&&this.notifyPageSelected(e)},updateCurrentPage:function(t,i){var o=!1,n="thumbnailCell_"+t;if(e.query("td.selected",this.thumbnailContainer).forEach(function(t){var i=e.attr(t,"id");i&&i==n?o=!0:e.removeClass(t,"selected")}),!o){var a=e.byId(n);if(a){e.addClass(a,"selected"),e.removeClass(a,"hover");try{i&&this.scrollIntoView(a)}catch(r){}}}return!o},loadImg:function(t,i){if(!(0>=t||t>this.size)){var o="thumbnailImage_"+t;if(!this.imgsInfo[t-1].loaded&&this.pagesInfo[t-1]&&this.pagesInfo[t-1].getThumbnailInfo()){var n=e.byId(o);if(e.hasClass(n.parentNode,"imageUnload")){var a=this.thumbWidth,r=this.pagesInfo[t-1].getScaledThumbnailHeight(a),s=this.baseUri+"/"+this.pagesInfo[t-1].getThumbnailInfo().getFilepath();i?(s+="?preventCache="+(new Date).valueOf(),DOC_SCENE.compactMode&&(s+="&mode=compact")):DOC_SCENE.compactMode&&(s+="?mode=compact"),n.onload=e.hitch(this,this._onImageLoaded,n,t),n.onerror=e.hitch(this,this._onImageLoadErr,n,t),e.attr(n,"src",s),e.attr(n,"width",a),e.attr(n,"height",r)}this.imgsInfo[t-1].loaded=!0}}},reloadImg:function(t){var i="thumbnailImage_"+t,o=e.byId(i);e.addClass(o.parentNode,"imageUnload"),e.removeClass(o.parentNode,"imageLoadErr"),e.attr(o,"src",staticResPath+"/images/viewer/blank.gif"),this.imgsInfo[t-1].loaded=!1,setTimeout(e.hitch(this,this.loadImg,t,!0),1e3)},resize:function(){this.inherited(arguments),this.loadVisibleImgs()},getReloadButtonSize:function(t){return this.buttonSize||(this.buttonSize=e.marginBox(t.firstChild)),this.buttonSize},_onMouseOver:function(t){var i="thumbnailCell_"+t,o=e.byId(i);o&&(e.hasClass(o,"selected")||e.addClass(o,"hover"))},_onMouseOut:function(t){var i="thumbnailCell_"+t,o=e.byId(i);o&&e.removeClass(o,"hover")},_onImageLoaded:function(i){e.removeClass(i.parentNode,"imageUnload"),e.removeClass(i.parentNode,"imageLoadErr"),e.addClass(i.parentNode,"imageLoaded"),i.previousSibling&&(e.forEach(t.findWidgets(i.previousSibling),function(e){e.destroy()}),e.destroy(i.previousSibling)),i.onload=null,i.onerror=null},_onImageLoadErr:function(i,o){e.removeClass(i.parentNode,"imageUnload"),e.addClass(i.parentNode,"imageLoadErr");var n=i.previousSibling;if(!t.byId("B_Thumbnail_Reload_"+o)){var a=n.clientWidth,r=n.clientHeight,s=new t.form.Button({id:"B_Thumbnail_Reload_"+o,title:this.btnReload,showLabel:!1,label:this.btnReload,iconClass:"reloadIcon",onClick:e.hitch(this,function(e){return this.reloadImg(e),!1},o)});e.addClass(s.domNode,"ContentReloadButton"),e.place(s.domNode,n,"first");var l=this.getReloadButtonSize(s.domNode);e.style(s.domNode,"marginLeft",(a-l.w-8)/2+"px"),e.style(s.domNode,"marginRight",(a-l.w-8)/2+"px"),e.style(s.domNode,"marginTop",(r-l.h)/2+"px"),e.style(s.domNode,"marginBottom",(r-l.h)/2+"px")}i.onerror=null,i.onload=null},_onPageSelected:function(e){this.updateCurrentPage(e,!0),this.loadVisibleImgs()},_onPageInfoUpdated:function(e,t){if(this.pageInfo=t,this.size<e){var i=this.size;this.size=e,this.createPlaceHolder(i+1)}else this.size>e&&console.warn("page number is decreased!!!");this.loadVisibleImgs()},_onScroll:function(){this.loadVisibleImgs()},_onKeyPress:function(t){(t.keyCode==e.keys.UP_ARROW||t.keyCode==e.keys.DOWN_ARROW||t.keyCode==e.keys.LEFT_ARROW||t.keyCode==e.keys.RIGHT_ARROW||t.keyCode==e.keys.PAGE_UP||t.keyCode==e.keys.PAGE_DOWN)&&(t.preventDefault(),this.notifyPageScroll(t))},loadVisibleImgs:function(){for(var t=this.thumbnailContainer.scrollTop,i=e.contentBox(this.thumbnailContainer).h,o=t+i,n=this.searchPage(t,this.size),a=n;a<=this.size&&(this.loadImg(a),!(a<this.size&&this.imgsInfo[a-1].offset>o));a++);n>1&&this.loadImg(n-1)},comparePos:function(e,t){return this.imgsInfo[e-1].offset>t?1:this.imgsInfo[e-1].offset<t?-1:0}})})},"viewer/widgets/ViewerToolbar":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Toolbar"],function(e,t){e.provide("viewer.widgets.ViewerToolbar"),e.require("dijit.Toolbar"),e.declare("viewer.widgets.ViewerToolbar",[t.Toolbar],{tabIndex:"-1",_onContainerKeypress:function(t){t.keyCode==e.keys.UP_ARROW&&"&"!=t.keyChar||t.keyCode==e.keys.DOWN_ARROW&&"("!=t.keyChar||t.keyCode==e.keys.LEFT_ARROW&&"%"!=t.keyChar||t.keyCode==e.keys.RIGHT_ARROW?e.stopEvent(t):this.inherited(arguments)},_startupChild:function(e){e.attr("tabIndex","0")},_onContainerFocus:function(){}})})},"viewer/scenes/ErrorScene":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/scenes/nls/ErrorScene","dojo/require!dojo/i18n,dojo/string"],function(e){e.provide("viewer.scenes.ErrorScene"),e.require("dojo.i18n"),e.require("dojo.string"),e.requireLocalization("viewer.scenes","ErrorScene"),viewer.scenes.ErrorScene.getErrorMessage=function(t){var i=e.i18n.getLocalization("viewer.scenes","ErrorScene"),o=new Object;
if(o.title=i.service_unavailable_title,o.message=e.string.substitute(i.service_unavailable_content,{productName:window.g_prodName}),1001==t)o.title=i.access_denied_title,o.message=i.viewaccess_denied_content;else if(1002==t)o.title=i.access_denied_title,o.message=i.editaccess_denied_content;else if(1003==t)o.title=e.string.substitute(i.doc_notfound_title,{productName:window.g_prodName}),o.message=e.string.substitute(i.doc_notfound_content,{productName:window.g_prodName});else if(1004==t)o.title=i.fileconnect_denied_title,o.message=e.string.substitute(i.fileconnect_denied_content,{productName:window.g_prodName});else if(1005==t){if(o.title=i.repository_out_of_space_title,o.message=i.repository_out_of_space_content,null!=DOC_SCENE){var n=DOC_SCENE.type;"sheet"===n?o.message=e.string.substitute(i.repository_out_of_space_content,["spreadsheet"]):"text"===n?o.message=e.string.substitute(i.repository_out_of_space_content,["document"]):"pres"===n&&(o.message=e.string.substitute(i.repository_out_of_space_content,["presentation"]))}}else if(1007==t)o.title=i.access_denied_title,o.message=i.edit_locked_file;else if(1011==t)o.title=i.unpublished_document_title,o.message=i.unpublished_document_content;else if(1100==t)o.title=i.document_encrypt_title,o.message=i.document_encrypt_content;else if(1200==t)o.title=i.convservice_unavailable_title,o.message=i.convservice_unavailable_content;else if(1201==t){o.title=i.doc_toolarge_title,o.message=i.doc_toolarge_content;try{if(null!=viewerConfig&&null!=DOC_SCENE){var a=null;"sheet"===DOC_SCENE.type&&null!=viewerConfig.sheet?a=viewerConfig.sheet:"text"===DOC_SCENE.type&&null!=viewerConfig.text?a=viewerConfig.text:"pres"===DOC_SCENE.type&&null!=viewerConfig.pres?a=viewerConfig.pres:"pdf"===DOC_SCENE.type&&null!=viewerConfig.pdf&&(a=viewerConfig.pdf),o.message=a?e.string.substitute(i.doc_toolarge_content3,[a["max-size"]]):i.doc_toolarge_content}}catch(r){}}else 1202==t?(o.title=i.conversion_timeout_title,o.message=i.conversion_timeout_content):1203==t||1209==t?(o.title=i.invalid_docformat_title,o.message=i.invalid_docformat_content):1204==t||1300==t?(o.title=i.invalid_doctype_title,o.message=e.string.substitute(i.invalid_doctype_content,{productName:window.g_prodName})):1213==t||1214==t||1210==t||1260==t?(o.title=i.unexpecified_conversion_error_title,o.message=i.unexpecified_conversion_error_content):1206==t?(o.title=i.encrypted_conversion_error_title,o.message=e.string.substitute(i.encrypted_conversion_error_content,{productName:window.g_prodName})):1207==t?(o.title=i.service_busy_title,o.message=i.service_busy_content):1211==t?(o.title=i.empty_doc_title,o.message=i.empty_doc_content):1212==t?(o.title=i.corrupted_doc_title,o.message=i.corrupted_doc_content):1400==t?(o.title=i.malformed_request_title,o.message=i.malformed_request_content):1401==t?(o.title=i.fullviewer_notsupport_title,o.message=i.fullviewer_notsupport_content):1601==t||1602==t?(o.title=i.storageserver_error_title,o.message=i.storageserver_error_content):1700==t?(o.title=i.unexpected_code_title,o.message=e.string.substitute(i.unexpected_code_content,{docsProductName:window.g_docsProdName})):400==t?(o.title=i.incorrect_web_address_title,o.message=i.incorrect_web_address_content):3333==t?(o.title=i.pdf_error_title,o.message=i.pdf_error_content):(0==t||2001==t)&&(o.title=i.unexpecified_conversion_error_title,o.message=i.unexpecified_conversion_error_content);return o},viewer.scenes.ErrorScene.renderError=function(t,i){var o=e.body();try{var n=document.getElementsByTagName("head")[0],a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=staticResPath+"/js/viewer/css/error.css",n.appendChild(a)}catch(r){}e.addClass(o,"lotusui");var s=this.getErrorMessage(t),l='<div id="lotusFrame" class="lotusFrame" role="main">';if(l+='<div class="lotusErrorBox lotusError">',l+='<div class="lotusErrorContent">',l+='<img src="'+staticResPath+'/images/iconWarningLarge.gif" role="presentation" alt="">',l+='<div class="lotusErrorForm">',l+='<h1 id="scene-title">'+s.title+"</h1>",l+="<p>"+s.message+"</p>",i&&i.length>0&&(l+=i),l+="</div>",l+="</div>",l+="</div>",l+="</div>",o.innerHTML=l,g_featureConfig&&g_featureConfig.VIEWER_POSTMESSAGE_FEATURE){var d=new Object;d.event="ic-fileviewer/previewFailed",d.errorCode=t,d.errorMessage=-1!=s.title.lastIndexOf(".")&&s.title.lastIndexOf(".")==s.title.length-1?s.title+" "+s.message:s.title+". "+s.message,window.parent.postMessage(JSON.stringify(d),"*")}}})},"viewer/print/PrintManager":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/print/nls/PrintManager","dojo/require!viewer/print/PrintObserver,viewer/widgets/ConfirmBox,viewer/widgets/PrintSettingDialog,dojo/number"],function(e){e.provide("viewer.print.PrintManager"),e.require("viewer.print.PrintObserver"),e.require("viewer.widgets.ConfirmBox"),e.require("viewer.widgets.PrintSettingDialog"),e.require("dojo.number"),e.requireLocalization("viewer.print","PrintManager"),e.declare("viewer.print.PrintManager",null,{paperSize:"A4",direction:"P",pagesInfo:null,baseUri:null,errNode:null,imgContainer:null,observer:null,nls:null,constructor:function(t,i,o,n){this.nls=e.i18n.getLocalization("viewer.print","PrintManager"),this.baseUri=i,this.imgContainer=e.byId(o),this.errNode=e.byId(n),this.pagesInfo=t,this._initSettings()},_initSettings:function(){var t=e.locale||g_locale,i=t.split("-")[1];if(this.paperSize=viewer.print.PrintManager.config.defaultSize,i){i=i.toUpperCase(),papers=viewer.print.PrintManager.config.papers;for(var o in papers){var n=papers[o].countries;if(n&&-1!=e.indexOf(n,i)){this.paperSize=o;break}}}if(this.pagesInfo.length>0){var a=this.pagesInfo[0].getFullImageInfo();this.direction=a.getPageWidth()>=a.getPageHeight()?"L":"P"}},print:function(t){if(!this.observer)if(t)this._print(t);else{var i=this.nls.labelPrintConfig,o=[];o[0]="A4"==this.paperSize?e.string.substitute(this.nls.labelConfigPageSize,[this.nls.labelPageA4]):e.string.substitute(this.nls.labelConfigPageSize,[this.nls.labelLetter]),o[1]="L"==this.direction?e.string.substitute(this.nls.labelConfigOrientation,[this.nls.labelLandscape]):e.string.substitute(this.nls.labelConfigOrientation,[this.nls.labelPortrait]),o[2]=this.nls.labelConfigHeader,o[3]=this.nls.labelConfigFooter,o[4]=this.nls.labelConfigMargins;var n="in"==viewer.print.PrintManager.config.papers[this.paperSize].unit?this.nls.labelInch:this.nls.labelMm,a=viewer.print.PrintManager.config.papers[this.paperSize].margin;o[5]=[],o[5][0]=e.string.substitute(this.nls.labelConfigMarginTop,[e.number.format(a.top,{type:"decimal"}),n]),o[5][1]=e.string.substitute(this.nls.labelConfigMarginBottom,[e.number.format(a.bottom,{type:"decimal"}),n]),o[5][2]=e.string.substitute(this.nls.labelConfigMarginLeft,[e.number.format(a.left,{type:"decimal"}),n]),o[5][3]=e.string.substitute(this.nls.labelConfigMarginRight,[e.number.format(a.right,{type:"decimal"}),n]);var r=this.nls.labelPrintContinue,s=new viewer.widgets.PrintSettingDialog(null,this.nls.titlePrintConfig,null,!1,{message:{msg1:i,configs:o,msg2:r},callback:e.hitch(this,function(){this._print(t)})});s.show()}},_print:function(t){this._beforePrint(),this.observer=new viewer.print.PrintObserver(this.pagesInfo.length,e.hitch(this,this._prepareData,t),e.hitch(this,this.onDataLoadSucc),e.hitch(this,this.onDataLoadFail),e.hitch(this,this.onDataLoadCancelled),this.nls),this.observer.start()},_beforePrint:function(){e.style(this.errNode,"display","none")},_prepareData:function(t){var i=null,o=viewer.print.PrintManager.config.papers[this.paperSize],n=o.margin,a=o.unit,r="P"==this.direction?o.width-n.top-n.bottom:o.height-n.top-n.bottom,s="P"==this.direction?o.height-n.left-n.right:o.width-n.left-n.right;if(0==this.imgContainer.children.length)for(var l=0;l<this.pagesInfo.length;l++){var d=this.pagesInfo[l],c=(d.getFullImageInfo().getPageWidth(),d.getFullImageInfo().getPageHeight(),r),u=s;i=new Image;var h=this.baseUri+"/"+d.getFullImageInfo().getFilepath();e.addClass(i,"printImg"),e.attr(i,"id","printImg_"+(l+1)),e.attr(i,"alt","Image"+(l+1)),i.onload=e.hitch(this,this.notifyImageLoad,i),i.onerror=e.hitch(this,this.notifyImageLoadErr,i),i.src=h,t&&(i.src=h+"?preventCache="+(new Date).valueOf()),e.style(i,"width",c+a),e.style(i,"height",u+a),e.place(i,this.imgContainer,"last")}},_afterPrint:function(){e.empty(this.imgContainer),this.observer=null,e.style(this.errNode,"display","")},notifyImageLoad:function(e){this.observer&&this.observer.onImageLoaded(e)},notifyImageLoadErr:function(e){this.observer&&this.observer.onImageLoadErr(e)},onDataLoadFail:function(t){if(t==this.observer){this._afterPrint();var i=new viewer.widgets.ConfirmBox(this,this.nls.titleErr,this.nls.btnRetry,!0,{message:this.nls.errPrepare,callback:function(t,i){return i&&setTimeout(e.hitch(t,t.print,i),500),!0},imageclass:"viewerSprite viewerSprite-msgError48"});i.show()}},onDataLoadSucc:function(e){e==this.observer&&(window.print(),this._afterPrint())},onDataLoadCancelled:function(e){e==this.observer&&this._afterPrint()}}),viewer.print.PrintManager.config={defaultSize:"A4",papers:{A4:{width:210,height:297,margin:{top:12,bottom:12,left:12,right:12},unit:"mm"},Letter:{width:8.5,height:11,margin:{top:.5,bottom:.5,left:.5,right:.5},unit:"in",countries:["US","CA"]}}}})},"viewer/print/PrintObserver":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/ProgressBar"],function(e){e.provide("viewer.print.PrintObserver"),e.require("viewer.widgets.ProgressBar"),e.declare("viewer.print.PrintObserver",null,{pageNum:0,loadedPageNum:0,err:!1,cancelled:!1,waitingDlg:null,nls:null,prepareFunc:null,succFunc:null,failFunc:null,cancelFunc:null,constructor:function(e,t,i,o,n,a){this.prepareFunc=t,this.succFunc=i,this.failFunc=o,this.cancelFunc=n,this.pageNum=e,this.nls=a},start:function(){this.waitingDlg||(this.waitingDlg=new viewer.widgets.ProgressBar(null,this.nls.titlePrepare,null,!1,{message:this.nls.msgPrepare,imageclass:"dlg_progress_processing",callback:e.hitch(this,function(e,t){t||(this.cancelled=!0,this.stop())})})),this.waitingDlg.show();var t=this.waitingDlg.dialog.duration+200;this.prepareFunc&&setTimeout(this.prepareFunc,t)},onImageLoaded:function(e){this.err||this.cancelled||this.loadedPageNum++,e.onload=null,e.onerror=null,this.loadedPageNum==this.pageNum&&this.stop()},onImageLoadErr:function(e){e.onload=null,e.onerror=null,this.err||this.cancelled||(this.err=!0,this.stop())},stop:function(){var t=0;this.waitingDlg&&(t=this.waitingDlg.dialog.duration+200,this.waitingDlg.hide(),this.waitingDlg=null),setTimeout(e.hitch(this,function(){this.cancelled?this.cancelFunc&&this.cancelFunc(this):this.err?this.failFunc&&this.failFunc(this):this.succFunc&&this.succFunc(this)}),t)}})})},"viewer/widgets/ProgressBar":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/CommonDialog"],function(e){e.provide("viewer.widgets.ProgressBar"),e.require("viewer.widgets.CommonDialog"),e.declare("viewer.widgets.ProgressBar",[viewer.widgets.CommonDialog],{"-chains-":{constructor:"manual"},constructor:function(e,t,i,o){o=!0,this.okVisible=!1,this.closeVisible=!1,this.inherited(arguments)},show:function(){this.inherited(arguments),this.dialog._hide_=this.dialog.hide,this.dialog.hide=function(){}},hide:function(){null!=this.dialog&&this.dialog._hide_()},onCancel:function(e){this.params.callback(e,!1)}})})},"viewer/widgets/ConfirmBox":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/CommonDialog"],function(e){e.provide("viewer.widgets.ConfirmBox"),e.require("viewer.widgets.CommonDialog"),e.declare("viewer.widgets.ConfirmBox",[viewer.widgets.CommonDialog],{"-chains-":{constructor:"manual"},constructor:function(e,t,i,o){o=!0,this.inherited(arguments)},onOk:function(e){this.params.callback(e,!0,!0)},onNo:function(e){this.params.callback(e,!0,!1)},onCancel:function(e){this.params.callback(e,!1)}})})},"viewer/widgets/PrintSettingDialog":function(){define(["dojo","dijit","dojox","dojo/require!viewer/widgets/MessageBox"],function(e){e.provide("viewer.widgets.PrintSettingDialog"),e.require("viewer.widgets.MessageBox"),e.declare("viewer.widgets.PrintSettingDialog",[viewer.widgets.MessageBox],{"-chains-":{constructor:"manual"},constructor:function(){this.inherited(arguments)},fillMsgs:function(t){e.addClass(t,"viewerDialogBold");var i=this.params.message,o=i.msg1,n=i.msg2,a=i.configs;this._addLine(t,o),this._addEmptyLine(t);for(var r in a)this._addIndentLine(t,a[r]);this._addEmptyLine(t),this._addLine(t,n)},_addLine:function(t,i){var o=e.create("div",null,t),n=document.createTextNode(i);return o.appendChild(n),o.style.cssText="display:inline-block",o.style.cssText=o.clientWidth>400?"width:400px;word-wrap:break-word":"",o},_addEmptyLine:function(e){return this._addLine(e,"")},_addIndentLine:function(t,i,o){if(o||(o=1),e.isArray(i))for(var n in i)this._addIndentLine(t,i[n],o+1);else{var a=this._addLine(t,i);e.style(a,"marginLeft",20*o+"px")}},onOk:function(t){setTimeout(e.hitch(this,function(){this.params.callback&&this.params.callback(t)}),this.dialog.duration+200)}})})},"viewer/widgets/PageIndicator":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/PagePicker","dojo/require!dijit/_Widget,dijit/_Templated,viewer/widgets/PageControlWidget,viewer/util/BidiUtils"],function(e,t){e.provide("viewer.widgets.PageIndicator"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("viewer.widgets.PageControlWidget"),e.require("viewer.util.BidiUtils"),e.requireLocalization("viewer.widgets","PagePicker"),e.declare("viewer.widgets.PageIndicator",[viewer.widgets.PageControlWidget,t._Widget,t._Templated],{templateString:e.cache("viewer.widgets","templates/PageIndicator.html",'<div dojoAttachPoint="outerNode" class="pageIndicator" style="text-align: center;">\n	<div dojoAttachPoint="pageIndicatorWrapper" class="indicatorWrapper">\n		<span class="pageNum" dojoAttachPoint="curPageNum">0</span>\n		<span class="pageNum"> / </span>\n		<span class="pageNum" dojoAttachPoint="totalPageNum">0</span>\n	</div>\n</div>'),pageNum:0,currentPage:0,widgetsInTemplate:!0,hide:function(){var t={node:this.domNode,duration:1e3};e.fadeOut(t).play()},show:function(){var t=this.domNode;e.fadeIn({node:t}).play()},postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.scenes","Scene");e.mixin(this,t),this.inherited(arguments)},postCreate:function(){this.pageNum<1&&(this.pageNum=1),this.setPageNum(this.pageNum),e.subscribe(viewer.util.Events.PAGE_INFO_UPDATED,this,this._onPageInfoUpdated),this.inherited(arguments)},setPageNum:function(e){this.pageNum!=e;this.pageNum=e,this.totalPageNum.innerHTML=e},_onPageSelected:function(e){this.updateCurrentPage(e)},setCurrentPage:function(e){this.updateCurrentPage(e)&&this.notifyPageSelected(e)},updateCurrentPage:function(e,t){return 1>e||e>this.pageNum?!1:e!=this.currentPage||t?(this.currentPage=e,this.curPageNum.innerHTML=e,!0):!1},_onPageInfoUpdated:function(e){this.setPageNum(e)},position:function(){var t=e.byId("continuousView"),i=e.marginBox(t).w,o=0;if(this.viewManager&&"function"==typeof this.viewManager.getClientAreaPos)o=this.viewManager.getClientAreaPos().x-this.domNode.clientWidth/2;else{var n=t.childNodes[0],a=n.clientWidth;o=(i-a)/2+a+20}i-o-20<this.domNode.clientWidth&&(o=i-this.domNode.clientWidth-60),BidiUtils.isGuiRtl()?this.domNode.style.right=o+"px":this.domNode.style.left=o+"px"}})})},"viewer/widgets/NavigatorBarManager":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.widgets.NavigatorBarManager"),e.declare("viewer.widgets.NavigatorBarManager",null,{pageIndicator:null,actionBar:null,displayTimer:null,_isMouseOnToolbar:!1,_isNavigationActive:!1,constructor:function(e,t){this.pageIndicator=t,this.actionBar=e},registerEvents:function(){this.hideToolbarsAfterTimeOut(),e.connect(window,"onresize",this,this.handleResize),e.connect(document.body,"mousemove",this,this.handleMouseMove),e.connect(document,"onkeydown",this,this.handleKeyEvent)},hideToolbarsAfterTimeOut:function(){this.displayTimer&&clearTimeout(this.displayTimer),this.displayTimer=setTimeout(e.hitch(this,this.hideToolbarIfAllowed),2e3)},handleResize:function(){this.actionBar.position(),this.pageIndicator&&this.pageIndicator.position(),this.hideToolbarsAfterTimeOut()},handleMouseMove:function(e){this._isMouseOnToolbar=this.actionBar.isMouseOnActions(e),this._isNavigationActive=!1,this.showToolbar(),this.hideToolbarsAfterTimeOut()},handleKeyEvent:function(t){switch(t.keyCode){case e.keys.TAB:this._isNavigationActive=!0,this.showToolbar();break;case e.keys.ESCAPE:this._isNavigationActive=!1,this.hideToolbarIfAllowed()}},showToolbar:function(){this.actionBar.show(),this.pageIndicator&&this.pageIndicator.show()},hideToolbar:function(){this.actionBar.hide(),this.pageIndicator&&this.pageIndicator.hide()},hideToolbarIfAllowed:function(){this._isMouseOnToolbar||this._isNavigationActive||this.hideToolbar()}})})},"viewer/scenes/BasicDocScene":function(){define(["dojo","dijit","dojox","dojo/require!viewer/scenes/AbstractScene,viewer/widgets/ContinuousContainer,viewer/widgets/Actions"],function(e,t){e.provide("viewer.scenes.BasicDocScene"),e.require("viewer.scenes.AbstractScene"),e.require("viewer.widgets.ContinuousContainer"),e.require("viewer.widgets.Actions"),e.declare("viewer.scenes.BasicDocScene",[viewer.scenes.AbstractScene],{defaultMode:"Continuous",DEFAULT_STYLE:"fitWidth",style:this.DEFAULT_STYLE,supportedMode:["Continuous"],constructor:function(){},insertModeButton:function(i){button=new t.form.ToggleButton({id:"T_Mode_Continuous",title:this.nls.labelFitWidth,iconClass:"fitWidthIcon",showLabel:!1,label:this.nls.labelFitWidth,_onClick:e.hitch(this,function(){this.switchMode("Continuous",this.DEFAULT_STYLE)})}),i.addChild(button)},createContentWidget:function(e){var t=null;return t="Continuous"==e?this.createContinuousWidget():this.inherited(arguments)},createContinuousWidget:function(){var e=t.byId("contentPane"),i=new viewer.widgets.ContinuousConatiner({id:"continuousView",size:this.doc.getPages(),pagesInfo:this.doc.getPagesInfo(),style:this.DEFAULT_STYLE,orgWidth:this.DEFUALT_NORMAL_PAGE_WIDTH,baseUri:this.getPageRoot(),tabIndex:0,viewManager:this});return e.setContent(i.domNode),i},setCurrentStyle:function(){this.inherited(arguments),this.style==this.DEFAULT_STYLE?t.byId("T_Mode_Continuous").attr("checked",!0):t.byId("T_Mode_Continuous").attr("checked",!1)},createActions:function(){var t=new viewer.widgets.Actions({id:"T_Actions",manager:this});return e.body().appendChild(t.domNode),t.position(),t}})})},"viewer/widgets/ContinuousContainer":function(){define(["dojo","dijit","dojox","dojo/require!viewer/util/Events,viewer/widgets/PageControlWidget,viewer/widgets/ScalableContentContainer,viewer/widgets/ImageContainer,viewer/widgets/ViewerMessage,dijit/_Widget,dijit/_Templated"],function(e,t){e.provide("viewer.widgets.ContinuousContainer"),e.require("viewer.util.Events"),e.require("viewer.widgets.PageControlWidget"),e.require("viewer.widgets.ScalableContentContainer"),e.require("viewer.widgets.ImageContainer"),e.require("viewer.widgets.ViewerMessage"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.declare("viewer.widgets.ContinuousConatiner",[viewer.widgets.ScalableContentContainer,viewer.widgets.ImageContainer,t._Widget,t._Templated],{orgWidth:1600,orgHeight:0,totalHeight:0,pagesInfo:[],imgsInfo:[],templateString:'<div class="dijit continuousContainer" tabIndex="${tabIndex}" dojoAttachPoint="continuousContainer" dojoAttachEvent="onscroll: _onScroll,"><table role="presentation" class="continuousViewTable" dojoAttachPoint="continuousViewTable"><tbody dojoAttachPoint="continuousViewTbody"></tbody></table></div>',imgIdx:0,baseUri:"",size:1,currentPage:0,tempImgInfoIdx:0,tabIndex:0,bFirstLoad:!0,postCreate:function(){this.createPlaceHolder(),e.subscribe(viewer.util.Events.PAGE_INFO_UPDATED,this,this._onPageInfoUpdated),this.createMessageBox(),this.inherited(arguments),"compact"==this.style&&(e.style(this.domNode.firstChild,"padding-top","25px"),e.style(this.domNode.firstChild,"padding-bottom","25px"))},createMessageBox:function(){if(0==this.viewManager.mediaSize){var e=new viewer.widgets.ViewerMessage({type:0,parentDiv:this});e.showMessage()}},createPlaceHolder:function(t){var i,o,n;t||(t=1);for(var a=0==this.tempImgInfoIdx||this.tempImgInfoIdx==t,r=!1,s=t;s<=this.size;s++){a&&!this.pagesInfo[s-1].getFullImageInfo()&&(r||(r=!0,this.tempImgInfoIdx=s));var l=this.pagesInfo[s-1].getScaledFullImageHeight(this.orgWidth);this.imgsInfo[s-1]={},this.imgsInfo[s-1].offset=1==s?l:this.imgsInfo[s-2].offset+l,this.imgsInfo[s-1].loaded=!1,o=e.create("tr",{id:"contentRow_"+s},this.continuousViewTbody),i=e.create("td",{id:"contentCell_"+s},o);var d=e.create("div",{id:"contentImageWrapper_"+s},i),c=e.create("div",{id:"contentImagePlaceHolder_"+s},d);e.addClass(c,"contentImagePlaceHolder"),n=e.create("img",{src:staticResPath+"/images/viewer/blank.gif",id:"contentImg_"+s},d),e.attr(n,"alt",this.contentImage+" "+s),e.addClass(d,"imageUnload")}a&&!r&&(this.tempImgInfoIdx=this.size+1)},fixImageOffset:function(){if(0==this.tempImgInfoIdx)return!1;for(var e=!1,t=this.tempImgInfoIdx,i=this.tempImgInfoIdx;i<=this.size;i++){if(!this.pagesInfo[i-1].getFullImageInfo()&&!e){if(e=!0,this.tempImgInfoIdx==i)break;this.tempImgInfoIdx=i}var o=this.pagesInfo[i-1].getScaledFullImageHeight(this.orgWidth);this.imgsInfo[i-1]={},this.imgsInfo[i-1].offset=1==i?o:this.imgsInfo[i-2].offset+o}return e||(this.tempImgInfoIdx=this.size+1),e&&this.tempImgInfoIdx!=t},resize:function(){if(!this.imgIdx&&"compact"==this.style){if(!this.pagesInfo[0]||!this.pagesInfo[0].getFullImageInfo())return;this.loadImg(1)}var i=0,o=null,n=this.continuousContainer.scrollTop,a=null;if(this.currentPage){o=e.byId("contentCell_"+this.currentPage),a=e.marginBox(o);var r=a.t+a.h;n>=a.t?(n>=r&&console.warn("scroll bar has moved out of current page"),i=n-a.t):i=n-a.t}var s,l=this.calculateImgWidth(),d=this.scale;""!=this.style&&(this.scale=l/this.orgWidth),d!=this.scale&&this.notifyScaleChanged(this.scale),this.setReloadBtnSize(l);for(var c=null,u=1;u<=this.size;u++){s=this.pagesInfo[u-1].getScaledFullImageHeight(l);var h=e.byId("contentImg_"+u);e.attr(h,"width",l),e.attr(h,"height",s);var m=h.parentNode;e.style(m,"width",l+2+"px"),e.style(m,"height",s+2+"px");var p=h.previousSibling;p&&(e.style(p,"width",l+"px"),e.style(p,"height",s+"px"));var g=t.byId("B_Continuous_Reload_"+u);g&&(c||(c=this.getReloadButtonSize(g.domNode)),c.w>0?(e.style(g.domNode,"marginLeft",(l-c.w)/2+"px"),e.style(g.domNode,"marginRight",(l-c.w)/2+"px"),e.style(g.domNode,"marginTop","5px")):c=null)}if(this.currentPage){var f=e.marginBox(o),_=n;if(i>=0){{f.t+f.h}_=f.t+i/a.h*f.h}else _=f.t+i;_!=this.continuousContainer.scrollTop&&(this.scrolledForResize=!0,this.continuousContainer.scrollTop=_)}else this.calculateCurrentPage();this.loadVisibleImg(this.currentPage)},calculateImgWidth:function(){var e=this.continuousContainer.parentNode;if(!e)return null;var t,i,o=e.clientHeight-6,n=e.clientWidth-6;if("fitWidth"==this.style){var a=!1;0==this.size?a=!1:this.imgsInfo[this.size-1].offset/this.orgWidth>o/n&&(a=!0),t=a?n-24:n-12}else if("compact"==this.style){if(i=n>140?n-140:n,0==this.size)t=0;else{var r=this.pagesInfo[this.imgIdx-1].getFullImageInfo().getPageWidth();t=r>i?i:r}2>t&&(t=2)}else t=this.orgWidth*this.scale;return 0>t&&(t=0),t},_onPageSelected:function(t){if(this.currentPage!=t){t>1&&(this.bFirstLoad=!1),this.currentPage=t;var i=e.byId("contentCell_"+t);if(i){var o=this.continuousContainer.scrollTop;this.scrolledForPage=!0;var n=e.marginBox(i).t;this.continuousContainer.scrollTop=n,this.continuousContainer.scrollTop==o&&(this.scrolledForPage=!1)}this.loadVisibleImg(t)}},_onScroll:function(){this.scrolledForPage||this.scrolledForResize?(this.scrolledForPage=!1,this.scrolledForResize=!1):(this.calculateCurrentPage(),this.loadVisibleImg(this.currentPage))},calculateCurrentPage:function(){if(0!=this.size){var e=this.continuousContainer.scrollTop,t=this.currentPage,i=this.getPageEndOffset(this.currentPage),o=this.getPageStartOffset(this.currentPage);if(i>e&&e>=o);else if(e>=i){for(var n=!1,a=this.currentPage+1;a<=this.size;a++)if(e<this.getPageEndOffset(a)){t=a,n=!0;break}n||(console.warn("Current page cannot be found"),t=this.size)}else{for(var n=!1,a=this.currentPage-1;a>=1;a--)if(1==a&&e>=0||e>=this.getPageStartOffset(a)){t=a,n=!0;break}n||(console.warn("Current page cannot be found"),t=1)}t!=this.currentPage&&(this.currentPage=t,this.notifyPageSelected(this.currentPage))}},getPageStartOffset:function(e){return 1>=e?0:this.imgsInfo[e-2].offset*this.scale+10*(e-1)+2},getPageEndOffset:function(e){return 1>e?0:this.imgsInfo[e-1].offset*this.scale+10*e},loadVisibleImg:function(t){if(!(0>=t||t>this.size)){for(var i=this.continuousContainer.scrollTop,o=e.contentBox(this.continuousContainer).h,n=i+o,a=t;a<=this.size;a++)if(this.loadImg(a),a<this.size&&this.imgsInfo[a-1].offset*this.scale+9*a>n){this.bFirstLoad||this.loadImg(a+1);break}!this.bFirstLoad&&t>1&&this.loadImg(t-1)}},_isFirstFullImage:function(e){var t="pictures/image.jpg",i="pictures/image.png",o="pictures/image.gif",n=e.length-t.length,a=e.substr(n);return a==t||a==i||a==o?!0:!1},loadImg:function(t,i){if(!(0>=t||t>this.size)){var o="contentImg_"+t;if(!this.imgsInfo[t-1].loaded&&this.pagesInfo[t-1]&&this.pagesInfo[t-1].getFullImageInfo()){var n=e.byId(o);if(e.hasClass(n.parentNode,"imageUnload")){var a=this.baseUri+"/"+this.pagesInfo[t-1].getFullImageInfo().getFilepath(),r=this._isFirstFullImage(a);if(i||r?(a+="?preventCache="+(new Date).valueOf(),DOC_SCENE.compactMode&&(a+="&mode=compact")):DOC_SCENE.compactMode&&(a+="?mode=compact"),this.pagesInfo[t-1].getThumbnailInfo()){var s=this.baseUri+"/"+this.pagesInfo[t-1].getThumbnailInfo().getFilepath();DOC_SCENE.compactMode&&(s+="?mode=compact");var l=new Image;e.isChrome||e.isSafari?(n.onload=e.hitch(this,this._onImageLoaded,n,t),n.onerror=e.hitch(this,this._onImageLoadErr,n,t),e.attr(n,"src",a),e.attr(l,"src",s)):(n.onload=function(){e.removeClass(n.parentNode,"imageUnload"),e.removeClass(n.parentNode,"imageLoadErr")},e.attr(n,"src",s),e.attr(l,"src",a)),l.onload=e.hitch(this,this._onAltImageLoaded,l,n,t,a),l.onerror=e.hitch(this,this._onAltImageLoadErr,l,n,t)}else n.onload=e.hitch(this,this._onImageLoaded,n,t),n.onerror=e.hitch(this,this._onImageLoadErr,n,t),e.attr(n,"src",a)}this.imgsInfo[t-1].loaded=!0,this.imgIdx=t}}},reloadImg:function(t){var i="contentImg_"+t,o=e.byId(i);e.addClass(o.parentNode,"imageUnload"),e.removeClass(o.parentNode,"imageLoadErr"),e.attr(o,"src",staticResPath+"/images/viewer/blank.gif"),this.imgsInfo[t-1].loaded=!1,setTimeout(e.hitch(this,this.loadImg,t,!0),1e3)},getReloadButtonSize:function(t){return e.marginBox(t.firstChild)},_onPageInfoUpdated:function(e,t,i){this.pageInfo=t;{var o=!1;this.size}if(i.orgWidth&&(this.orgWidth=i.orgWidth,o=!0),this.size<e){var n=this.size;this.size=e,this.createPlaceHolder(n+1),o=!0}else this.size>e&&console.warn("page number is decreased!!!");i.fullImageUpdated&&this.fixImageOffset()&&(o=!0),o&&this.resize(),this.calculateCurrentPage(),this.loadVisibleImg(this.currentPage)},_onImageLoaded:function(i){e.removeClass(i.parentNode,"imageUnload"),e.removeClass(i.parentNode,"imageLoadErr"),i.previousSibling&&(e.forEach(t.findWidgets(i.previousSibling),function(e){e.destroy()}),e.destroy(i.previousSibling)),i.onload=null,i.onerror=null},_onAltImageLoaded:function(t,i,o,n){e.isChrome||e.isSafari||(i.src=n),e.destroy(t),e.isChrome||e.isSafari||this._onImageLoaded(i,o)},_onAltImageLoadErr:function(t,i,o){e.destroy(t),e.isChrome||e.isSafari||this._onImageLoadErr(i,o)},_onImageLoadErr:function(i,o){e.removeClass(i.parentNode,"imageUnload"),e.addClass(i.parentNode,"imageLoadErr");var n=i.previousSibling;if(!t.byId("B_Continuous_Reload_"+o)){var a=n.clientWidth,r=new t.form.Button({id:"B_Continuous_Reload_"+o,title:this.btnReload,showLabel:!1,label:this.btnReload,iconClass:"reloadIcon",onClick:e.hitch(this,function(e){this.reloadImg(e)},o)});e.place(r.domNode,n,"first"),e.addClass(r.domNode,"ContentReloadButton"),buttonSize=this.getReloadButtonSize(r.domNode),e.style(r.domNode,"marginLeft",(a-buttonSize.w-8)/2+"px"),e.style(r.domNode,"marginRight",(a-buttonSize.w-8)/2+"px"),e.style(r.domNode,"marginTop","5px")}i.onload=null,i.onerror=null},_onKeyPress:function(t){t.keyCode==e.keys.UP_ARROW?this.continuousContainer.scrollTop-=20:t.keyCode==e.keys.DOWN_ARROW?this.continuousContainer.scrollTop+=20:t.keyCode==e.keys.LEFT_ARROW?this.continuousContainer.scrollLeft-=20:t.keyCode==e.keys.RIGHT_ARROW&&(this.continuousContainer.scrollLeft+=20)},testImgInfo:function(){for(var t=1;t<=this.size;t++){var i=e.byId("contentRow_"+t);e.marginBox(i)}}})})},"viewer/widgets/ViewerMessage":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/ViewerMessage","dojo/require!dijit/_Widget,dijit/_Templated"],function(e,t){e.provide("viewer.widgets.ViewerMessage"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.requireLocalization("viewer.widgets","ViewerMessage"),e.declare("viewer.widgets.ViewerMessage",[t._Widget,t._Templated],{information:null,padding:5,type:0,imgPath:null,closeImgPath:"/images/close_sel.gif",className:null,parentDiv:null,templateString:e.cache("viewer.widgets","templates/ViewerMessage.html",'<div dojoAttachPoint = "viewer_message">\n	<img dojoAttachPoint = "viewer_message_img" src=${imgPath} style="float: left;">\n	<span dojoAttachPoint = "viewer_message_span" style="float: left; margin:0px">${information}</span>\n	<img dojoAttachPoint = "viewer_message_exit_img" src=${closeImgPath} style="float: right; margin:0px;">\n</div>'),constructor:function(t){e.mixin(this,t),this.inherited(arguments)},postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.widgets","ViewerMessage");switch(e.mixin(this,t),this.type){case 0:this.imgPath="/images/information.png",this.className="lotusMessage lotusInfo";break;case 1:this.imgPath="/images/warning.png",this.className="lotusMessage lotusWarning";break;case 2:default:this.imgPath="/images/error.png",this.className="lotusMessage"}this.imgPath=staticResPath+this.imgPath,this.closeImgPath=staticResPath+this.closeImgPath,this.inherited(arguments)},postCreate:function(){e.connect(this.viewer_message_exit_img,"click",this,this.closeMessage)},closeMessage:function(){this.domNode&&e.destroy(this.domNode)},showMessage:function(){null!=this.parentDiv&&(e.style(this.domNode,{margin:this.padding+"px"}),e.addClass(this.domNode,this.className),e.place(this.domNode,this.parentDiv.domNode,"first"))}})})},"viewer/widgets/Actions":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/Zoomer","dojo/require!dijit/_Widget,dijit/_Templated,viewer/widgets/LotusTextButton,viewer/util/BidiUtils"],function(e,t){e.provide("viewer.widgets.Actions"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("viewer.widgets.LotusTextButton"),e.require("viewer.util.BidiUtils"),e.requireLocalization("viewer.widgets","Zoomer"),e.declare("viewer.widgets.Actions",[t._Widget,t._Templated],{templateString:e.cache("viewer.widgets","templates/Actions.html",'<div dojoAttachPoint="outerNode" class="action_bar" style="text-align:center; position:absolute; bottom:30px; left:50%">\n <ul class="lotusInlinelist"><li id="a_page_up"><button dojoType="viewer.widgets.LotusTextButton" id="btn_page_up" label="${lablePageUp}" showLabel="false" title= "${lablePageUp}" iconClass= "pageUpIcon" class="lotusDijitButtonImg" dojoAttachPoint="pageDown" dojoAttachEvent="onClick:_onPageUp"></button></li><li id="a_page_down" style="margin:0 7px 0 0"><button dojoType="viewer.widgets.LotusTextButton" id="btn_page_down" label="${lablePageDown}" showLabel="false" title= "${lablePageDown}" iconClass= "pageDownIcon" class="lotusDijitButtonImg" dojoAttachPoint="pageUp" dojoAttachEvent="onClick:_onPageDown"></button></li><li id="a_zoomOut"><button dojoType="viewer.widgets.LotusTextButton" id="btn_zoomOut" label="${labelZoomOut}" showLabel="false" title= "${labelZoomOut}" iconClass= "zoomOutIcon1"  class="lotusDijitButtonImg" dojoAttachPoint="zoomOut" dojoAttachEvent="onClick:_onZoomOutSelect"></button></li><li id="a_fitWidth"><button dojoType="viewer.widgets.LotusTextButton"  label="${labelReset}" showLabel="false" title= "${labelReset}" iconClass= "fitWidthIcon1"  class="lotusDijitButtonImg" dojoAttachPoint="zoomOut" dojoAttachEvent="onClick:_onFitWidthSelect"></button></li><li id="a_zoomIn"><button dojoType="viewer.widgets.LotusTextButton" id="btn_zoomIn_btn" label="${labelZoomIn}" showLabel="false" title= "${labelZoomIn}" iconClass= "zoomInIcon1" class="lotusDijitButtonImg" dojoAttachPoint="zoomIn" dojoAttachEvent="onClick:_onZoomInSelect"></button></li></ul>	\n</div>'),widgetsInTemplate:!0,percentage:0,manager:null,leftPos:0,hide:function(){var t={node:this.domNode,duration:1e3};
e.fadeOut(t).play()},show:function(){var t={node:this.domNode,duration:1e3};e.fadeIn(t).play()},isMouseOnActions:function(e){var t=e.clientX>this.leftPos,i=e.clientX<this.leftPos+240,o=e.clientY<window.innerHeight-30,n=e.clientY>window.innerHeight-30-47;return t&&i&&o&&n},postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.scenes","Scene");e.mixin(this,t),this.inherited(arguments)},postCreate:function(){e.connect(window,"onresize",this,"position"),this.inherited(arguments)},position:function(){var t=e.marginBox(e.byId("contentPane")).w,i=e.marginBox(this.domNode).w;this.leftPos=(t-i)/2,BidiUtils.isGuiRtl()&&(this.domNode.dir="rtl"),this.domNode.style.left=this.leftPos+"px"},_onZoomInSelect:function(){this.manager.zoomer._onZoomInSelect()},_onZoomOutSelect:function(){this.manager.zoomer._onZoomOutSelect()},_onFitWidthSelect:function(){this.manager.setCurrentStyle("compact")},_onPageUp:function(){this.manager.pagePicker._onPrevSelect()},_onPageDown:function(){this.manager.pagePicker._onNextSelect()}})})},"viewer/scenes/TextDocScene":function(){define(["dojo","dijit","dojox","dojo/require!viewer/scenes/BasicDocScene"],function(e){e.provide("viewer.scenes.TextDocScene"),e.require("viewer.scenes.BasicDocScene"),e.declare("viewer.scenes.TextDocScene",[viewer.scenes.BasicDocScene],{constructor:function(){},getTitleImageName:function(){return"smart_cloud"!=g_env?"ibmdocs_wordprocessing_32.png":"ibmdocs_textdocument_24.png"},showHelp:function(){var e=new RegExp("^((https|http|)?://)[^s]+");window.open(e.test(gText_help_URL)?gText_help_URL:window.location.protocol+"//"+window.location.host+gText_help_URL+this.helpTail)}})})},"viewer/scenes/PdfDocScene":function(){define(["dojo","dijit","dojox","dojo/require!viewer/scenes/BasicDocScene"],function(e){e.provide("viewer.scenes.PdfDocScene"),e.require("viewer.scenes.BasicDocScene"),e.declare("viewer.scenes.PdfDocScene",[viewer.scenes.BasicDocScene],{constructor:function(){},getTitleImageName:function(){return"smart_cloud"!=g_env?"pdf_36.png":"ibmdocs_pdf_24.png"},showHelp:function(){var e=new RegExp("^((https|http|)?://)[^s]+");window.open(e.test(gText_help_URL)?gText_help_URL:window.location.protocol+"//"+window.location.host+gText_help_URL+this.helpTail)}})})},"viewer/scenes/PdfJsDocScene":function(){define(["dojo","dijit","dojox","dojo/require!viewer/scenes/PdfDocScene,viewer/widgets/NavigatorBarManager"],function(e,t){e.provide("viewer.scenes.PdfJsDocScene"),e.require("viewer.scenes.PdfDocScene"),e.require("viewer.widgets.NavigatorBarManager"),(!e.isIE||e.isIE>=9)&&"undefined"!=typeof DOC_SCENE&&DOC_SCENE.isPDFJsViewMode&&"true"==DOC_SCENE.isPDFJsViewMode&&(e.require("pdfjs.web.compatibility"),e.require("pdfjs.pdf"),e.require("viewer.pdfJs.pdfJsViewer")),e.declare("viewer.scenes.PdfJsDocScene",[viewer.scenes.PdfDocScene],{pdfJsViewer:null,constructor:function(){this.pdfJsViewer=new viewer.pdfJs.pdfJsViewer(this,this.DEFAULT_STYLE)},_onKeyPress:function(t){t.keyCode==e.keys.HOME&&"!"!=t.keyChar?this.setCurrentPage(1):t.keyCode==e.keys.END&&'"'!=t.keyChar?this.setCurrentPage(this.doc.getPages()):this.inherited(arguments)},show:function(){var t=e.hitch(this,"postDocLoad");this.pdfJsViewer.openFile(t)},_showFile:function(){this.render(this.defaultMode),this.preparePrintArea(),this.stage(),e.query("body").removeClass("loadingBeforeJsLoad")},switchMode:function(i,o){this.currentMode=i;var n=t.byId("toolbarPane");if(n)for(var a in this.supportedMode)this.supportedMode[a]==i?t.byId("T_Mode_"+this.supportedMode[a]).attr("checked",!0):t.byId("T_Mode_"+this.supportedMode[a]).attr("checked",!1);var r=!1;for(var a in this.views)a!=i?e.style(this.views[a].domNode,"display","none"):(e.style(this.views[a].domNode,"display","block"),r=!0);if(r)o&&this.setCurrentStyle(o);else{var s=null;s=this.createContentWidget(this.compactMode?"Continuous":i),s&&(this.views[i]=s)}},postDocLoad:function(e){this.doc.pages=e,this._showFile()},_postCreateContentWidget:function(){var t=this.createActions(),i=this.createPageIndicator(),o=new viewer.widgets.NavigatorBarManager(t,i);o.registerEvents(),0!=this.doc.getPages()&&(0==this.currentPage?this.setCurrentPage(1):e.publish(viewer.util.Events.PAGE_SELECTED,[this.currentPage]))},createPageIndicator:function(){var i=new viewer.widgets.PageIndicator({id:"T_PageIndicator",pageNum:this.doc.getPages(),viewManager:this});e.body().appendChild(i.domNode);var o=e.byId("continuousView"),n=o.childNodes[1],a=e.marginBox(o).w,r=n.clientWidth,s=n.offsetLeft+r/2-i.domNode.clientWidth/2;a-s-20<i.domNode.clientWidth&&(s=a-i.domNode.clientWidth-60),i.domNode.style.left=s+"px";var l=t.byId("headerPane");return l&&l._contentBox.h>0&&(i.domNode.style.top=l._contentBox.t+l._contentBox.h+i.domNode.offsetTop+"px"),i},createContinuousWidget:function(){var t=e.hitch(this,"_postCreateContentWidget");this.pdfJsViewer.showFile(t)},createThumbnailWidget:function(){},createHeaderImg:function(){var e=document.createElement("div");return e.setAttribute("alt",""),e.setAttribute("class","commonsprites commonsprites-doc16 lotusIcon"),e},getClientAreaPos:function(){var t=e.byId("continuousView"),i=t.childNodes[1],o=i.clientWidth;return{x:i.offsetLeft+o/2,y:0}}})})},"viewer/scenes/PresDocScene":function(){define(["dojo","dijit","dojox","dojo/require!viewer/scenes/AbstractScene,viewer/widgets/PresActions"],function(e,t){e.provide("viewer.scenes.PresDocScene"),e.require("viewer.scenes.AbstractScene"),e.require("viewer.widgets.PresActions"),e.declare("viewer.scenes.PresDocScene",[viewer.scenes.AbstractScene],{DEFAULT_STYLE:"slideMode",style:this.DEFAULT_STYLE,constructor:function(){},getTitleImageName:function(){return"smart_cloud"!=g_env?"ibmdocs_presentations_32.png":"ibmdocs_presentation_24.png"},createContentWidget:function(e){var t=null;return"Normal"==e?t=this.createNormalContentWidget():"Continuous"==e&&(t=this.createContinuousWidget()),t},createNormalContentWidget:function(){var e=t.byId("contentPane"),i=new viewer.widgets.NormalContentContainer({id:"normalView",style:this.DEFAULT_STYLE,pagesInfo:this.doc.getPagesInfo(),orgWidth:this.DEFUALT_NORMAL_PAGE_WIDTH,baseUri:this.getPageRoot(),tabIndex:0,viewManager:this});return e.setContent(i.domNode),i},createContinuousWidget:function(){var e=t.byId("contentPane"),i=new viewer.widgets.ContinuousConatiner({id:"continuousView",size:this.doc.getPages(),pagesInfo:this.doc.getPagesInfo(),style:this.DEFAULT_STYLE,orgWidth:this.DEFUALT_NORMAL_PAGE_WIDTH,baseUri:this.getPageRoot(),tabIndex:0,viewManager:this});return e.setContent(i.domNode),i},insertModeButton:function(i){var o=new t.form.ToggleButton({id:"T_Mode_Normal",title:this.nls.labelNormal,iconClass:"normalModeIcon",showLabel:!1,label:this.nls.labelNormal,_onClick:e.hitch(this,function(){this.switchMode("Normal",this.DEFAULT_STYLE)})});i.addChild(o),o=new t.form.Button({id:"T_Mode_Play",title:this.nls.labelPlay,showLabel:!1,label:this.nls.labelPlay,iconClass:"normalPlayIcon",onClick:e.hitch(this,function(){{var e=window.location.href+"?mode=slideshow";window.open(e,"SlideShow","height="+screen.height+",width="+screen.width+",left=0,top=0")}})}),e.addClass(o.domNode,"lotusDijitButtonImg"),i.addChild(o)},stage:function(){var e=t.byId("T_Mode_Play");e&&(null!=this.jobId?e.attr("disabled",!0):e.attr("disabled",!1)),this.inherited(arguments)},staged:function(e){if(this.inherited(arguments),e){var i=t.byId("T_Mode_Play");i.attr("disabled",!1)}},setCurrentStyle:function(){this.inherited(arguments),this.style==this.DEFAULT_STYLE?t.byId("T_Mode_Normal").attr("checked",!0):t.byId("T_Mode_Normal").attr("checked",!1)},showHelp:function(){var e=new RegExp("^((https|http|)?://)[^s]+");window.open(e.test(gPres_help_URL)?gPres_help_URL:window.location.protocol+"//"+window.location.host+gPres_help_URL+this.helpTail)},createActions:function(){var t=new viewer.widgets.PresActions({id:"T_Actions",manager:this});return e.body().appendChild(t.domNode),t.position(),t}})})},"viewer/widgets/PresActions":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/Zoomer","dojo/require!dijit/_Widget,dijit/_Templated,viewer/widgets/LotusTextButton,viewer/util/BidiUtils,dojo/io-query"],function(e,t){e.provide("viewer.widgets.PresActions"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("viewer.widgets.LotusTextButton"),e.require("viewer.util.BidiUtils"),e.require("dojo.io-query"),e.requireLocalization("viewer.widgets","Zoomer"),e.declare("viewer.widgets.PresActions",[t._Widget,t._Templated],{templateString:e.cache("viewer.widgets","templates/PresActions.html",'<div dojoAttachPoint="outerNode" class="action_bar" style="text-align:center; position:absolute; bottom:30px; left:50%">\n <ul class="lotusInlinelist"><li id="a_page_up"><button dojoType="viewer.widgets.LotusTextButton" id="btn_page_up" label="${lablePageUp}" showLabel="false" title= "${lablePageUp}" iconClass="pageUpIcon" class="lotusDijitButtonImg" dojoAttachPoint="pageDown" dojoAttachEvent="onClick:_onPageUp"></button></li><li id="a_page_down" style="margin:0 7px 0 0"><button dojoType="viewer.widgets.LotusTextButton" id="btn_page_down" label="${lablePageDown}" showLabel="false" title= "${lablePageDown}" iconClass= "pageDownIcon" class="lotusDijitButtonImg" dojoAttachPoint="pageUp" dojoAttachEvent="onClick:_onPageDown"></button></li><li id="a_slide_show" style="margin:0 7px 0 0"><button dojoType="viewer.widgets.LotusTextButton" id="btn_slide_show" label="${labelPlay}" showLabel="false" title= "${labelPlay}" iconClass= "slideShowIcon" class="lotusDijitButtonImg" dojoAttachPoint="pageUp" dojoAttachEvent="onClick:_onSlideShow"></button></li><li id="a_zoomOut"><button dojoType="viewer.widgets.LotusTextButton" id="btn_zoomOut" label="${labelZoomOut}" showLabel="false" title= "${labelZoomOut}" iconClass= "zoomOutIcon1"  class="lotusDijitButtonImg" dojoAttachPoint="zoomOut" dojoAttachEvent="onClick:_onZoomOutSelect"></button></li><li id="a_fitWidth"><button dojoType="viewer.widgets.LotusTextButton"  label="${labelReset}" showLabel="false" title= "${labelReset}" iconClass= "fitWidthIcon1"  class="lotusDijitButtonImg" dojoAttachPoint="zoomOut" dojoAttachEvent="onClick:_onFitWidthSelect"></button></li><li id="a_zoomIn"><button dojoType="viewer.widgets.LotusTextButton" id="btn_zoomIn_btn" label="${labelZoomIn}" showLabel="false" title= "${labelZoomIn}" iconClass= "zoomInIcon1" class="lotusDijitButtonImg" dojoAttachPoint="zoomIn" dojoAttachEvent="onClick:_onZoomInSelect"></button></li></ul>	\n</div>'),widgetsInTemplate:!0,percentage:0,manager:null,leftPos:0,hide:function(){var t={node:this.domNode,duration:1e3};e.fadeOut(t).play()},show:function(){var t={node:this.domNode,duration:1e3};e.fadeIn(t).play()},isMouseOnActions:function(e){e.clientX>this.leftPos,e.clientX<this.leftPos+308,e.clientY<window.innerHeight-30,e.clientY>window.innerHeight-30-47},postMixInProperties:function(){var t=e.i18n.getLocalization("viewer.scenes","Scene");e.mixin(this,t),this.inherited(arguments)},postCreate:function(){e.connect(window,"onresize",this,"position"),this.inherited(arguments)},position:function(){var t=e.marginBox(e.byId("contentPane")).w,i=e.marginBox(this.domNode).w;this.leftPos=(t-i)/2,BidiUtils.isGuiRtl()&&(this.domNode.dir="rtl"),this.domNode.style.left=this.leftPos+"px"},_onZoomInSelect:function(){this.manager.zoomer._onZoomInSelect()},_onZoomOutSelect:function(){this.manager.zoomer._onZoomOutSelect()},_onFitWidthSelect:function(){this.manager.setCurrentStyle("compact")},_onPageUp:function(){this.manager.pagePicker._onPrevSelect()},_onPageDown:function(){this.manager.pagePicker._onNextSelect()},_onSlideShow:function(){var t=window.location.href.split("?"),i=t[0]+"?mode=slideshow";if(DOC_SCENE.compactMode&&(i+=":compact"),"undefined"!=typeof t[1]){var o=e.queryToObject(t[1]).mime;"undefined"!=typeof o&&(i+="&mime="+encodeURIComponent(o))}window.open(i,"SlideShow","height="+screen.height+",width="+screen.width+",left=0,top=0")}})})},"viewer/scenes/SheetDocScene":function(){define(["dojo","dijit","dojox","dojo/require!viewer/scenes/BasicDocScene"],function(e,t){e.provide("viewer.scenes.SheetDocScene"),e.require("viewer.scenes.BasicDocScene"),e.declare("viewer.scenes.SheetDocScene",[viewer.scenes.BasicDocScene],{constructor:function(){},createThumbnailWidget:function(){var i=e.byId("thumbnailPane");i&&i.nextSibling&&(e.isIE?(this.thumbnailView=new viewer.widgets.ThumbnailPicker({id:"thumbnailView",size:this.doc.getPages(),pagesInfo:this.doc.getPagesInfo(),thumbWidth:this.DEFUALT_THUMBNAIL_WIDTH,baseUri:this.getPageRoot(),tabIndex:0,viewManager:this}),t.byId("thumbnailPane").setContent(this.thumbnailView.domNode),e.style(i,"width","0px"),e.style(i.nextSibling,"width","0px")):(e.destroy(i.nextSibling),e.destroy(i)),this.setCurrentStyle())},setCurrentStyle:function(){var i=e.byId("contentPane");e.style(i,"left","0px"),e.style(i,"width","100%"),e.publish(viewer.util.Events.STYLE_CHANGED,[""]),e.publish(viewer.util.Events.SCALE_CHANGED,["1.0"]),t.byId("T_Mode_Continuous").attr("checked",!1)},getTitleImageName:function(){return"smart_cloud"!=g_env?"ibmdocs_spreadsheets_32.png":"ibmdocs_spreadsheet_24.png"},showHelp:function(){var e=new RegExp("^((https|http|)?://)[^s]+");window.open(e.test(gSheet_help_URL)?gSheet_help_URL:window.location.protocol+"//"+window.location.host+gSheet_help_URL+this.helpTail)}})})},"viewer/util/browser":function(){define(["dojo","dijit","dojox"],function(e){e.provide("viewer.util.browser"),viewer.util.browser.getBrowserHeight=function(){var e=0;return"number"==typeof window.innerHeight?e=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?e=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(e=document.body.clientHeight),e},viewer.util.browser.getBrowserWidth=function(){var e=0;return"number"==typeof window.innerWidth?e=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?e=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),e},viewer.util.browser.getEditorSize=function(t){for(var i=0,o=e.byId("cke_top_"+t);o;)i+=o.offsetTop,o=o.offsetParent;var n=viewer.util.browser.getBrowserHeight()-i,a=viewer.util.browser.getBrowserWidth();return{height:n,width:a}},viewer.util.browser.getElementPosition=function(e,t,i){for(var o=new Object,n=0,a=0,r=e;r;)n+=r.offsetLeft,a+=r.offsetTop,r=r.offsetParent;return o.top=a+i,o.left=n+t,o}})},"viewer/widgets/SlideShow":function(){define(["dojo","dijit","dojox","dojo/i18n!viewer/widgets/nls/SlideShow","dojo/require!viewer/util/BidiUtils"],function(e,t,i){e.provide("viewer.widgets.SlideShow"),e.require("viewer.util.BidiUtils"),e.requireLocalization("viewer.widgets","SlideShow"),e.declare("viewer.widgets.SlideShow",null,{slideShowWindow:null,slideShowDoc:null,data:null,index:0,pageHeight:"21",pageWidth:"28",errorMessageDiv:null,container:null,imageId:"normalContentImg",constructor:function(t){this.slideShowWindow=t,this.slideShowDoc=t.document,this.presDocURLLocation=t.top.opener.location,this.STRINGS=e.i18n.getLocalization("viewer.widgets","SlideShow"),this.errorMessageDiv=null,this.data=t.top.opener.pe.scene.doc.getPagesInfo(),this.container=e.byId("slideShowContainer"),e.connect(this.slideShowWindow,"onresize",e.hitch(this,this.windowresize)),e.connect(this.slideShowDoc,"onclick",e.hitch(this,this.slideShowClick)),e.connect(this.slideShowDoc,"onkeydown",e.hitch(this,this.keyDown)),e.isMozilla?e.connect(this.slideShowWindow,"DOMMouseScroll",e.hitch(this,this.wheelScroll)):e.connect(this.slideShowDoc,"onmousewheel",e.hitch(this,this.wheelScroll))},launchSlideShow:function(){var t=e.byId(this.imageId),i=this.getImageURIByIndex(this.index);t.setAttribute("src",i),t.setAttribute("alt",this.STRINGS.slidealt+" 1"),this.setDimensions(this.index),this.showFullScreenMessage()},windowresize:function(){this.setDimensions(this.index)},closeSlideShow:function(){this.slideShowWindow.top.close()},getImageURIByIndex:function(e){var t=this.slideShowWindow.top.opener.pe.scene.getPageRoot(),i=this.data[e].getFullImageInfo().getFilepath(),o=t+"/"+i;return this.slideShowWindow.top.opener.DOC_SCENE.compactMode&&(o+="?mode=compact"),o},showPre:function(){var t;this.index==this.data.length?(this.container.innerHTML="",t=e.create("img",{src:"/images/viewer/blank.gif",width:"100%",height:"100%",id:this.imageId},this.container)):t=e.byId(this.imageId),this.index=this.index>0?this.index-1:0;var i=this.getImageURIByIndex(this.index);t.setAttribute("src",i),t.setAttribute("alt",this.STRINGS.slidealt+" "+(this.index+1)),this.setDimensions(this.index)},showNext:function(){if(this.index>=this.data.length-1)return this.showEndOfShowMessage(),void(this.index=this.data.length);var t=e.byId(this.imageId);this.index=this.index<this.data.length-1?this.index+1:this.data.length-1;var i=this.getImageURIByIndex(this.index);t.setAttribute("src",i),t.setAttribute("alt",this.STRINGS.slidealt+" "+(this.index+1)),this.setDimensions(this.index)},keyDown:function(t){t.keyCode==e.keys.ENTER||t.keyCode==e.keys.RIGHT_ARROW||t.keyCode==e.keys.PAGE_DOWN||t.keyCode==e.keys.DOWN_ARROW||t.keyCode==e.keys.SPACE?(this.showNext(),t.stopPropagation()):t.keyCode==e.keys.LEFT_ARROW||t.keyCode==e.keys.UP_ARROW||t.keyCode==e.keys.BACKSPACE||t.keyCode==e.keys.PAGE_UP?(this.showPre(),t.stopPropagation()):t.keyCode==e.keys.ESCAPE&&(this.closeSlideShow(),t.stopPropagation())},wheelScroll:function(t){var i;i=t[e.isMozilla?"detail":"wheelDelta"],t.wheelDelta?i/=120:t.detail&&(i=-i/3),0>i?this.showNext():this.showPre(),t.preventDefault&&t.preventDefault()},slideShowClick:function(e){this.showNext(),e.stopPropagation()},getBrowserHeight:function(e){var t=0;return"number"==typeof e.innerHeight?t=e.innerHeight:e.document.documentElement&&e.document.documentElement.clientHeight?t=e.document.documentElement.clientHeight:e.document.body&&e.document.body.clientHeight&&(t=e.document.body.clientHeight),t},getBrowserWidth:function(e){var t=0;return"number"==typeof e.innerWidth?t=e.innerWidth:e.document.documentElement&&e.document.documentElement.clientWidth?t=e.document.documentElement.clientWidth:e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth),t},setDimensions:function(e){var t=e;t=t==this.data.length?t-1:t;var i,o,n=this.getBrowserHeight(this.slideShowWindow),a=this.getBrowserWidth(this.slideShowWindow),r=this.data[t].getFullImageInfo().width,s=this.data[t].getFullImageInfo().height;s/n>r/a?(i=n,o=i*r/s):(o=a,i=o*s/r);var l=(a-o)/2;this.slideShowDoc.body.style.marginLeft=l+"px";var d=this.getFontSize(i);this.container.style.height=i+"px",this.container.style.width=o+"px",this.container.style.fontSize=d+"px"},showFullScreenMessage:function(){var t=3e3,o=this.STRINGS.fullScreen,n="lotusMessage lotusInformation",a=e.query("body",this.slideShowDoc);a=a[0],this.errorMessageDiv=e.create("div",{id:"lotus_error_message"},a),this.errorMessageDiv.className=n;var r=e.create("img",null,this.errorMessageDiv);r.setAttribute("src",staticResPath+"/images/information.png");var s="left";BidiUtils.isGuiRtl()&&(s="right"),r.style.cssText="float: "+s+" ;margin-top: 5px;";var l=e.create("span",null,this.errorMessageDiv);l.innerHTML=o,l.style.cssText="float: left; margin-top: 12px;";var d=this.getBrowserWidth(this.slideShowWindow),c=i.html.metrics.getTextBox(o,null,n).w,u=(d-c)/2;this.errorMessageDiv.style.cssText="left:"+u+"px;margin-top: 10px;top:0px;display:inline-block;position:absolute;z-index:200;font-family:arial,sans-serif;",t&&setTimeout(e.hitch(this,this.hideErrorMessage),t)},hideErrorMessage:function(){this.errorMessageDiv&&(this.errorMessageDiv.style.display="none",e.destroy(this.errorMessageDiv),this.errorMessageDiv=null)},showEndOfShowMessage:function(){this.container.innerHTML='<div id="slide_EndOfShow" style="height: 100%; width: 100%; background-color:#FFFFFF; text-align: center; color:#000000; font-weight: bold; font-family: arial,sans-serif;" ><br/>'+this.STRINGS.endofShow+"</div>"},getFontSize:function(e){var t=24*e/(96*this.pageHeight/2.54);return t}})})},"viewer/widgets/ExBorderContainer":function(){define(["dojo","dijit","dojox","dojo/require!dijit/layout/BorderContainer"],function(e,t){e.provide("viewer.widgets.ExBorderContainer"),e.require("dijit.layout.BorderContainer"),e.declare("viewer.widgets.ExBorderContainer",[t.layout.BorderContainer],{resize:function(){this.inherited(arguments);var t=e.byId("headerBorderContainer");e.style(t,"width","")}})})},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n	   cellspacing="0">\n	<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n',"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n	<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n		<span role="presentation" class="dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"></span>\n	</td>\n	<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,textDirNode"\n		role="presentation"></td>\n	<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n	<td class="dijitReset dijitMenuArrowCell" role="presentation">\n		<span data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n			<span class="dijitInline dijitIcon dijitMenuExpand"></span>\n			<span class="dijitMenuExpandA11y">+</span>\n		</span>\n	</td>\n</tr>\n',"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n	><span class="dijitReset dijitInline dijitButtonNode"\n		data-dojo-attach-event="ondijitclick:__onClick" role="presentation"\n		><span class="dijitReset dijitStretch dijitButtonContents"\n			data-dojo-attach-point="titleNode,focusNode"\n			role="button" aria-labelledby="${id}_label"\n			><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n			><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n			><span class="dijitReset dijitInline dijitButtonText"\n				id="${id}_label"\n				data-dojo-attach-point="containerNode"\n			></span\n		></span\n	></span\n	><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n		data-dojo-attach-event="onclick:_onClick"\n		tabIndex="-1" role="presentation" aria-hidden="true" data-dojo-attach-point="valueNode"\n/></span>\n',"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\n	><span class=\'dijitReset dijitInline dijitButtonNode\'\n		data-dojo-attach-event="ondijitclick:__onClick" data-dojo-attach-point="_buttonNode"\n		><span class="dijitReset dijitStretch dijitButtonContents"\n			data-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n			role="button" aria-haspopup="true" aria-labelledby="${id}_label"\n			><span class="dijitReset dijitInline dijitIcon"\n				data-dojo-attach-point="iconNode"\n			></span\n			><span class="dijitReset dijitInline dijitButtonText"\n				data-dojo-attach-point="containerNode"\n				id="${id}_label"\n			></span\n			><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n			><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n		></span\n	></span\n	><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n		data-dojo-attach-event="onclick:_onClick"\n		data-dojo-attach-point="valueNode" role="presentation" aria-hidden="true"\n/></span>\n',"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n			${!nameAttrSetting} type=\'${type}\'\n	/></div\n></div>\n',"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n	><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n	><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n></div>\n',"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n	id="widget_${id}" role="presentation"\n	><div class=\'dijitReset dijitValidationContainer\'\n		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n	/></div\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n			${!nameAttrSetting} type=\'${type}\'\n	/></div\n></div>\n',"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n	id="widget_${id}"\n	role="combobox"\n	aria-haspopup="true"\n	data-dojo-attach-point="_popupStateNode"\n	><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n		data-dojo-attach-point="_buttonNode" role="presentation"\n		><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n			${_buttonInputDisabled}\n	/></div\n	><div class=\'dijitReset dijitValidationContainer\'\n		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n	/></div\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n			data-dojo-attach-point="textbox,focusNode" role="textbox"\n	/></div\n></div>\n',"url:dijit/form/templates/ComboButton.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n	cellspacing=\'0\' cellpadding=\'0\' role="presentation"\n	><tbody role="presentation"><tr role="presentation"\n		><td class="dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point="buttonNode" data-dojo-attach-event="ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\n		><div id="${id}_button" class="dijitReset dijitButtonContents"\n			data-dojo-attach-point="titleNode"\n			role="button" aria-labelledby="${id}_label"\n			><div class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode" role="presentation"></div\n			><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" data-dojo-attach-point="containerNode" role="presentation"></div\n		></div\n		></td\n		><td id="${id}_arrow" class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n			data-dojo-attach-point="_popupStateNode,focusNode,_buttonNode"\n			data-dojo-attach-event="onkeydown:_onArrowKeyDown"\n			title="${optionsTitle}"\n			role="button" aria-haspopup="true"\n			><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\n			><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\n		></td\n		><td style="display:none !important;"\n			><input ${!nameAttrSetting} type="${type}" value="${value}" data-dojo-attach-point="valueNode"\n				role="presentation" aria-hidden="true"\n				data-dojo-attach-event="onclick:_onClick"\n		/></td></tr></tbody\n></table>\n',"url:dijit/templates/CheckedMenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="${role}" tabIndex="-1" aria-checked="${checked}">\n	<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n		<span class="dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"></span>\n		<span class="dijitMenuItemIconChar dijitCheckedMenuItemIconChar">${checkedChar}</span>\n	</td>\n	<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode,textDirNode"></td>\n	<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n	<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\n</tr>\n',"url:dijit/templates/TooltipDialog.html":'<div role="alertdialog" tabIndex="-1">\n	<div class="dijitTooltipContainer" role="presentation">\n		<div class="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode"></div>\n	</div>\n	<div class="dijitTooltipConnector" role="presentation" data-dojo-attach-point="connectorNode"></div>\n</div>\n',"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator" role="separator">\n	<td class="dijitMenuSeparatorIconCell">\n		<div class="dijitMenuSeparatorTop"></div>\n		<div class="dijitMenuSeparatorBottom"></div>\n	</td>\n	<td colspan="3" class="dijitMenuSeparatorLabelCell">\n		<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n		<div class="dijitMenuSeparatorBottom"></div>\n	</td>\n</tr>\n',"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\n	data-dojo-attach-point="_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing=\'0\' cellpadding=\'0\'\n	role="listbox" aria-haspopup="true"\n	><tbody role="presentation"><tr role="presentation"\n		><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n			><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,textDirNode" role="presentation"></div\n			><div class="dijitReset dijitValidationContainer"\n				><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n			/></div\n			><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n		/></td\n		><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n			data-dojo-attach-point="titleNode" role="presentation"\n			><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n				${_buttonInputDisabled}\n		/></td\n	></tr></tbody\n></table>\n',"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n	<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n		<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n				role="heading" level="1"></span>\n		<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="0">\n			<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n		</span>\n	</div>\n	<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',"*now":function(e){e(['dojo/i18n!*preload*viewer/nls/viewer*["ar","bg","bs","ca","cs","da","de","el","en-gb","en-us","es","es-es","eu","fi","fi-fi","fr","fr-fr","he","he-il","hr","hu","id","it","it-it","ja","kk","ko-kr","mk","nb","nl","no","nn","pl","pt","pt-br","ro","ru","sk","sl","sr-latn","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}}),define("viewer/viewer",["dojo","dijit","dojox","dojo/i18n!viewer/scenes/nls/Scene","dojo/i18n!viewer/widgets/nls/PagePicker","dojo/i18n!viewer/widgets/nls/Zoomer","dojo/i18n!viewer/widgets/nls/SlideShow","dojo/i18n!viewer/widgets/nls/ViewerMessage","dojo/i18n!dijit/nls/common","dojo/i18n!dijit/form/nls/validate","dojo/require!dijit/Menu,dijit/MenuItem,dijit/layout/BorderContainer,dijit/layout/ContentPane,dijit/Toolbar,dijit/form/Button,dijit/form/ToggleButton,dijit/form/DropDownButton,dijit/form/ComboBox,dijit/_Widget,dijit/_Templated,dijit/form/NumberTextBox,dojo/cookie,dojox/html/metrics,dojo/string,dojo/number,dojo/data/ItemFileWriteStore,dojo/i18n,dijit/ToolbarSeparator,dijit/form/ComboButton,dijit/PopupMenuItem,dijit/CheckedMenuItem,dijit/TooltipDialog,dijit/_base/window,dijit/_base/wai,dijit/typematic,dijit/_base/typematic,dijit/_base,dijit/_base/sniff,dijit/_base/scroll,dijit/_base/popup,dijit/_base/place,dijit/_base/focus,dijit/_base/place,dijit/WidgetSet,dojo/selector/acme,viewer/main/App,viewer/scenes/AbstractScene,viewer/scenes/BasicDocScene,viewer/scenes/TextDocScene,viewer/scenes/PdfDocScene,viewer/scenes/PdfJsDocScene,viewer/scenes/PresDocScene,viewer/scenes/SheetDocScene,viewer/scenes/ErrorScene,viewer/print/PrintManager,viewer/print/PrintObserver,viewer/util/browser,viewer/util/Events,viewer/util/uri,viewer/widgets/ScalableContentContainer,viewer/widgets/PageControlWidget,viewer/widgets/ThumbnailPicker,viewer/widgets/PagePicker,viewer/widgets/Zoomer,viewer/widgets/SlideShow,viewer/widgets/viewerDialog,viewer/widgets/CommonDialog,viewer/widgets/MessageBox,viewer/widgets/ConfirmBox,viewer/widgets/FloatBox,viewer/widgets/ProgressBar,viewer/widgets/PrintSettingDialog,viewer/widgets/NormalContentContainer,viewer/widgets/ViewerToolbar,viewer/widgets/ViewerMessage,viewer/widgets/ExBorderContainer,viewer/beans/PageInfo,viewer/beans/Event,viewer/beans/Document,viewer/beans/ImageInfo"],function(e){e.provide("viewer.viewer"),e.require("dijit.Menu"),e.require("dijit.MenuItem"),e.require("dijit.layout.BorderContainer"),e.require("dijit.layout.ContentPane"),e.require("dijit.Toolbar"),e.require("dijit.form.Button"),e.require("dijit.form.ToggleButton"),e.require("dijit.form.DropDownButton"),e.require("dijit.form.ComboBox"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("dijit.form.NumberTextBox"),e.require("dojo.cookie"),e.require("dojox.html.metrics"),e.require("dojo.string"),e.require("dojo.number"),e.require("dojo.data.ItemFileWriteStore"),e.require("dojo.i18n"),e.require("dijit.ToolbarSeparator"),e.require("dijit.form.ComboButton"),e.require("dijit.PopupMenuItem"),e.require("dijit.CheckedMenuItem"),e.require("dijit.TooltipDialog"),e.require("dijit._base.window"),e.require("dijit._base.wai"),e.require("dijit.typematic"),e.require("dijit._base.typematic"),e.require("dijit._base"),e.require("dijit._base.sniff"),e.require("dijit._base.scroll"),e.require("dijit._base.popup"),e.require("dijit._base.place"),e.require("dijit._base.focus"),e.require("dijit._base.place"),e.require("dijit.WidgetSet"),e.require("dojo.selector.acme"),e.require("viewer.main.App"),e.require("viewer.scenes.AbstractScene"),e.require("viewer.scenes.BasicDocScene"),e.require("viewer.scenes.TextDocScene"),e.require("viewer.scenes.PdfDocScene"),e.require("viewer.scenes.PdfJsDocScene"),e.require("viewer.scenes.PresDocScene"),e.require("viewer.scenes.SheetDocScene"),e.require("viewer.scenes.ErrorScene"),e.require("viewer.print.PrintManager"),e.require("viewer.print.PrintObserver"),e.require("viewer.util.browser"),e.require("viewer.util.Events"),e.require("viewer.util.uri"),e.require("viewer.widgets.ScalableContentContainer"),e.require("viewer.widgets.PageControlWidget"),e.require("viewer.widgets.ThumbnailPicker"),e.require("viewer.widgets.PagePicker"),e.require("viewer.widgets.Zoomer"),e.require("viewer.widgets.SlideShow"),e.require("viewer.widgets.viewerDialog"),e.require("viewer.widgets.CommonDialog"),e.require("viewer.widgets.MessageBox"),e.require("viewer.widgets.ConfirmBox"),e.require("viewer.widgets.FloatBox"),e.require("viewer.widgets.ProgressBar"),e.require("viewer.widgets.PrintSettingDialog"),e.require("viewer.widgets.NormalContentContainer"),e.require("viewer.widgets.ViewerToolbar"),e.require("viewer.widgets.ViewerMessage"),e.require("viewer.widgets.ExBorderContainer"),e.require("viewer.beans.PageInfo"),e.require("viewer.beans.Event"),e.require("viewer.beans.Document"),e.require("viewer.beans.ImageInfo"),e.requireLocalization("viewer.scenes","Scene"),e.requireLocalization("viewer.widgets","PagePicker"),e.requireLocalization("viewer.widgets","Zoomer"),e.requireLocalization("viewer.widgets","SlideShow"),e.requireLocalization("viewer.widgets","ViewerMessage"),e.requireLocalization("dijit","common"),e.requireLocalization("dijit.form","validate")
});//# sourceMappingURL=viewer.js.map