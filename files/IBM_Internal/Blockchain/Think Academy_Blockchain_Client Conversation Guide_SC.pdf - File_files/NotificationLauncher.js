(function(){var iframe;var notificationCenter;var isDebug;var eventLock=false;var DEFAULT_FRAME_STYLES="width:393px;height:402px;z-index:1000;border:0 none;";var DEFAULT_RIGHT="right";var DEFAULT_LEFT="left";function isSecure(){var scheme=(window.location.protocol||"http").replace(":","");return scheme==="https"}function locateHeaderMenu(){if(getConfigValue("notificationCenterMenuNode"))return getConfigValue("notificationCenterMenuNode");else{var element=document.getElementById("notificationsMenu_container");
element.setAttribute("aria-describedby","arialabelNotificationsFlyoutBadge ncBadge");setConfigValue("notificationCenterMenuNode",element);return element}}function locateHeaderFlyoutContainer(){if(getConfigValue("notificationCenterFlyoutContainer"))return getConfigValue("notificationCenterFlyoutContainer");else{getConfigValue("notificationCenterFlyoutContainer");if(document.getElementById("notificationsMenu")&&document.getElementById("notificationsMenu")!==[])var element=document.getElementById("notificationsMenu");
else{var ncElement=document.getElementById("notificationsMenu_container").querySelector(".navmenu-button");ncElement.removeChild(ncElement.querySelector("ul"));var div=document.createElement("div");div.className="navsimplelist notificationCenterContainer";ncElement.insertBefore(div,ncElement.firstChild);var element=document.createElement("div");div.appendChild(element);element.id="notificationsMenu"}setConfigValue("notificationCenterFlyoutContainer",element);return element}}function messageReceived(event){if(event&&
event.origin&&event.data){var dataParts=event.data.split("|");var msg=dataParts?dataParts[0]:null;if(msg==="com/ibm/social/as/notification/SHOW")iframe.contentWindow.postMessage("com/ibm/social/as/notification/FOCUS","*")}}function checkStartsWith(str,part){var result=false;if(!String.prototype.startsWith)result=str.lastIndexOf(part,0)===0;else result=str.startsWith(part);return result}function launchIFrameContent(defaultTimeout){var currentHost=window.location.hostname;var notificationCenterUrl=
"/news/web/jsp/notificationCenter/ncFlyout.jsp";if(checkStartsWith(currentHost,"mail.notes")){currentHost=currentHost.replace("mail.notes",window.location.protocol+"//apps");notificationCenterUrl=currentHost+notificationCenterUrl}if(isDebug)notificationCenterUrl+="?debug=dojo";var host=getConfigValue("connectionsHost");if(host)notificationCenterUrl=host+notificationCenterUrl;var frameStyles;if(getConfigValue("notificationCenterFrameStyles"))frameStyles=getConfigValue("notificationCenterFrameStyles");
else frameStyles=DEFAULT_FRAME_STYLES;var iframeId="_nc_iframe";iframe=document.createElement("iframe");iframe.setAttribute("id",iframeId);iframe.setAttribute("frameborder","0");iframe.setAttribute("scrolling","no");iframe.setAttribute("allowtransparency","true");iframe.setAttribute("id",iframeId);iframe.setAttribute("style",frameStyles);iframe.setAttribute("title","notificationCenterFrame");var containerNode=locateHeaderFlyoutContainer();containerNode.innerHTML="";containerNode.appendChild(iframe);
var timeout=isNaN(defaultTimeout)?2E3:defaultTimeout;setTimeout(function(){iframe.src=notificationCenterUrl},timeout)}function getConfigValue(property){if(window.cnxNotificationCenter)return window.cnxNotificationCenter[property]}function setConfigValue(property,value){if(!window.cnxNotificationCenter)window.cnxNotificationCenter={};window.cnxNotificationCenter[property]=value}function isJazzLoaderAvailable(){return typeof net!=="undefined"&&typeof net.jazz!=="undefined"&&typeof net.jazz.ajax!=="undefined"&&
typeof net.jazz.ajax.xdloader!=="undefined"&&typeof dojo!=="undefined"}function setupBidi(){if(iframe){var body=document.getElementsByTagName("body")[0];var isRtl=body&&body.dir==="rtl"?true:false;var frameStyles=iframe.getAttribute("style");if(frameStyles&&isRtl){frameStyles=framStyles.replace(DEFAULT_RIGHT,DEFAULT_LEFT);iframe.setAttribute("style",frameStyles)}}}function init(){addWindowOnloadEvt(setupBidi);addCSS();var headerElement=locateHeaderMenu();var headerFlyoutContainer=locateHeaderFlyoutContainer();
var currentUrl=window.location.href;var isContacts=currentUrl.indexOf("/mycontacts/")>=0;if(isJazzLoaderAvailable()&&!isContacts)require(["ic-as/notification/NotificationCenter"],function(NotificationCenter){try{notificationCenter=NotificationCenter.getInstance(headerElement,headerFlyoutContainer)}catch(e){as_console_debug(e)}});else{if(isContacts)addWindowOnloadEvt(launchIFrameContent);else launchIFrameContent(10);if(window.addEventListener)window.addEventListener("message",messageReceived,false);
else window.attachEvent("onmessage",messageReceived)}}function addCSS(){var css=".icBanner-badge-iframe { background: none repeat scroll 0 0 #C83912;border-radius: 2px;color: #FFFFFF;font-size: 0.9em;left: 8px;padding: 0 3px;position: absolute;top: -25px;opacity:0;transition: all 2s ease;} .icBanner-badge-newNav{left: -8px;top: -16px;line-height: 16px;} .ics-scbanner .navmenu .navsimplelist.notificationCenterContainer{padding: 0;} .lotusui30 .lotusAccess.notificationCenter{top: -3000px; left: -9999px; position: absolute;} .lotusAccess.notificationCenter{top: -3000px; left: -9999px; position: absolute;}",
head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css";if(style.styleSheet)style.styleSheet.cssText=css;else style.appendChild(document.createTextNode(css));head.appendChild(style)}function addWindowOnloadEvt(event){if(window.attachEvent)window.attachEvent("onload",event);else if(window.addEventListener)window.addEventListener("load",event,false);else document.addEventListener("load",event,false)}if(!window.as_console_debug)(function(){var s=
window.location.search;isDebug=s&&(s.indexOf("debug=dojo")!=-1||s.indexOf("debug=true")!=-1||s.indexOf("debug-as")!=-1);if(isDebug&&window.console&&window.console.debug)try{window.as_console_debug=window.console.debug;window.as_console_debug("Create as_console_debug()")}catch(e){window.as_console_debug=function(){var msg="",i;for(i=0;i<arguments.length;i++)msg+=arguments[i]+" ";window.console.debug(msg)}}else window.as_console_debug=function(){}})();init()})();