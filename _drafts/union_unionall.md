//////////////////////////////////////////////////////////////////////////////

UNION ALL : 对两个结果集合进行合并，并不做额外处理

UNION     : 对两个集合进行合并之后，还进行排序和去重

UNION = UNION ALL + SORT UNIQUE

//////////////////////////////////////////////////////////////////////////////


HONG@pdb1> select * from table(dbms_xplan.display_cursor(null,null,'advanced -PROJECTION -bytes iostats,last'));

PLAN_TABLE_OUTPUT

SQL_ID  16d3d07tqwyd9, child number 0
-------------------------------------
select empno,ename from emp union all select empno,ename from emp_temp

Plan hash value: 1940079451

-----------------------------------------------------------------------------------------------------------------
| Id  | Operation          | Name     | Starts | E-Rows | Cost (%CPU)| E-Time   | A-Rows |   A-Time   | Buffers |
-----------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT   |          |      1 |        |     6 (100)|          |     23 |00:00:00.01 |      11 |
|   1 |  UNION-ALL         |          |      1 |        |            |          |     23 |00:00:00.01 |      11 |
|   2 |   TABLE ACCESS FULL| EMP      |      1 |     14 |     3   (0)| 00:00:01 |     14 |00:00:00.01 |       8 |
|   3 |   TABLE ACCESS FULL| EMP_TEMP |      1 |      9 |     3   (0)| 00:00:01 |      9 |00:00:00.01 |       3 |
-----------------------------------------------------------------------------------------------------------------



///////// UNION-ALL 对表EMP/EMP_TEMP全表扫描后的结果集进行UNION ALL 14条数据+9条数据


select empno,ename from emp union select empno,ename from emp_temp

Plan hash value: 1715351447

------------------------------------------------------------------------------------------------------------------
| Id  | Operation           | Name     | Starts | E-Rows | Cost (%CPU)| E-Time   | A-Rows |   A-Time   | Buffers |
------------------------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT    |          |      1 |        |     8 (100)|          |     14 |00:00:00.01 |       9 |
|   1 |  SORT UNIQUE        |          |      1 |     23 |     8  (25)| 00:00:01 |     14 |00:00:00.01 |       9 |
|   2 |   UNION-ALL         |          |      1 |        |            |          |     23 |00:00:00.01 |       9 |
|   3 |    TABLE ACCESS FULL| EMP      |      1 |     14 |     3   (0)| 00:00:01 |     14 |00:00:00.01 |       7 |
|   4 |    TABLE ACCESS FULL| EMP_TEMP |      1 |      9 |     3   (0)| 00:00:01 |      9 |00:00:00.01 |       2 |
------------------------------------------------------------------------------------------------------------------


///////// UNION ALL+ SORT UNIQUE 合并排序和去重 14条+9条合并后23条 再排序去重变14条




